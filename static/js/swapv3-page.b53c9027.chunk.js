(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[31],{"./src/components/Dots.tsx":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=r},"./src/pages/SwapV3/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return pn}));var r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),c=n("./node_modules/@lingui/react/esm/index.js"),a=n("./node_modules/@lingui/core/esm/index.js"),o=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),d=n("./node_modules/querystring-es3/index.js"),l=n("./node_modules/react/index.js"),u=n.n(l),b=n("./node_modules/react-loading-skeleton/dist/index.mjs"),j=n("./node_modules/react-router/dist/index.js"),p=n("./node_modules/rebass/dist/index.esm.js"),O=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/play_circle_outline.svg"),m=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/routing-icon.svg"),h=n("./src/components/Banner/index.tsx"),g=n("./src/components/Icons/TransactionSettingsIcon.tsx"),v=n("./src/components/Row/index.tsx"),f=n("./src/components/SEO/index.tsx"),y=n("./src/components/ShareModal/index.tsx"),S=n("./src/components/SwitchLocaleLink/index.tsx"),w=n("./src/components/TokenWarningModal/index.tsx"),I=n("./src/components/Tooltip/index.tsx"),C=n("./src/components/TopTrendingSoonTokensInCurrentNetwork/index.tsx"),k=n("./src/components/Tutorial/index.tsx"),T=n("./src/components/Tutorial/TutorialSwap/index.tsx"),A=n("./src/components/Tutorial/TutorialSwap/constant.ts"),_=n("./src/components/swapv2/GasPriceTrackerPanel.tsx"),P=n("./src/components/swapv2/LimitOrder/index.tsx"),N=n("./src/components/swapv2/LimitOrder/ListOrder/index.tsx"),R=n("./src/components/swapv2/LiquiditySourcesPanel/index.tsx"),E=n("./src/components/swapv2/MobileTokenInfo.tsx"),L=n("./src/components/swapv2/PairSuggestion/index.tsx"),W=n("./src/components/swapv2/SwapSettingsPanel/index.tsx"),M=n("./src/components/swapv2/TokenInfo.tsx"),U=n("./src/components/swapv2/TokenInfoV2/index.tsx"),z=n("./src/components/swapv2/styleds.tsx"),B=n("./src/constants/index.ts"),D=n("./src/hooks/index.ts"),V=n("./src/hooks/Tokens.ts"),G=n("./src/hooks/useMixpanel.ts"),F=n("./src/hooks/useParsedQueryString.ts"),H=n("./src/hooks/useTheme.ts"),q=n("./src/pages/AppBody.tsx"),$=n("./src/state/limit/hooks.ts"),K=n("./src/state/swap/actions.ts"),Y=n("./src/state/swap/hooks.ts"),Q=n("./src/state/tutorial/hooks.ts"),X=n("./src/state/user/hooks.tsx"),J=n("./src/utils/index.ts"),Z=n("./src/utils/aggregationRouting.ts"),ee=n("./src/utils/currencyId.ts"),te=n("./src/utils/string.ts"),ne=n("./src/utils/tokenInfo.ts"),re=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),se=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),ie=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),ce=n("./node_modules/lodash/lodash.js"),ae=n("./src/services/route/index.ts"),oe=n("./src/state/customizeDexes/hooks.ts"),de=()=>{var e=Object(oe.a)(),t=Object(oe.b)(),n=Object(s.a)(t,1)[0],r=null===e||void 0===e?void 0:e.filter((e=>!n.includes(e.id))).map((e=>e.id));return(null===r||void 0===r?void 0:r.length)===(null===e||void 0===e?void 0:e.length)?"":(null===r||void 0===r?void 0:r.join(",").replace("kyberswapv1","kyberswap,kyberswap-static"))||""},le=n("./src/constants/networks.ts"),ue=n("./src/hooks/useKyberSwapConfig.ts"),be=e=>e.isNative?Object(le.q)(e.chainId)?B.I:o.WETH[e.chainId].address:e.wrapped.address,je=e=>{var t=ae.b.useLazyGetRouteQuery(),n=Object(s.a)(t,2),r=n[0],i=n[1],c=Object(ue.b)().aggregatorDomain,a=e.isSaveGas,o=e.parsedAmount,d=e.currencyIn,u=e.currencyOut,b=e.feeConfig,j=Object(D.b)().chainId,p=de(),O=b||{},x=O.chargeFeeBy,m=void 0===x?"":x,h=O.feeReceiver,g=void 0===h?"":h,v=O.feeAmount,f=void 0===v?"":v,y=void 0!==(null===b||void 0===b?void 0:b.isInBps)?b.isInBps?"1":"0":"",S=Object(l.useMemo)((()=>Object(ce.debounce)(r,B.L)),[r]);return{fetcher:Object(l.useCallback)(Object(ie.a)(Object(se.a)().mark((function e(){var t,n,r,s,i,l,b;return Object(se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(null===o||void 0===o||null===(t=o.quotient)||void 0===t?void 0:t.toString())||"",d&&u&&r&&null!==o&&void 0!==o&&null!==(n=o.currency)&&void 0!==n&&n.equals(d)){e.next=3;break}return e.abrupt("return",void 0);case 3:return s=be(d),i=be(u),l={tokenIn:s,tokenOut:i,amountIn:r,saveGas:String(a),includedSources:p,gasInclude:"true",gasPrice:"",feeAmount:f,chargeFeeBy:m,isInBps:y,feeReceiver:g},Object.keys(l).forEach((e=>{l[e]||delete l[e]})),b="".concat(c,"/").concat(le.h[j].aggregatorRoute,"/api/v1/routes"),S({url:b,params:l}),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)}))),[c,j,m,d,u,p,f,g,y,a,null===o||void 0===o?void 0:o.currency,null===o||void 0===o?void 0:o.quotient,S]),result:i}},pe=n("./node_modules/jsbi/dist/jsbi-umd.js"),Oe=n.n(pe),xe=(e,t)=>{var n="number"===typeof t?Object(J.a)(t):t,r=new o.Fraction(Oe.a.BigInt(1)).add(n).invert().multiply(e.quotient).quotient;return o.TokenAmount.fromRawAmount(e.currency,r)},me=function(e,t){try{return o.TokenAmount.fromRawAmount(e,Oe.a.BigInt(t))}catch(n){return o.TokenAmount.fromRawAmount(e,0)}},he=(e,t)=>t?100*(e-t)/e:NaN,ge=n("./src/components/AddressInputPanel/index.tsx"),ve=n("./src/components/SlippageWarningNote/index.tsx"),fe=n("./src/components/CurrencyInputPanel/index.tsx"),ye=n("./node_modules/react/jsx-runtime.js"),Se=["children"],we=Object(l.createContext)(void 0),Ie=e=>{var t=e.children,n=Object(r.a)(e,Se);return Object(ye.jsx)(we.Provider,{value:n,children:t})},Ce=()=>{var e=Object(l.useContext)(we);if(!e)throw new Error("hook is used outside of SwapFormContext");return e},ke=n("./src/hooks/useWrapCallback.ts"),Te=n("./src/utils/maxAmountSpend.ts"),Ae=e=>{var t=e.wrapType,n=e.typedValue,r=e.setTypedValue,s=e.currencyIn,i=e.currencyOut,c=e.balanceIn,a=e.onChangeCurrencyIn,o=Object(D.b)().isSolana,d=Ce().routeSummary,u=o&&t===ke.a.UNWRAP,b=t!==ke.a.NOT_APPLICABLE?void 0:d;return Object(l.useEffect)((()=>{var e;u&&r(null!==(e=null===c||void 0===c?void 0:c.toExact())&&void 0!==e?e:"")}),[c,u,r]),Object(ye.jsx)(fe.g,{value:n,positionMax:"top",currency:s,onUserInput:r,onMax:u?null:()=>{var e,t=null===(e=Object(Te.b)(c))||void 0===e?void 0:e.toExact();r(t||"")},onHalf:u?null:()=>{var e,t=null===(e=Object(Te.a)(c))||void 0===e?void 0:e.toExact();r(t||"")},onCurrencySelect:a,otherCurrency:i,id:"swap-currency-input",showCommonBases:!0,estimatedUsd:null!==b&&void 0!==b&&b.amountInUsd?"".concat(Object(J.i)(b.amountInUsd.toString(),!0)):void 0})},_e=e=>{var t=e.wrapType,n=e.parsedAmountIn,r=e.parsedAmountOut,s=e.currencyIn,i=e.currencyOut,c=e.amountOutUsd,a=e.onChangeCurrencyOut,o=t!==ke.a.NOT_APPLICABLE;return Object(ye.jsx)(fe.g,{disabledInput:!0,value:o?(null===n||void 0===n?void 0:n.toExact())||"":r?Number(r.toFixed(r.currency.decimals)).toString():"",onMax:null,onHalf:null,currency:i,onCurrencySelect:a,otherCurrency:s,id:"swap-currency-output",showCommonBases:!0,estimatedUsd:(()=>{if(!o)return c?"".concat(Object(J.i)(c.toString(),!0)):void 0})()})},Pe=n("./src/components/SwapForm/SlippageSetting.tsx"),Ne=e=>{var t=e.recipient,n=e.routeSummary,r=e.slippage,s=e.transactionTimeout,i=Object(D.b)(),c=i.chainId,o=i.account,d=Object(l.useRef)(new AbortController),u=Object(ue.b)().aggregatorDomain;return Object(l.useCallback)(Object(ie.a)(Object(se.a)().mark((function e(){var i,l,b;return Object(se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",{error:a.a._("Wallet is not connected")});case 2:if(n){e.next=4;break}return e.abrupt("return",{error:a.a._("Route summary is missing")});case 4:return i={routeSummary:n,deadline:Math.floor(Date.now()/1e3)+s,slippageTolerance:r,sender:o,recipient:t||o,source:"kyberswap",skipSimulateTx:!1},e.prev=5,d.current.abort(),d.current=new AbortController,l="".concat(u,"/").concat(le.h[c].aggregatorRoute,"/api/v1/route/build"),e.next=11,Object(ae.a)(l,i,d.current.signal);case 11:return b=e.sent,e.abrupt("return",{data:b});case 15:return e.prev=15,e.t0=e.catch(5),e.abrupt("return",{error:e.t0.message||a.a._("Something went wrong")});case 18:case"end":return e.stop()}}),e,null,[[5,15]])}))),[o,u,c,t,n,r,s])},Re=n("./src/constants/tokens.ts"),Ee=(e,t)=>{var n=Object(D.b)().chainId;return Boolean(n&&e&&t&&Re.l[n].includes(e.wrapped.address)&&Re.l[n].includes(t.wrapped.address))},Le=n("./src/hooks/useENS.ts"),We=e=>{var t,n,r,s,i,c=e.typedValue,o=e.recipient,d=e.currencyIn,l=e.currencyOut,u=e.parsedAmountFromTypedValue,b=e.balanceIn,j=Object(D.b)(),p=j.account,O=j.chainId,x=Object(Le.a)(null!==o&&void 0!==o?o:void 0),m=null!==(t=null===o||""===o?p:x.address)&&void 0!==t?t:null;(p||(n=a.a._("Connect wallet")),u)||(n=c?null!==(r=n)&&void 0!==r?r:a.a._("Invalid amount"):null!==(s=n)&&void 0!==s?s:a.a._("Enter an amount"));d&&l||(n=null!==(i=n)&&void 0!==i?i:a.a._("Select a token"));var h,g,v=Object(J.s)(O,m);m&&v?-1!==B.j.indexOf(v)&&(n=null!==(h=n)&&void 0!==h?h:a.a._("Invalid recipient")):n=null!==(g=n)&&void 0!==g?g:a.a._("Enter a recipient");return u&&(b&&b.lessThan(u)||!b)&&(n=a.a._("Insufficient {0} balance",{0:u.currency.symbol})),n},Me=(e,t)=>Object(l.useMemo)((()=>Object(Y.b)(t,e)),[t,e]),Ue=n("./src/components/TrendingSoonTokenBanner/index.tsx"),ze=n("./src/components/swapv2/TradePrice.tsx"),Be=n("./src/components/SwapForm/PriceImpactNote.tsx"),De=u.a.forwardRef(((e,t)=>{var n=Object(H.a)();return Object(ye.jsxs)("svg",{ref:t,id:"arrow_loading",xmlns:"http://www.w3.org/2000/svg",viewBox:"2 2 20 20",className:"arrow-loading",width:"20",height:"20",color:n.subText,children:[Object(ye.jsx)("path",{stroke:"none",fill:n.disableText,d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),Object(ye.jsxs)("defs",{children:[Object(ye.jsx)("path",{id:"arrow",stroke:"none",fill:"none",d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),Object(ye.jsx)("clipPath",{id:"arrow-clip",children:Object(ye.jsx)("use",{xlinkHref:"#arrow"})})]}),Object(ye.jsx)("g",{clipPath:"url(#arrow-clip)",children:Object(ye.jsx)("circle",{cx:"12",cy:"12",r:"5",transform:"rotate(365,12,12)",fill:"none",stroke:"currentColor",strokeWidth:"16",strokeDasharray:"30",strokeDashoffset:"0",children:Object(ye.jsx)("animate",{attributeName:"stroke-dashoffset",values:"0;-30",begin:e.clickable?"arrow_loading.click; 0.7s":"0s",repeatCount:"indefinite",dur:"".concat(e.durationInSeconds,"s")})})}),Object(ye.jsx)("use",{xlinkHref:"#arrow"}),Object(ye.jsx)("animateTransform",{id:"transform_0",attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 0 0",to:"-10 0 0",dur:"0.07s",begin:e.clickable?"arrow_loading.click;":"transform_0.start",repeatCount:"1"}),Object(ye.jsx)("animateTransform",{id:"transform_1",attributeName:"transform",attributeType:"XML",type:"rotate",from:"-45 0 0",to:"390 0 0",dur:"0.6s",begin:"transform_0.end",repeatCount:"1"}),Object(ye.jsx)("animateTransform",{id:"transform_2",attributeName:"transform",attributeType:"XML",type:"rotate",from:"390 0 0",to:"360 0 0",dur:"0.15s",begin:"transform_1.end",repeatCount:"1"})]})}));De.displayName="LoadingIcon";var Ve=De,Ge=O.default.button.withConfig({displayName:"RefreshButton__IconButton",componentId:"sc-1apwcu4-0"})(["position:relative;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;margin:0;padding:0;border-radius:999px;cursor:default;outline:none;:hover{cursor:default;outline:none;}"]),Fe=e=>{var t=e.shouldDisable,n=e.callback,r=Object(l.useRef)(null);return Object(l.useEffect)((()=>{var e,s=null===r||void 0===r?void 0:r.current;if(s)return t?(s.setCurrentTime(0),s.pauseAnimations()):(s.setCurrentTime(0),s.unpauseAnimations(),n(),e=setInterval((()=>{n()}),1e3*B.ab)),()=>{clearInterval(e)}}),[n,t]),Object(ye.jsx)(Ge,{onClick:()=>{B.G&&n()},children:Object(ye.jsx)(Ve,{ref:r,clickable:B.G,durationInSeconds:B.ab})})},He=n("./src/components/ArrowRotate.tsx"),qe=e=>{var t=e.onClick,n=Object(l.useState)(!1),r=Object(s.a)(n,2),i=r[0],c=r[1];return Object(ye.jsx)(He.b,{rotate:i,onClick:()=>{t(),c((e=>!e))}})},$e=n("./src/components/Button/index.tsx"),Ke=n("./src/components/Column/index.tsx"),Ye=n("./src/components/Loader/index.tsx"),Qe=n("./src/components/ProgressSteps/index.tsx"),Xe=n("./src/components/Modal/index.tsx"),Je=n("./src/components/TransactionConfirmationModal/index.tsx"),Ze=n("./node_modules/polished/dist/polished.esm.js"),et=n("./node_modules/react-feather/dist/icons/check.js"),tt=n("./node_modules/react-feather/dist/icons/alert-triangle.js"),nt=n("./src/components/Card/index.tsx"),rt=n("./src/theme/components.tsx"),st=n("./src/utils/prices.ts"),it=n("./src/utils/slippage.ts"),ct=n("./node_modules/react-feather/dist/icons/arrow-down.js"),at=n("./src/components/CurrencyLogo/index.tsx"),ot=n("./src/components/InfoHelper/index.tsx"),dt=Object(O.default)(Ke.a).attrs((e=>({"data-level":e.$level}))).withConfig({displayName:"UpdatedBadge__BadgeWrapper",componentId:"sc-1kiyc6k-0"})(["display:flex;align-items:center;gap:4px;padding:4px 8px;border-radius:36px;line-height:1;font-size:12px;font-weight:500;&[data-level='worse']{background-color:",";color:",";}&[data-level='better']{background-color:",";color:",";}"],(e=>{var t=e.theme;return Object(Ze.g)(.9,t.warning)}),(e=>e.theme.warning),(e=>{var t=e.theme;return Object(Ze.g)(.9,t.primary)}),(e=>e.theme.primary)),lt=e=>{var t=e.$level,n=Object(H.a)();return t?Object(ye.jsxs)(dt,{$level:t,children:["better"===t&&Object(ye.jsx)(ot.a,{placement:"top",size:14,color:n.primary,style:{marginLeft:0},width:"fit-content",text:Object(ye.jsx)(c.b,{id:"<0>We got you a better price!</0>",components:{0:Object(ye.jsx)("i",{})}})}),Object(ye.jsx)(c.b,{id:"Updated"})]}):null},ut=Object(O.default)(p.d).withConfig({displayName:"SwapBrief__TruncatedText",componentId:"sc-2bbdr0-0"})(["text-overflow:ellipsis;overflow:hidden;font-size:24px;font-weight:500;"]),bt=e=>{var t=e.inputAmount,n=e.outputAmountFromBuild,r=e.$level,s=e.isLoading,i=e.currencyOut,c=Object(H.a)(),a=Ce(),o=a.typedValue,d=a.feeConfig;return Object(ye.jsxs)(Ke.a,{gap:"md",style:{marginTop:"20px",padding:"0 8px"},children:[Object(ye.jsxs)(p.b,{alignItems:"center",width:"100%",sx:{gap:"8px"},children:[Object(ye.jsx)(at.a,{currency:t.currency,size:"24px"}),Object(ye.jsx)(ut,{children:d?o:t.toSignificant(6)}),Object(ye.jsx)(p.d,{flex:"0 0 fit-content",fontSize:24,fontWeight:500,children:t.currency.symbol})]}),Object(ye.jsx)(v.d,{children:Object(ye.jsx)(ct.a,{size:"16",color:c.text2,style:{marginLeft:"4px",minWidth:"16px"}})}),Object(ye.jsxs)(p.b,{alignItems:"center",width:"100%",sx:{gap:"8px"},children:[Object(ye.jsxs)(p.b,{alignItems:"center",flex:"1 1 0",sx:{gap:"8px"},children:[Object(ye.jsx)(at.a,{currency:i,size:"24px"}),s?Object(ye.jsx)(b.a,{width:"120px",height:"22px",baseColor:c.border,highlightColor:c.buttonGray,borderRadius:"0.5rem"}):n?Object(ye.jsx)(ut,{children:n.toSignificant(6)||"--"}):"--",Object(ye.jsx)(p.d,{flex:"0 0 fit-content",fontSize:24,fontWeight:500,children:i.symbol})]}),Object(ye.jsx)(lt,{$level:r})]})]})},jt=n("./node_modules/react-feather/dist/icons/repeat.js"),pt=n("./src/components/Dots.tsx"),Ot=n("./src/theme/index.tsx"),xt=()=>{var e=Object(H.a)(),t=Ce(),n=t.slippage,r=t.isStablePairSwap,s=Object(it.b)(n,r);return Object(ye.jsx)(Ot.l.black,{fontSize:14,color:s?e.warning:void 0,children:Object(it.c)(n)})},mt=e=>{var t=e.content,n=e.isShowingSkeleton,r=e.skeletonStyle,s=Object(H.a)();return n?Object(ye.jsx)(b.a,{style:r,height:"16px",baseColor:s.border,highlightColor:s.buttonGray,borderRadius:"5rem"}):Object(ye.jsx)(ye.Fragment,{children:t})},ht=n("./src/utils/fee.ts");function gt(e,t){var n,r;if(!e)return"";var s=null===(n=e.baseCurrency)||void 0===n?void 0:n.symbol,i=null===(r=e.quoteCurrency)||void 0===r?void 0:r.symbol;return t?"".concat(e.invert().toSignificant(6,void 0,o.Rounding.ROUND_DOWN)," ").concat(s," / ").concat(i):"".concat(e.toSignificant(6,void 0,o.Rounding.ROUND_DOWN)," ").concat(i," / ").concat(s)}var vt,ft,yt=O.default.div.withConfig({displayName:"SwapDetails__StatusWrapper",componentId:"sc-1vomb2m-0"})(["width:100%;height:40px;"]),St=e=>{var t=e.isLoading,n=e.hasError,r=e.gasUsd,i=e.parsedAmountOut,o=e.executionPrice,d=e.amountInUsd,u=e.priceImpact,b=Object(D.b)(),j=b.isSolana,O=b.isEVM,x=Object(l.useState)(!1),m=Object(s.a)(x,2),h=m[0],g=m[1],f=Object(H.a)(),y=Ce(),S=y.feeConfig,w=y.slippage,I=Object(ht.b)(Number(d||0),null===S||void 0===S?void 0:S.feeAmount),C=i?xe(i,w):void 0,k=null===i||void 0===i?void 0:i.currency,T=C&&k?Object(ye.jsxs)(p.d,{as:"span",sx:{color:f.text,fontWeight:"bold",whiteSpace:"nowrap"},children:[Object(J.i)(C.toSignificant(6),!1,6)," ",k.symbol]}):"",A=Object(st.a)(u);return Object(ye.jsxs)(ye.Fragment,{children:[t?Object(ye.jsx)(yt,{children:Object(ye.jsxs)(p.b,{width:"100%",height:"100%",padding:"0 10px",alignItems:"center",sx:{borderRadius:"24px",background:f.buttonBlack,gap:"8px"},children:[Object(ye.jsx)(Ye.a,{size:"20px",stroke:f.primary}),Object(ye.jsx)(p.d,{as:"span",fontSize:"12px",color:f.primary,fontStyle:"italic",children:Object(ye.jsx)(pt.a,{children:Object(ye.jsx)(c.b,{id:"Checking the price"})})})]})}):n?Object(ye.jsx)(yt,{children:Object(ye.jsxs)(p.b,{width:"100%",height:"100%",padding:"12px",alignItems:"center",sx:{borderRadius:"24px",background:Object(Ze.d)(f.warning,.25),gap:"8px"},children:[Object(ye.jsx)(tt.a,{color:f.warning,size:16}),Object(ye.jsx)(p.d,{as:"span",color:f.warning,fontSize:"12px",children:Object(ye.jsx)(c.b,{id:"Something went wrong. Please try again"})})]})}):Object(ye.jsx)(yt,{children:Object(ye.jsxs)(Ot.l.subHeader,{textAlign:"left",style:{width:"100%",color:f.subText,fontStyle:"italic"},children:[T&&Object(ye.jsx)(c.b,{id:"Output is estimated. You will receive at least {minimumAmountOutStr} or the transaction will revert.",values:{minimumAmountOutStr:T}}),j&&Object(ye.jsx)(c.b,{id:"We may send multiple transactions to complete the swap."})]})}),Object(ye.jsxs)(Ke.a,{gap:"0.5rem",style:{padding:"1rem",border:"1px solid ".concat(f.border),borderRadius:"8px"},children:[Object(ye.jsxs)(v.b,{align:"center",height:"20px",children:[Object(ye.jsx)(p.d,{fontWeight:400,fontSize:14,color:f.subText,children:Object(ye.jsx)(c.b,{id:"Current Price"})}),Object(ye.jsx)(mt,{skeletonStyle:{width:"160px"},isShowingSkeleton:t,content:o?Object(ye.jsxs)(p.b,{fontWeight:500,fontSize:14,color:f.text,sx:{justifyContent:"center",alignItems:"center",textAlign:"right",paddingLeft:"10px"},children:[gt(o,h),Object(ye.jsx)(z.p,{onClick:()=>g(!h),children:Object(ye.jsx)(jt.a,{size:14,color:f.text})})]}):Object(ye.jsx)(Ot.l.black,{fontSize:14,children:"--"})})]}),Object(ye.jsxs)(v.b,{align:"center",height:"20px",children:[Object(ye.jsxs)(v.d,{children:[Object(ye.jsx)(Ot.l.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ye.jsx)(c.b,{id:"Minimum Received"})}),Object(ye.jsx)(ot.a,{placement:"top",size:14,text:a.a._("You will receive at least this amount or your transaction will revert")})]}),Object(ye.jsx)(mt,{skeletonStyle:{width:"108px"},isShowingSkeleton:t,content:Object(ye.jsx)(Ot.l.black,{fontSize:14,children:T||"--"})})]}),O&&Object(ye.jsxs)(v.b,{height:"20px",children:[Object(ye.jsxs)(v.d,{children:[Object(ye.jsx)(Ot.l.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ye.jsx)(c.b,{id:"Gas Fee"})}),Object(ye.jsx)(ot.a,{placement:"top",size:14,text:a.a._("Estimated network fee for your transaction")})]}),Object(ye.jsx)(mt,{skeletonStyle:{width:"64px"},isShowingSkeleton:t,content:Object(ye.jsx)(Ot.l.black,{color:f.text,fontSize:14,children:r?Object(J.i)(String(r),!0):"--"})})]}),Object(ye.jsxs)(v.b,{children:[Object(ye.jsxs)(v.d,{children:[Object(ye.jsx)(Ot.l.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ye.jsx)(c.b,{id:"Price Impact"})}),Object(ye.jsx)(ot.a,{placement:"top",size:14,text:a.a._("Estimated change in price due to the size of your transaction")})]}),Object(ye.jsx)(mt,{skeletonStyle:{width:"64px"},isShowingSkeleton:t,content:Object(ye.jsx)(Ot.l.black,{fontSize:14,color:A.isVeryHigh?f.red:A.isHigh?f.warning:f.text,children:A.isInvalid||"number"!==typeof u?"--":Object(st.e)(u)})})]}),Object(ye.jsxs)(v.b,{height:"20px",children:[Object(ye.jsx)(v.d,{children:Object(ye.jsx)(Ot.l.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ye.jsx)(c.b,{id:"Max Slippage"})})}),Object(ye.jsx)(xt,{})]}),S&&Object(ye.jsxs)(v.b,{children:[Object(ye.jsxs)(v.d,{children:[Object(ye.jsx)(Ot.l.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ye.jsx)(c.b,{id:"Referral Fee"})}),Object(ye.jsx)(ot.a,{size:14,text:a.a._("Commission fee to be paid directly to your referrer")})]}),Object(ye.jsx)(Ot.l.black,{color:f.text,fontSize:14,children:I})]})]})]})},wt=O.default.div.withConfig({displayName:"ConfirmSwapModalContent__Wrapper",componentId:"sc-1jlm04y-0"})(["display:flex;flex-direction:column;width:100%;padding:24px;gap:16px;border-radius:20px;"]),It=O.default.div.withConfig({displayName:"ConfirmSwapModalContent__PriceUpdateWarning",componentId:"sc-1jlm04y-1"})(["margin-top:1rem;border-radius:999px;padding:8px 12px;display:flex;align-items:center;gap:8px;font-size:12px;background:",";color:",";"],(e=>{var t=e.$level,n=e.theme;return e.isAccepted?Object(Ze.g)(.8,n.subText):"warning"===t?Object(Ze.g)(.7,n.warning):Object(Ze.g)(.7,n.red)}),(e=>{var t=e.theme;return e.isAccepted?t.subText:t.text})),Ct=e=>{var t,n,r,i,a=e.buildResult,d=e.isBuildingRoute,u=e.errorWhileBuildRoute,b=e.onDismiss,j=e.onSwap,O=e.onRetry,x=Object(H.a)(),m=Object(D.b)().isSolana,h=Object(Y.e)(),g=Object(s.a)(h,1)[0],f=Ce(),y=f.routeSummary,S=f.slippage,w=f.isStablePairSwap,I=f.isAdvancedMode,C=Object(l.useState)(!1),k=Object(s.a)(C,2),T=k[0],A=k[1],_=d||!!u,P=Object(it.b)(S,w),N=null!==a&&void 0!==a&&a.data?he(Number((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.amountInUsd)||0),Number((null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.amountOutUsd)||0)):void 0,R=Object(st.a)(N),E=Number(null===a||void 0===a||null===(r=a.data)||void 0===r||null===(i=r.outputChange)||void 0===i?void 0:i.amount)||0,L=R.isVeryHigh||R.isInvalid?{background:x.red}:R.isHigh||P?{background:x.warning}:void 0,W=!I&&(R.isVeryHigh||R.isInvalid),M=E<0&&!T||_||W;return Object(ye.jsxs)(wt,{children:[Object(ye.jsxs)(Ke.a,{children:[Object(ye.jsxs)(v.b,{children:[Object(ye.jsx)(p.d,{fontWeight:500,fontSize:20,children:Object(ye.jsx)(c.b,{id:"Confirm Swap"})}),Object(ye.jsx)(rt.b,{onClick:b})]}),E<0&&Object(ye.jsxs)(It,{$level:R.isVeryHigh?"error":"warning",isAccepted:T,children:[T?Object(ye.jsx)(et.a,{size:20}):Object(ye.jsx)(tt.a,{color:R.isVeryHigh||R.isInvalid?x.red:x.warning,size:16}),Object(ye.jsx)(p.d,{flex:1,children:T?Object(ye.jsx)(c.b,{id:"New Price Accepted"}):Object(ye.jsx)(c.b,{id:"Your price has been updated. Please accept the new price before proceeding with the swap"})})]}),(()=>{if(!y)return null;var e=y.parsedAmountIn,t=0,n=void 0;if(null!==a&&void 0!==a&&a.data){var r=a.data,s=r.amountIn,i=r.amountOut;e=me(y.parsedAmountIn.currency,s),n=me(y.parsedAmountOut.currency,i);var c=(a.data.outputChange||{}).amount;t=Number(c)}return Object(ye.jsx)(bt,{$level:t>0?"better":t<0?"worse":void 0,inputAmount:e,outputAmountFromBuild:n,currencyOut:y.parsedAmountOut.currency,isLoading:d})})()]}),Object(ye.jsx)(St,Object(re.a)({},(()=>{if(null===a||void 0===a||!a.data||!y)return{isLoading:d,hasError:!!u,gasUsd:void 0,executionPrice:void 0,parsedAmountOut:void 0,amountInUsd:void 0,priceImpact:void 0};var e=a.data,t=e.amountIn,n=e.amountInUsd,r=e.amountOut,s=e.gasUsd,i=me(y.parsedAmountIn.currency,t),c=me(y.parsedAmountOut.currency,r),l=new o.Price(i.currency,c.currency,i.quotient,c.quotient);return{isLoading:d,hasError:!!u,gasUsd:s,executionPrice:l,parsedAmountOut:c,amountInUsd:n,priceImpact:N}})())),Object(ye.jsxs)(p.b,{sx:{flexDirection:"column",gap:"0.75rem"},children:[Object(ye.jsx)(ve.a,{rawSlippage:S,isStablePairSwap:w}),Object(ye.jsx)(Be.a,{isAdvancedMode:I,priceImpact:N}),m&&!g?Object(ye.jsx)(nt.c,{style:{textAlign:"center",borderRadius:"999px",padding:"12px"},id:"confirm-swap-or-send",children:Object(ye.jsx)(z.e,{children:Object(ye.jsx)(c.b,{id:"Checking accounts"})})}):u?Object(ye.jsx)($e.i,{onClick:O,children:Object(ye.jsx)(p.d,{fontSize:14,fontWeight:500,as:"span",lineHeight:1,children:Object(ye.jsx)(c.b,{id:"Try again"})})}):Object(ye.jsxs)(p.b,{sx:{gap:"8px",width:"100%"},children:[E<0&&Object(ye.jsx)($e.i,{style:T?void 0:{backgroundColor:R.isVeryHigh||R.isInvalid?x.red:x.warning},onClick:()=>A(!0),disabled:T,children:"Accept New Price"}),Object(ye.jsx)($e.i,{onClick:j,disabled:M,id:"confirm-swap-or-send",style:M?void 0:L,children:Object(ye.jsx)(p.d,{fontSize:14,fontWeight:500,as:"span",lineHeight:1,children:Object(ye.jsx)(c.b,{id:"Confirm Swap"})})})]})]})]})},kt=e=>{var t,n,r,i,c=e.isOpen,d=e.tokenAddToMetaMask,u=e.onDismiss,b=e.swapCallback,j=e.buildResult,p=e.isBuildingRoute,O=e.onRetryBuild,x=Object(D.b)().chainId,m=Object(l.useState)({error:"",isAttemptingTx:!1,txHash:""}),h=Object(s.a)(m,2),g=h[0],v=g.error,f=g.isAttemptingTx,y=g.txHash,S=h[1],w=Ce().routeSummary,I=null===w||void 0===w||null===(t=w.parsedAmountIn)||void 0===t?void 0:t.currency,C=null===w||void 0===w||null===(n=w.parsedAmountOut)||void 0===n?void 0:n.currency,k=C&&o.CurrencyAmount.fromRawAmount(C,(null===j||void 0===j||null===(r=j.data)||void 0===r?void 0:r.amountOut)||"0"),T="Swapping ".concat(null===w||void 0===w||null===(i=w.parsedAmountIn)||void 0===i?void 0:i.toSignificant(6)," ").concat(null===I||void 0===I?void 0:I.symbol," for ").concat(null===k||void 0===k?void 0:k.toSignificant(6)," ").concat(null===C||void 0===C?void 0:C.symbol),A=Object(l.useCallback)((()=>{u(),S({error:"",isAttemptingTx:!1,txHash:""})}),[u]),_=e=>{S({error:"",txHash:e,isAttemptingTx:!1})},P=e=>{S({error:e,txHash:"",isAttemptingTx:!1})},N=function(){var e=Object(ie.a)(Object(se.a)().mark((function e(){var t;return Object(se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return S({error:"",isAttemptingTx:!0,txHash:""}),e.prev=3,e.next=6,b();case 6:t=e.sent,_(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),P(e.t0.message||a.a._("Something went wrong. Please try again"));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((()=>{A()}),[x,A]),Object(ye.jsx)(Xe.b,{isOpen:c,onDismiss:A,maxHeight:90,children:f?Object(ye.jsx)(Je.b,{onDismiss:A,pendingText:T,startedTime:void 0}):y?Object(ye.jsx)(Je.d,{showTxBanner:!0,chainId:x,hash:y,onDismiss:A,tokenAddToMetaMask:d}):v?Object(ye.jsx)(Je.c,{onDismiss:A,message:v}):Object(ye.jsx)(Ct,{isBuildingRoute:p,errorWhileBuildRoute:null===j||void 0===j?void 0:j.error,onDismiss:A,onSwap:N,onRetry:O,buildResult:j})})},Tt=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),At=n("./src/state/transactions/hooks.tsx"),_t=n("./src/state/transactions/type.ts"),Pt=n("./src/utils/formatCurrencyAmount.tsx"),Nt=n("./src/utils/sendTransaction.ts"),Rt=()=>{var e=Object(D.b)(),t=e.account,n=e.chainId,r=e.isEVM,i=Object(D.e)().library,c=Ce(),a=c.typedValue,o=c.feeConfig,d=c.isSaveGas,u=c.recipient,b=c.routeSummary||{},j=b.parsedAmountIn,p=b.parsedAmountOut,O=b.priceImpact,x=Object(X.x)(),m=Object(s.a)(x,1)[0],h=Object(At.g)(),g=Object(Le.a)(u).address,v=null===u||""===u?t:g,f=Object(l.useCallback)((()=>{if(!j||!p)throw new Error('"inputAmount" is undefined.');var e=j.currency.symbol,r=p.currency.symbol,s=j.currency.isNative?B.fb:j.currency.address,i=p.currency.isNative?B.fb:p.currency.address,c=Object(Pt.a)(j,6),l=Object(Pt.a)(p,6),b=o&&"currency_in"===o.chargeFeeBy&&o.isInBps?a:c,x=v===t?void 0:"to ".concat(u&&Object(J.s)(n,u)?Object(J.A)(n,u):u);return{hash:"",type:_t.c.SWAP,extraInfo:{tokenAmountIn:b,tokenAmountOut:l,tokenSymbolIn:e,tokenSymbolOut:r,tokenAddressIn:s,tokenAddressOut:i,arbitrary:{inputSymbol:e,outputSymbol:r,inputAddress:s,outputAddress:i,inputDecimals:j.currency.decimals,outputDecimals:p.currency.decimals,withRecipient:x,saveGas:d,inputAmount:j.toExact(),slippageSetting:m?m/100:0,priceImpact:O&&O>.01?O.toFixed(2):"<0.01"}}}}),[t,m,n,o,j,d,p,O,v,u,a]),y=Object(l.useCallback)((e=>{var t=f();h(Object(re.a)(Object(re.a)({},t),{},{hash:e.hash}))}),[h,f]),S=Object(l.useCallback)(function(){var e=Object(ie.a)(Object(se.a)().mark((function e(n,r){var s,c;return Object(se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&j&&n&&r){e.next=2;break}throw new Error("Missing dependencies");case 2:return s=Tt.a.from(j.currency.isNative?j.quotient.toString():0),e.next=5,Object(Nt.a)(t,i,n,r,s,y);case 5:if(void 0!==(null===(c=e.sent)||void 0===c?void 0:c.hash)){e.next=8;break}throw new Error("sendTransaction returned undefined.");case 8:return e.abrupt("return",null===c||void 0===c?void 0:c.hash);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,y,j,i]);return r?S:null},Et=Object(O.default)($e.i).attrs({id:"swap-button"}).withConfig({displayName:"SwapOnlyButton__CustomPrimaryButton",componentId:"sc-5l9qp8-0"})(["border:none;font-weight:500;&:disabled{border:none;}width:",";"],(e=>e.$minimal?"48%":"100%")),Lt=e=>{var t=e.minimal,n=e.isAdvancedMode,r=e.routeSummary,i=e.isGettingRoute,a=e.isProcessingSwap,o=e.isDisabled,d=e.currencyIn,u=e.currencyOut,b=e.balanceIn,j=e.balanceOut,p=e.parsedAmount,O=e.setProcessingSwap,x=e.setErrorWhileSwap,m=e.buildRoute,h=Object(D.b)().isSolana,g=Object(Y.e)(),v=Object(s.a)(g,1)[0],f=Object(H.a)(),y=Object(G.c)({[K.a.INPUT]:d,[K.a.OUTPUT]:u}).mixpanelHandler,S=Object(l.useState)(),w=Object(s.a)(S,2),I=w[0],C=w[1],k=Object(l.useState)(!1),T=Object(s.a)(k,2),A=T[0],_=T[1],P=(r||{}).priceImpact,N=Rt(),R=Object(st.a)(P),E=Boolean(d&&u&&p),L=i||A||(!b||!j)&&E,W=function(){var e=Object(ie.a)(Object(se.a)().mark((function e(){var t;return Object(se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&!A){e.next=2;break}return e.abrupt("return");case 2:return O(!0),_(!0),C(void 0),e.next=7,m();case 7:t=e.sent,_(!1),C(t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=()=>{y(G.a.SWAP_INITIATED,{gasUsd:null===r||void 0===r?void 0:r.gasUsd,inputAmount:null===r||void 0===r?void 0:r.parsedAmountIn,priceImpact:null===r||void 0===r?void 0:r.priceImpact}),x(""),W()},U=Object(l.useMemo)((()=>{var e,t;if(null!==I&&void 0!==I&&null!==(e=I.data)&&void 0!==e&&e.data&&null!==I&&void 0!==I&&null!==(t=I.data)&&void 0!==t&&t.routerAddress&&N)return()=>(y(G.a.SWAP_CONFIRMED,{gasUsd:null===r||void 0===r?void 0:r.gasUsd,inputAmount:null===r||void 0===r?void 0:r.parsedAmountIn,priceImpact:null===r||void 0===r?void 0:r.priceImpact}),N(I.data.routerAddress,I.data.data))}),[I,N,r,y]),B=Object(l.useCallback)((()=>{O(!1)}),[O]);return Object(ye.jsxs)(ye.Fragment,{children:[(()=>{if(a)return Object(ye.jsx)(Et,{disabled:!0,$minimal:t,children:Object(ye.jsx)(z.e,{children:Object(ye.jsx)(c.b,{id:"Processing"})})});if(n&&h&&!v)return Object(ye.jsx)(Et,{disabled:!0,$minimal:t,children:Object(ye.jsx)(z.e,{children:Object(ye.jsx)(c.b,{id:"Checking accounts"})})});if(L)return Object(ye.jsx)(Et,{disabled:!0,$minimal:t,children:Object(ye.jsx)(z.e,{children:Object(ye.jsx)(c.b,{id:"Calculating"})})});var e=!n&&(R.isVeryHigh||R.isInvalid),r=o||e;return R.isVeryHigh||R.isInvalid&&n?Object(ye.jsx)(Et,{onClick:M,disabled:r,$minimal:t,style:r?void 0:{background:f.red},children:Object(ye.jsx)(c.b,{id:"Swap Anyway"})}):R.isHigh?Object(ye.jsx)(Et,{onClick:M,$minimal:t,disabled:r,style:o?void 0:{background:f.warning},children:Object(ye.jsx)(c.b,{id:"Swap Anyway"})}):Object(ye.jsx)(Et,{disabled:r,onClick:M,$minimal:t,children:Object(ye.jsx)(c.b,{id:"Swap"})})})(),Object(ye.jsx)(kt,{isOpen:a,tokenAddToMetaMask:u,buildResult:I,isBuildingRoute:A,onDismiss:B,swapCallback:U,onRetryBuild:()=>{x(""),W()}})]})},Wt=n("./src/hooks/useApproveCallback.ts"),Mt=n("./src/state/application/hooks.ts"),Ut=Object(O.default)($e.i).attrs({id:"swap-button"}).withConfig({displayName:"SwapActionButton__CustomPrimaryButton",componentId:"sc-1c55aoo-0"})(["border:none;font-weight:500;&:disabled{border:none;}"]),zt=e=>{var t=e.isAdvancedMode,n=e.isGettingRoute,r=e.isProcessingSwap,i=e.typedValue,a=e.parsedAmountFromTypedValue,o=e.routeSummary,d=e.currencyIn,u=e.currencyOut,b=e.balanceIn,j=e.balanceOut,O=e.swapInputError,x=e.wrapInputError,m=e.wrapType,h=e.setProcessingSwap,g=e.onWrap,f=e.buildRoute,y=Object(D.b)().account,S=Object(l.useState)(""),w=Object(s.a)(S,2),I=w[0],C=w[1],k=o&&!o.route,T=Object(Mt.E)(),A=m!==ke.a.NOT_APPLICABLE,_=Boolean(d&&u&&a&&!a.equalTo(0)),P=Object(Wt.b)(a,null===o||void 0===o?void 0:o.routerAddress),N=Object(s.a)(P,2),R=N[0],E=N[1],L=Object(l.useState)(!1),W=Object(s.a)(L,2),M=W[0],U=W[1];Object(l.useEffect)((()=>{R===Wt.a.PENDING&&U(!0),R===Wt.a.NOT_APPROVED&&U(!1)}),[R,M]),Object(l.useEffect)((()=>{r||U(!1)}),[d,i,r]);var B=!O&&(R===Wt.a.NOT_APPROVED||R===Wt.a.PENDING||M&&R===Wt.a.APPROVED);return Object(l.useEffect)((()=>{C("")}),[i]),Object(ye.jsxs)(ye.Fragment,{children:[(()=>{if(!y)return Object(ye.jsx)($e.g,{onClick:T,children:Object(ye.jsx)(c.b,{id:"Connect Wallet"})});if(x)return Object(ye.jsx)(Ut,{disabled:!0,children:x});if(A)return Object(ye.jsx)(Ut,{onClick:g,children:m===ke.a.WRAP?Object(ye.jsx)(c.b,{id:"Wrap"}):Object(ye.jsx)(c.b,{id:"Unwrap"})});if(_&&k)return Object(ye.jsx)(Ut,{disabled:!0,children:Object(ye.jsx)(c.b,{id:"Insufficient liquidity for this trade"})});if(O)return Object(ye.jsx)(Ut,{disabled:!0,children:O});var e={isAdvancedMode:t,routeSummary:o,isGettingRoute:n,isProcessingSwap:r,currencyIn:d,currencyOut:u,balanceIn:b,balanceOut:j,parsedAmount:a,setProcessingSwap:h,setErrorWhileSwap:C,buildRoute:f,isDisabled:!o||R!==Wt.a.APPROVED};return B?Object(ye.jsxs)(p.b,{sx:{flexDirection:"column",gap:"0.75rem"},children:[Object(ye.jsxs)(v.b,{children:[Object(ye.jsx)($e.b,{onClick:E,disabled:R!==Wt.a.NOT_APPROVED||M,width:"48%",altDisabledStyle:R===Wt.a.PENDING,confirmed:R===Wt.a.APPROVED,style:{border:"none"},children:R===Wt.a.PENDING?Object(ye.jsxs)(v.a,{gap:"6px",justify:"center",children:[Object(ye.jsx)(c.b,{id:"Approving"})," ",Object(ye.jsx)(Ye.a,{stroke:"white"})]}):M&&R===Wt.a.APPROVED?Object(ye.jsx)(c.b,{id:"Approved"}):Object(ye.jsx)(c.b,{id:"Approve ${0}",values:{0:null===d||void 0===d?void 0:d.symbol}})}),Object(ye.jsx)(Lt,Object(re.a)({minimal:!0},e))]}),Object(ye.jsx)(Ke.c,{children:Object(ye.jsx)(Qe.a,{steps:[R===Wt.a.APPROVED]})})]}):Object(ye.jsx)(Lt,Object(re.a)({},e))})(),t&&I?Object(ye.jsx)(z.q,{style:{margin:0,zIndex:"unset"},error:I}):null]})},Bt=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),Dt=n("./src/components/Divider/index.tsx"),Vt=O.default.div.withConfig({displayName:"TradeSummary__IconWrapper",componentId:"sc-1qacajt-0"})(["transform:rotate(",");transition:transform 300ms;"],(e=>e.$flip?"-180deg":"0deg")),Gt=Object(O.default)(Ke.a).withConfig({displayName:"TradeSummary__ContentWrapper",componentId:"sc-1qacajt-1"})(["max-height:",";margin-top:",";transition:margin-top 300ms ease,height 300ms ease;overflow:hidden;"],(e=>e.$expanded?"500px":0),(e=>e.$expanded?"12px":0)),Ft=O.default.div.attrs((e=>({"data-visible":e.$visible,"data-disabled":e.$disabled}))).withConfig({displayName:"TradeSummary__Wrapper",componentId:"sc-1qacajt-2"})(["display:none;padding:0;width:100%;max-width:425px;border-radius:16px;background-color:",";max-height:0;transition:height 300ms ease-in-out,transform 300ms;border:1px solid #18a27a;overflow:hidden;&[data-visible='true']{display:block;padding:12px 16px;max-height:max-content;color:",";}&[data-disabled='true']{color:",";}"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.subText)),Ht=e=>{var t=e.feeConfig,n=e.routeSummary,r=e.slippage,i=Object(H.a)(),o=Object(l.useState)(!0),d=Object(s.a)(o,2),u=d[0],b=d[1],j=Object(l.useState)(!1),O=Object(s.a)(j,2),x=O[0],m=O[1],h=n||{},g=h.amountInUsd,f=h.parsedAmountOut,y=h.priceImpact,S=h.gasUsd,w=!(null===n||void 0===n||!n.route),I=Object(st.a)(y),C=g?Object(ht.b)(Number(g),null===t||void 0===t?void 0:t.feeAmount):0,k=f?xe(f,r):void 0,T=null===f||void 0===f?void 0:f.currency,A=k&&T?Object(ye.jsxs)(p.d,{as:"span",sx:{color:i.text,fontWeight:"bold",whiteSpace:"nowrap"},children:[Object(J.i)(k.toSignificant(6),!1,6)," ",T.symbol]}):"",_=Object(G.c)().mixpanelHandler;return Object(l.useEffect)((()=>{w&&m(!0)}),[w]),Object(ye.jsx)(Ft,{$visible:x,$disabled:!w,children:Object(ye.jsxs)(Ke.a,{children:[Object(ye.jsxs)(v.b,{style:{cursor:"pointer"},onClick:()=>{b((e=>!e)),_(G.a.SWAP_MORE_INFO_CLICK,{option:u?"Close":"Open"})},role:"button",children:[Object(ye.jsx)(p.d,{fontSize:12,fontWeight:500,children:Object(ye.jsx)(c.b,{id:"MORE INFORMATION"})}),Object(ye.jsx)(Vt,{$flip:u,children:Object(ye.jsx)(Bt.a,{})})]}),Object(ye.jsxs)(Gt,{$expanded:u,gap:"0.75rem",children:[Object(ye.jsx)(Dt.a,{}),Object(ye.jsxs)(v.b,{children:[Object(ye.jsxs)(v.d,{children:[Object(ye.jsx)(Ot.l.black,{fontSize:12,fontWeight:400,color:i.subText,children:Object(ye.jsx)(c.b,{id:"Minimum Received"})}),Object(ye.jsx)(ot.a,{size:14,text:a.a._("Minimum amount you will receive or your transaction will revert")})]}),Object(ye.jsx)(v.d,{children:Object(ye.jsx)(Ot.l.black,{color:i.text,fontSize:12,children:A||"--"})})]}),Object(ye.jsxs)(v.b,{children:[Object(ye.jsxs)(v.d,{children:[Object(ye.jsx)(Ot.l.black,{fontSize:12,fontWeight:400,color:i.subText,children:Object(ye.jsx)(c.b,{id:"Gas Fee"})}),Object(ye.jsx)(ot.a,{size:14,text:a.a._("Estimated network fee for your transaction")})]}),Object(ye.jsx)(Ot.l.black,{color:i.text,fontSize:12,children:S?Object(J.i)(S,!0):"--"})]}),Object(ye.jsxs)(v.b,{children:[Object(ye.jsxs)(v.d,{children:[Object(ye.jsx)(Ot.l.black,{fontSize:12,fontWeight:400,color:i.subText,children:Object(ye.jsx)(c.b,{id:"Price Impact"})}),Object(ye.jsx)(ot.a,{size:14,text:a.a._("Estimated change in price due to the size of your transaction")})]}),Object(ye.jsx)(Ot.l.black,{fontSize:12,color:I.isVeryHigh?i.red:I.isHigh?i.warning:i.text,children:I.isInvalid||"number"!==typeof y?"--":Object(st.e)(y)})]}),t&&Object(ye.jsxs)(v.b,{children:[Object(ye.jsxs)(v.d,{children:[Object(ye.jsx)(Ot.l.black,{fontSize:12,fontWeight:400,color:i.subText,children:Object(ye.jsx)(c.b,{id:"Referral Fee"})}),Object(ye.jsx)(ot.a,{size:14,text:a.a._("Commission fee to be paid directly to your referrer")})]}),Object(ye.jsx)(Ot.l.black,{color:i.text,fontSize:12,children:C})]})]})]})})},qt=n("./node_modules/rebass/styled-components/index.js"),$t=n("./src/components/Icons/index.ts"),Kt=O.default.div.withConfig({displayName:"TradeTypeSelection__GroupButtonReturnTypes",componentId:"sc-1b0uypk-0"})(["display:flex;border-radius:999px;background:",";padding:2px;"],(e=>e.theme.tabBackgound)),Yt=O.default.div.withConfig({displayName:"TradeTypeSelection__ButtonReturnType",componentId:"sc-1b0uypk-1"})(["border-radius:999px;flex:1;padding:8px;display:flex;align-items:center;justify-content:center;background-color:",";color:",";font-size:12px;font-weight:500;cursor:pointer;transition:color 300ms;"],(e=>{var t=e.theme;return e.active?t.tabActive:t.tabBackgound}),(e=>{var t=e.theme;return e.active?t.text:t.subText})),Qt=e=>{var t=e.isSaveGas,n=e.setSaveGas,r=Object(D.b)().isSolana;return Object(l.useEffect)((()=>{r&&n(!1)}),[r,n]),r?null:Object(ye.jsxs)(Kt,{children:[Object(ye.jsxs)(Yt,{onClick:()=>n(!1),active:!t,role:"button",children:[Object(ye.jsx)($t.y,{}),Object(ye.jsx)(qt.Text,{marginLeft:"4px",children:Object(ye.jsx)(c.b,{id:"Maximum Return"})})]}),Object(ye.jsxs)(Yt,{onClick:()=>n(!0),active:t,role:"button",children:[Object(ye.jsx)($t.t,{}),Object(ye.jsx)(qt.Text,{marginLeft:"4px",children:Object(ye.jsx)(c.b,{id:"Lowest Gas"})})]})]})},Xt=e=>{var t,n=e.hidden,r=e.currencyIn,i=e.currencyOut,c=e.balanceIn,a=e.balanceOut,d=e.setRouteSummary,u=e.isAdvancedMode,b=e.slippage,j=e.feeConfig,O=e.transactionTimeout,x=e.onChangeCurrencyIn,m=e.onChangeCurrencyOut,h=Object(D.b)(),g=h.isEVM,f=h.isSolana,y=Object(l.useState)(!1),S=Object(s.a)(y,2),w=S[0],I=S[1],C=Object(l.useState)("1"),k=Object(s.a)(C,2),T=k[0],_=k[1],P=Object(l.useState)(null),N=Object(s.a)(P,2),R=N[0],E=N[1],L=Object(l.useState)(!1),W=Object(s.a)(L,2),M=W[0],U=W[1],B=Me(r,T),V=Object(ke.b)(r,i,T),G=V.wrapType,F=V.inputError,H=V.execute,q=G!==ke.a.NOT_APPLICABLE,$=Ee(r,i),K=je({currencyIn:r,currencyOut:i,feeConfig:j,isSaveGas:M,parsedAmount:B}),Y=K.fetcher,Q=K.result,X=Q.data,J=Q.isFetching,Z=Q.error,ee=Object(l.useMemo)((()=>{if(null!==X&&void 0!==X&&X.data&&!Z&&r&&i)return((e,t,n)=>{var r={routeSummary:void 0,routerAddress:e.routerAddress,fromMeta:e.fromMeta},s=e.routeSummary;if(!s)return r;if(s.tokenIn.toLowerCase()!==be(t).toLowerCase()||s.tokenOut.toLowerCase()!==be(n).toLowerCase())return r;var i=me(t,s.amountIn),c=me(n,s.amountOut),a=new o.Price(i.currency,c.currency,i.quotient,c.quotient);return{routeSummary:Object(re.a)(Object(re.a)({},s),{},{parsedAmountIn:i,parsedAmountOut:c,priceImpact:he(Number(s.amountInUsd),Number(s.amountOutUsd)),executionPrice:a,routerAddress:e.routerAddress}),routerAddress:e.routerAddress,fromMeta:e.fromMeta}})(X.data,r,i)}),[r,i,Z,X]),te=null===ee||void 0===ee?void 0:ee.routeSummary,ne=Ne({recipient:u&&R?R:"",routeSummary:(null===X||void 0===X||null===(t=X.data)||void 0===t?void 0:t.routeSummary)||void 0,slippage:b,transactionTimeout:O}),se=We({currencyIn:r,currencyOut:i,typedValue:T,recipient:R,balanceIn:c,parsedAmountFromTypedValue:B}),ie=e=>{d(void 0),m(e)},ce=f&&G===ke.a.UNWRAP;return Object(l.useEffect)((()=>{var e;ce&&_(null!==(e=null===c||void 0===c?void 0:c.toExact())&&void 0!==e?e:"")}),[c,ce]),Object(l.useEffect)((()=>{d(te)}),[te,d]),Object(ye.jsx)(Ie,{feeConfig:j,slippage:b,routeSummary:te,typedValue:T,isSaveGas:M,recipient:R,isStablePairSwap:$,isAdvancedMode:u,children:Object(ye.jsxs)(p.a,{sx:{flexDirection:"column",gap:"16px",display:n?"none":"flex"},children:[Object(ye.jsx)(z.z,{id:A.b.SWAP_FORM_CONTENT,children:Object(ye.jsxs)(p.b,{flexDirection:"column",sx:{gap:"0.75rem"},children:[Object(ye.jsx)(Ae,{wrapType:G,typedValue:T,setTypedValue:_,currencyIn:r,currencyOut:i,balanceIn:c,onChangeCurrencyIn:e=>{d(void 0),x(e)}}),Object(ye.jsxs)(v.a,{justify:"space-between",children:[Object(ye.jsx)(p.b,{alignItems:"center",children:!q&&Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsx)(Fe,{shouldDisable:!B||B.equalTo(0)||w,callback:Y}),Object(ye.jsx)(ze.a,{price:null===te||void 0===te?void 0:te.executionPrice})]})}),Object(ye.jsx)(qe,{onClick:()=>r&&ie(r)})]}),Object(ye.jsx)(_e,{wrapType:G,parsedAmountIn:B,parsedAmountOut:null===te||void 0===te?void 0:te.parsedAmountOut,currencyIn:r,currencyOut:i,amountOutUsd:null===te||void 0===te?void 0:te.amountOutUsd,onChangeCurrencyOut:ie}),u&&g&&!q&&Object(ye.jsx)(ge.b,{id:"recipient",value:R,onChange:E}),!q&&Object(ye.jsx)(Pe.a,{isStablePairSwap:$})]})}),Object(ye.jsxs)(p.b,{flexDirection:"column",style:{gap:"1.25rem"},children:[Object(ye.jsx)(Qt,{isSaveGas:M,setSaveGas:U}),Object(ye.jsx)(Ue.a,{currencyIn:r,currencyOut:i}),!q&&Object(ye.jsx)(ve.a,{rawSlippage:b,isStablePairSwap:$}),Object(ye.jsx)(Be.a,{priceImpact:null===te||void 0===te?void 0:te.priceImpact,isAdvancedMode:u}),Object(ye.jsx)(zt,{isGettingRoute:J,parsedAmountFromTypedValue:B,balanceIn:c,balanceOut:a,isAdvancedMode:u,typedValue:T,currencyIn:r,currencyOut:i,wrapInputError:F,wrapType:G,routeSummary:te,isProcessingSwap:w,setProcessingSwap:I,onWrap:H,buildRoute:ne,swapInputError:se}),!q&&Object(ye.jsx)(Ht,{feeConfig:j,routeSummary:te,slippage:b})]})]})})},Jt=n("./src/hooks/useSyncTokenSymbolToUrl.ts"),Zt=n("./src/pages/SwapV3/useUpdateSlippageInStableCoinSwap.tsx"),en=n("./src/state/hooks.ts"),tn=n("./src/state/wallet/hooks.ts"),nn=n("./node_modules/react-use/esm/usePrevious.js"),rn=(e,t,n)=>{var r,s,i=Object(D.b)().chainId,c=Object(X.t)(),a=Object(nn.a)(c),o=null===e||void 0===e||null===(r=e.wrapped)||void 0===r?void 0:r.address,d=null===t||void 0===t||null===(s=t.wrapped)||void 0===s?void 0:s.address;Object(l.useEffect)((()=>{if(a&&((null===a||void 0===a?void 0:a.length)>c.length&&a[0].chainId===i)){var e=a.filter((e=>!c.find((t=>t.address===e.address)))).map((e=>e.address));o&&!e.includes(o)||n(K.a.INPUT),d&&!e.includes(d)||n(K.a.OUTPUT)}}),[o,d,i,n,a,c])},sn=e=>{var t=e.routeSummary,n=e.setRouteSummary,r=e.goToSettingsView,i=e.hidden,c=Object(Y.f)(),a=Object(Y.g)(),o=Object(en.b)((e=>e.swap.isSelectTokenManually)),d=Object(tn.c)(Object(l.useMemo)((()=>[null!==c&&void 0!==c?c:void 0,null!==a&&void 0!==a?a:void 0]),[c,a])),u=Object(s.a)(d,2),b=u[0],j=u[1],p=Object(X.y)(),O=Object(s.a)(p,1)[0],x=Object(X.c)(),m=Object(s.a)(x,1)[0],h=Object(X.x)(),g=Object(s.a)(h,1)[0],v=Object(Y.i)().feeConfig,f=Object(Y.h)(),y=f.onUserInput,S=f.onCurrencySelection,w=f.onResetSelectCurrency;Object(Zt.a)();var I=Object(l.useCallback)(((e,t,n)=>{e&&S(K.a.INPUT,e),t&&S(K.a.OUTPUT,t),n&&y(K.a.INPUT,n)}),[S,y]);Object(Jt.a)(c,a,I,o),rn(c,a,w);var C=Object(l.useCallback)((e=>{S(K.a.INPUT,e)}),[S]),k=Object(l.useCallback)((e=>{S(K.a.OUTPUT,e)}),[S]),T={hidden:i,routeSummary:t,setRouteSummary:n,currencyIn:c,currencyOut:a,balanceIn:b,balanceOut:j,isAdvancedMode:m,slippage:g,feeConfig:v,transactionTimeout:O,onChangeCurrencyIn:C,onChangeCurrencyOut:k,goToSettingsView:r};return Object(ye.jsx)(Xt,Object(re.a)({},T))},cn=["inputCurrency","outputCurrency"],an=Object(l.lazy)((()=>n.e(11).then(n.bind(null,"./src/components/TradeRouting.tsx")))),on=Object(l.lazy)((()=>n.e(10).then(n.bind(null,"./src/components/LiveChart/index.tsx")))),dn=O.default.span.withConfig({displayName:"SwapV3__BetaTag",componentId:"sc-upb8sq-0"})(["font-size:10px;color:",";position:absolute;top:4px;right:-38px;padding:2px 6px;background-color:",";border-radius:10px;"],(e=>e.theme.subText),(e=>e.theme.buttonGray)),ln=Object(O.default)(x.a).withConfig({displayName:"SwapV3__TutorialIcon",componentId:"sc-upb8sq-1"})(["width:22px;height:22px;path{fill:",";stroke:",";}"],(e=>e.theme.subText),(e=>e.theme.subText));!function(e){e.SWAP="swap",e.INFO="info",e.SETTINGS="settings",e.GAS_PRICE_TRACKER="gas_price_tracker",e.LIQUIDITY_SOURCES="liquidity_sources",e.LIMIT="limit"}(ft||(ft={}));var un=Object(O.default)(q.a).withConfig({displayName:"SwapV3__AppBodyWrapped",componentId:"sc-upb8sq-2"})(["box-shadow:0px 4px 16px rgba(0,0,0,0.04);padding:16px;margin-top:0;&[data-highlight='true']{animation:"," 2s 2 alternate ease-in-out;}"],(e=>(e=>Object(O.keyframes)(["0%{box-shadow:0 0 0 0 ",";}70%{box-shadow:0 0 0 2px ",";}100%{box-shadow:0 0 0 0 ",";}"],e.primary,e.primary,e.primary))(e.theme))),bn=O.default.div.withConfig({displayName:"SwapV3__SwitchLocaleLinkWrapper",componentId:"sc-upb8sq-3"})(["margin-bottom:30px;",""],(e=>e.theme.mediaWidth.upToMedium(vt||(vt=Object(i.a)(["\n  margin-bottom: 0px;\n"]))))),jn=Object(O.default)(m.a).withConfig({displayName:"SwapV3__RoutingIconWrapper",componentId:"sc-upb8sq-4"})(["height:27px;width:27px;margin-right:10px;path{fill:"," !important;}"],(e=>e.theme.subText));function pn(){var e=Object(j.m)(),t=Object(D.b)(),n=t.chainId,i=t.networkInfo,u=t.isSolana,O=Object(X.k)(),x=Object(X.n)(),m=Object(X.l)(),q=Object(F.a)(),re=Object(Q.a)(),se=Object(s.a)(re,1)[0].show,ie=void 0!==se&&se,ce=Object(l.useState)(),ae=Object(s.a)(ce,2),oe=ae[0],de=ae[1],le=Object(l.useState)(!1),ue=Object(s.a)(le,2),be=ue[0],je=ue[1],pe=Object(j.k)().pathname,Oe=Object(l.useRef)(null),xe=Object(l.useRef)(null),me=Object(l.useState)(!1),he=Object(s.a)(me,2),ge=he[0],ve=he[1],fe="true"===q.highlightBox,Se=pe.startsWith(B.h.SWAP),we=pe.startsWith(B.h.LIMIT),Ie=Object(l.useState)(Se?ft.SWAP:ft.LIMIT),Ce=Object(s.a)(Ie,2),ke=Ce[0],Te=Ce[1],Ae=Object($.a)().onSelectPair,_e=Object($.b)(),Pe=Object(l.useMemo)((()=>({[K.a.INPUT]:_e.currencyIn,[K.a.OUTPUT]:_e.currencyOut})),[_e.currencyIn,_e.currencyOut]);Object(l.useEffect)((()=>{Te(Se?ft.SWAP:ft.LIMIT)}),[Se]);var Ne=Object(l.useCallback)((()=>{var e;we&&(null===(e=xe.current)||void 0===e||e.refreshListOrder())}),[we]);Object(Y.d)();var Re=Object(l.useState)(!1),Ee=Object(s.a)(Re,2),Le=Ee[0],We=Ee[1],Me=Object(H.a)(),Ue=Object(X.c)(),ze=Object(s.a)(Ue,1)[0],Be=Object(Y.h)(),De=Be.onCurrencySelection,Ve=Be.onUserInput,Ge=Object(Y.f)(),Fe=Object(Y.g)(),He=Object(l.useMemo)((()=>({[K.a.INPUT]:Ge,[K.a.OUTPUT]:Fe})),[Ge,Fe]),qe=Object(l.useMemo)((()=>{var e,t;return null!==(e=null===(t=Se?[Ge,Fe]:[_e.currencyIn,_e.currencyOut])||void 0===t?void 0:t.filter((e=>e instanceof o.Token)))&&void 0!==e?e:[]}),[Se,Ge,Fe,_e.currencyIn,_e.currencyOut]),$e=Object(V.e)(),Ke=qe&&qe.filter((e=>!Boolean(e.address in $e))),Ye=Object(l.useCallback)((e=>{Ve(K.a.INPUT,e)}),[Ve]),Qe=Object(l.useCallback)((()=>{ge?ve(!1):We(!0)}),[ge]),Xe=Object(l.useCallback)((e=>{var t;(Qe(),ge)&&(null===(t=Oe.current)||void 0===t||t.onConfirmImportToken());we&&(Ae(e[0],e[1]),je(!0))}),[we,Ae,ge,Qe]),Je=Object(G.c)(He).mixpanelHandler,Ze=Object(l.useCallback)(((e,t,n)=>{if(we)return Ae(e,t),void je(!0);e&&De(K.a.INPUT,e),t&&De(K.a.OUTPUT,t),n&&Ye(n)}),[Ye,De,Ae,we]),et=Object(V.i)();Object(l.useEffect)((()=>{ze&&Je(G.a.ADVANCED_MODE_ON)}),[ze,Je]);var tt=Object(l.useMemo)((()=>{var e=Se?Ge:_e.currencyIn,t=Se?Fe:_e.currencyOut;return"".concat(window.location.origin).concat(Se?B.h.SWAP:B.h.LIMIT,"/").concat(i.route).concat(e&&t?"?".concat(Object(d.stringify)({inputCurrency:Object(ee.a)(e,n),outputCurrency:Object(ee.a)(t,n)})):"")}),[i.route,Ge,Fe,n,_e.currencyIn,_e.currencyOut,Se]),nt=Object(ne.a)(n,Object(te.c)(Ge),Object(te.c)(Fe)),rt=nt.isInWhiteList,st=nt.canonicalUrl,it=()=>Te(we?ft.LIMIT:ft.SWAP),ct=e=>Te(ke===e?we?ft.LIMIT:ft.SWAP:e),at=m&&Ge&&Fe&&rt&&Se,ot=et&&Ke.length>0&&(!Le||ge),dt=t=>{if(ke!==t){q.inputCurrency,q.outputCurrency;var n=Object(r.a)(q,cn);e({pathname:"".concat(t===ft.LIMIT?B.h.LIMIT:B.h.SWAP,"/").concat(i.route),search:Object(d.stringify)(n)})}},lt=Object(l.useMemo)((()=>Object(Z.a)(n,null===oe||void 0===oe?void 0:oe.parsedAmountIn,void 0,null===oe||void 0===oe?void 0:oe.route,$e)),[n,$e,oe]);return Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsx)(f.a,{canonicalUrl:st}),Object(ye.jsx)(T.b,{}),Object(ye.jsx)(w.a,{isOpen:ot,tokens:Ke,onConfirm:Xe,onDismiss:Qe}),Object(ye.jsxs)(z.l,{children:[Object(ye.jsx)(h.a,{}),Object(ye.jsx)(C.a,{}),Object(ye.jsxs)(z.d,{children:[Object(ye.jsxs)(z.s,{isShowTutorial:ie,children:[Object(ye.jsxs)(v.b,{children:[Object(ye.jsx)(z.v,{children:Object(ye.jsxs)(z.w,{children:[Object(ye.jsx)(z.u,{onClick:()=>dt(ft.SWAP),isActive:Se,children:Object(ye.jsx)(p.d,{fontSize:20,fontWeight:500,children:Object(ye.jsx)(c.b,{id:"Swap"})})}),Object(J.o)(n)&&Object(ye.jsxs)(z.u,{onClick:()=>dt(ft.LIMIT),isActive:we,children:[Object(ye.jsx)(p.d,{fontSize:20,fontWeight:500,children:Object(ye.jsx)(c.b,{id:"Limit"})}),Object(ye.jsx)(dn,{children:Object(ye.jsx)(c.b,{id:"Beta"})})]})]})}),Object(ye.jsxs)(z.r,{children:[Object(ye.jsx)(k.b,{type:k.a.SWAP,customIcon:Object(ye.jsx)(z.o,{onClick:()=>Je(G.a.SWAP_TUTORIAL_CLICK),children:Object(ye.jsx)(ln,{})})}),Object(ye.jsx)(E.a,{currencies:Se?He:Pe,onClick:()=>{Je(G.a.SWAP_TOKEN_INFO_CLICK),ct(ft.INFO)}}),Object(ye.jsx)(y.a,{title:a.a._("Share this with your friends!"),url:tt,onShared:()=>{Je(G.a.TOKEN_SWAP_LINK_SHARED)}}),Object(ye.jsx)(z.o,{active:ke===ft.SETTINGS,onClick:()=>{ct(ft.SETTINGS),Je(G.a.SWAP_SETTINGS_CLICK)},"aria-label":"Swap Settings",children:Object(ye.jsx)(I.a,{text:ze?Object(ye.jsx)(c.b,{id:"Advanced mode is on!"}):Object(ye.jsx)(c.b,{id:"Settings"}),placement:"top",width:"fit-content",children:Object(ye.jsx)("span",{id:A.b.BUTTON_SETTING_SWAP_FORM,children:Object(ye.jsx)(g.a,{fill:ze?Me.warning:Me.subText})})})})]})]}),Object(ye.jsx)(v.b,{children:Object(ye.jsx)(p.d,{fontSize:12,color:Me.subText,children:we?Object(ye.jsx)(c.b,{id:"Buy or sell any token at a specific price"}):Object(ye.jsx)(c.b,{id:"Buy or sell any token instantly at the best price"})})}),!u&&Object(ye.jsx)(v.b,{children:Object(ye.jsx)(L.c,{ref:Oe,onSelectSuggestedPair:Ze,setShowModalImportToken:ve})}),Object(ye.jsxs)(un,{"data-highlight":fe,id:A.b.SWAP_FORM,children:[Object(ye.jsx)(sn,{routeSummary:oe,setRouteSummary:de,goToSettingsView:()=>Te(ft.SETTINGS),hidden:ke!==ft.SWAP}),ke===ft.INFO&&Object(ye.jsx)(M.a,{currencies:Se?He:Pe,onBack:it}),ke===ft.SETTINGS&&Object(ye.jsx)(W.a,{isLimitOrder:we,onBack:it,onClickLiquiditySources:()=>Te(ft.LIQUIDITY_SOURCES),onClickGasPriceTracker:()=>Te(ft.GAS_PRICE_TRACKER)}),ke===ft.GAS_PRICE_TRACKER&&Object(ye.jsx)(_.a,{onBack:()=>Te(ft.SETTINGS)}),ke===ft.LIQUIDITY_SOURCES&&Object(ye.jsx)(R.a,{onBack:()=>Te(ft.SETTINGS)}),ke===ft.LIMIT&&Object(ye.jsx)(P.a,{isSelectCurrencyManual:be,setIsSelectCurrencyManual:je,refreshListOrder:Ne})]})]}),(O||x||at||we)&&Object(ye.jsxs)(z.h,{children:[O&&Object(ye.jsx)(z.j,{children:Object(ye.jsx)(l.Suspense,{fallback:Object(ye.jsx)(b.a,{height:"100%",baseColor:Me.background,highlightColor:Me.buttonGray,borderRadius:"1rem"}),children:Object(ye.jsx)(on,{currencies:Se?He:Pe})})}),x&&Se&&Object(ye.jsx)(z.n,{isOpenChart:O,children:Object(ye.jsxs)(p.b,{flexDirection:"column",width:"100%",children:[Object(ye.jsxs)(p.b,{alignItems:"center",children:[Object(ye.jsx)(jn,{}),Object(ye.jsx)(p.d,{fontSize:20,fontWeight:500,color:Me.subText,children:Object(ye.jsx)(c.b,{id:"Your trade route"})})]}),Object(ye.jsx)(l.Suspense,{fallback:Object(ye.jsx)(b.a,{height:"100px",baseColor:Me.background,highlightColor:Me.buttonGray,borderRadius:"1rem"}),children:Object(ye.jsx)(an,{tradeComposition:lt,currencyIn:Ge,currencyOut:Fe,inputAmount:null===oe||void 0===oe?void 0:oe.parsedAmountIn,outputAmount:null===oe||void 0===oe?void 0:oe.parsedAmountOut})})]})}),we&&Object(ye.jsx)(N.a,{ref:xe}),at&&Object(ye.jsx)(U.a,{currencyIn:Ge,currencyOut:Fe})]})]}),Object(ye.jsx)(p.b,{justifyContent:"center",children:Object(ye.jsx)(bn,{children:Object(ye.jsx)(S.a,{})})})]})]})}}}]);