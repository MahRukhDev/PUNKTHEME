(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[30],{"./src/components/swapv2/AdvancedSwapDetailsDropdown.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return R}));var s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),c=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./src/hooks/useLast.ts"),r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),a=n("./node_modules/@lingui/react/esm/index.js"),l=n("./node_modules/@lingui/core/esm/index.js"),d=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),u=n("./node_modules/react/index.js"),j=n("./node_modules/rebass/dist/index.esm.js"),b=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),p=n("./src/components/Column/index.tsx"),x=n("./src/components/Divider/index.tsx"),O=n("./src/components/InfoHelper/index.tsx"),m=n("./src/components/Row/index.tsx"),h=n("./src/hooks/index.ts"),v=n("./src/hooks/useTheme.ts"),f=n("./src/state/bridge/hooks.ts"),g=n("./src/state/swap/actions.ts"),T=n("./src/state/user/hooks.tsx"),y=n("./src/theme/index.tsx"),C=n("./src/utils/index.ts"),w=n("./src/utils/dmm.ts"),I=n("./src/utils/fee.ts"),S=n("./src/utils/prices.ts"),k=n("./node_modules/react/jsx-runtime.js"),A=i.default.div.withConfig({displayName:"AdvancedSwapDetails__IconWrapper",componentId:"sc-pe2kna-0"})(["color:",";transform:rotate(",");transition:transform 300ms;"],(e=>e.theme.text),(e=>e.show?"-180deg":"0deg")),_=Object(i.default)(p.a).withConfig({displayName:"AdvancedSwapDetails__ContentWrapper",componentId:"sc-pe2kna-1"})(["max-height:",";margin-top:",";transition:margin-top 300ms ease,height 300ms ease;overflow:hidden;"],(e=>e.show?"500px":0),(e=>e.show?"12px":0));function P(e){var t,n,s,c=e.trade,i=e.feeConfig,o=e.allowedSlippage,f=Object(h.b)().isEVM,T=Object(v.a)(),P=Object(u.useState)(!0),M=Object(r.a)(P,2),N=M[0],U=M[1],E=c.tradeType===d.TradeType.EXACT_INPUT,L=Object(S.c)(c,o),R=Object(w.i)(c.inputAmount.currency),W=Object(w.i)(c.outputAmount.currency),z=Object(u.useMemo)((()=>Object(I.a)(c,i)),[c,i]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(p.a,{children:[Object(k.jsxs)(m.b,{style:{cursor:"pointer"},onClick:()=>U((e=>!e)),role:"button",children:[Object(k.jsx)(j.d,{fontSize:12,fontWeight:500,color:T.text,children:Object(k.jsx)(a.b,{id:"MORE INFORMATION"})}),Object(k.jsx)(A,{show:N,children:Object(k.jsx)(b.a,{})})]}),Object(k.jsxs)(_,{show:N,gap:"0.75rem",children:[Object(k.jsx)(x.a,{}),Object(k.jsxs)(m.b,{children:[Object(k.jsxs)(m.d,{children:[Object(k.jsx)(y.l.black,{fontSize:12,fontWeight:400,color:T.subText,children:E?l.a._("Minimum Received"):l.a._("Maximum Sold")}),Object(k.jsx)(O.a,{size:14,text:l.a._("Minimum amount you will receive or your transaction will revert")})]}),Object(k.jsx)(m.d,{children:Object(k.jsx)(y.l.black,{color:T.text,fontSize:12,children:E?L[g.a.OUTPUT]?"".concat(Object(C.i)((null===(t=L[g.a.OUTPUT])||void 0===t?void 0:t.toSignificant(10))||"0")," ").concat(null===W||void 0===W?void 0:W.symbol):"-":L[g.a.INPUT]?"".concat(Object(C.i)((null===(n=L[g.a.INPUT])||void 0===n?void 0:n.toSignificant(10))||"0")," ").concat(null===R||void 0===R?void 0:R.symbol):"-"})})]}),f&&Object(k.jsxs)(m.b,{children:[Object(k.jsxs)(m.d,{children:[Object(k.jsx)(y.l.black,{fontSize:12,fontWeight:400,color:T.subText,children:Object(k.jsx)(a.b,{id:"Gas Fee"})}),Object(k.jsx)(O.a,{size:14,text:l.a._("Estimated network fee for your transaction")})]}),Object(k.jsx)(y.l.black,{color:T.text,fontSize:12,children:c.gasUsd?Object(C.i)(null===(s=c.gasUsd)||void 0===s?void 0:s.toString(),!0):"--"})]}),Object(k.jsxs)(m.b,{children:[Object(k.jsxs)(m.d,{children:[Object(k.jsx)(y.l.black,{fontSize:12,fontWeight:400,color:T.subText,children:Object(k.jsx)(a.b,{id:"Price Impact"})}),Object(k.jsx)(O.a,{size:14,text:l.a._("Estimated change in price due to the size of your transaction")})]}),Object(k.jsx)(y.l.black,{fontSize:12,color:c.priceImpact>15?T.red:c.priceImpact>5?T.warning:T.text,children:-1===c.priceImpact?"--":c.priceImpact>.01?c.priceImpact.toFixed(3)+"%":"< 0.01%"})]}),i&&Object(k.jsxs)(m.b,{children:[Object(k.jsxs)(m.d,{children:[Object(k.jsx)(y.l.black,{fontSize:12,fontWeight:400,color:T.subText,children:Object(k.jsx)(a.b,{id:"Referral Fee"})}),Object(k.jsx)(O.a,{size:14,text:l.a._("Commission fee to be paid directly to your referrer")})]}),Object(k.jsx)(y.l.black,{color:T.text,fontSize:12,children:z})]})]})]})})}function M(e){var t=e.trade,n=e.feeConfig,s=Object(T.x)(),c=Object(r.a)(s,1)[0];return t?Object(k.jsx)(P,{trade:t,feeConfig:n,allowedSlippage:c}):null}function N(e){var t,n,s,c=e.outputInfo,i=Object(v.a)(),o=Object(f.b)(),d=Object(r.a)(o,1)[0].tokenInfoOut,h=Object(u.useState)(!0),g=Object(r.a)(h,2),T=g[0],w=g[1],I=Object(C.i)(null===c||void 0===c||null===(t=c.fee)||void 0===t?void 0:t.toString(),!1,5);return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(p.a,{children:[Object(k.jsxs)(m.b,{style:{cursor:"pointer"},onClick:()=>w((e=>!e)),role:"button",children:[Object(k.jsx)(j.d,{fontSize:12,fontWeight:500,color:i.text,children:Object(k.jsx)(a.b,{id:"MORE INFORMATION"})}),Object(k.jsx)(A,{show:T,children:Object(k.jsx)(b.a,{})})]}),Object(k.jsxs)(_,{show:T,gap:"0.75rem",children:[Object(k.jsx)(x.a,{}),Object(k.jsxs)(m.b,{children:[Object(k.jsxs)(m.d,{children:[Object(k.jsx)(y.l.black,{fontSize:12,fontWeight:400,color:i.subText,children:l.a._("Estimated Processing Time")}),Object(k.jsx)(O.a,{size:14,text:d&&l.a._("Crosschain amount larger than {0} {1} could take up to 12 hours",{0:Object(C.i)(null!==(n=null===d||void 0===d||null===(s=d.BigValueThreshold)||void 0===s?void 0:s.toString())&&void 0!==n?n:"0"),1:null===d||void 0===d?void 0:d.symbol})})]}),Object(k.jsx)(m.d,{children:Object(k.jsx)(y.l.black,{color:i.text,fontSize:12,children:d?c.time:"--"})})]}),Object(k.jsxs)(m.b,{children:[Object(k.jsxs)(m.d,{children:[Object(k.jsx)(y.l.black,{fontSize:12,fontWeight:400,color:i.subText,children:Object(k.jsx)(a.b,{id:"Transaction Fee"})}),Object(k.jsx)(O.a,{size:14,text:d?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(j.d,{color:i.text,children:Object(k.jsx)(a.b,{id:"{0}% Transaction Fee",values:{0:null===d||void 0===d?void 0:d.SwapFeeRatePerMillion}})}),(null===d||void 0===d?void 0:d.MinimumSwapFee)===(null===d||void 0===d?void 0:d.MaximumSwapFee)?c.fee>0&&Object(k.jsx)(j.d,{marginTop:"5px",children:Object(k.jsx)(a.b,{id:"Gas Fee: {fee} {0} for your cross-chain transaction on destination chain",values:{0:d.symbol,fee:I}})}):Object(k.jsx)(j.d,{marginTop:"5px",children:Object(k.jsx)(a.b,{id:"Min Transaction Fee is {0} {1} <0/>Max Transaction Fee is {2} {3}",values:{0:Object(C.i)(d.MinimumSwapFee),1:d.symbol,2:Object(C.i)(d.MaximumSwapFee),3:d.symbol},components:{0:Object(k.jsx)("br",{})}})})]}):l.a._("Estimated network fee for your transaction")})]}),Object(k.jsx)(y.l.black,{color:i.text,fontSize:12,children:d&&c.fee?"".concat(I," ").concat(null===d||void 0===d?void 0:d.symbol):"--"})]}),Object(k.jsxs)(m.b,{style:{alignItems:"flex-start"},children:[Object(k.jsx)(m.d,{children:Object(k.jsx)(y.l.black,{fontSize:12,fontWeight:400,color:i.subText,children:Object(k.jsx)(a.b,{id:"Required Amount"})})}),Object(k.jsx)(y.l.black,{fontSize:12,color:i.text,textAlign:"right",children:d?Object(k.jsxs)(j.b,{flexDirection:"column",style:{gap:10},children:[Object(k.jsx)("div",{children:l.a._("Min {0} {1}",{0:Object(C.i)(null===d||void 0===d?void 0:d.MinimumSwap),1:null===d||void 0===d?void 0:d.symbol})}),Object(k.jsxs)("div",{children:[" ",l.a._("Max {0} {1}",{0:Object(C.i)(null===d||void 0===d?void 0:d.MaximumSwap),1:null===d||void 0===d?void 0:d.symbol})]})]}):"--"})]})]})]})})}var U=["trade"],E=i.default.div.withConfig({displayName:"AdvancedSwapDetailsDropdown__AdvancedDetailsFooter",componentId:"sc-ct5fuy-0"})(["padding:",";width:100%;max-width:425px;border-radius:16px;color:",";background-color:",";border:solid 1px ",";max-height:",";transition:height 300ms ease-in-out,transform 300ms;overflow:hidden;"],(e=>e.show?"12px 16px":"0"),(e=>e.theme.text2),(e=>e.theme.background),(e=>{var t=e.theme;return e.show?t.border:"none"}),(e=>e.show?"auto":"0"));function L(e){var t,n=e.trade,i=Object(c.a)(e,U),r=Object(o.b)(n);return Object(k.jsx)(E,{show:Boolean(n),children:Object(k.jsx)(M,Object(s.a)(Object(s.a)({},i),{},{trade:null!==(t=null!==n&&void 0!==n?n:r)&&void 0!==t?t:void 0}))})}function R(e){var t=e.outputInfo;return Object(k.jsx)(E,{show:!0,style:{marginTop:0},children:Object(k.jsx)(N,{outputInfo:t})})}},"./src/pages/SwapV2/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _t}));var s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),c=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),r=n("./node_modules/@lingui/react/esm/index.js"),a=n("./node_modules/@lingui/core/esm/index.js"),l=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),d=n("./node_modules/jsbi/dist/jsbi-umd.js"),u=n.n(d),j=n("./node_modules/querystring-es3/index.js"),b=n("./node_modules/react/index.js"),p=n.n(b),x=n("./node_modules/react-feather/dist/icons/alert-triangle.js"),O=n("./node_modules/react-loading-skeleton/dist/index.mjs"),m=n("./node_modules/react-router/dist/index.js"),h=n("./node_modules/react-use/esm/usePrevious.js"),v=n("./node_modules/rebass/dist/index.esm.js"),f=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),g=n.p+"static/media/christmas-decor2.4aa6b051.svg",T=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/play_circle_outline.svg"),y=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/routing-icon.svg"),C=n("./src/components/AddressInputPanel/index.tsx"),w=n("./node_modules/polished/dist/polished.esm.js"),I=n("./node_modules/react-feather/dist/icons/chevron-up.js"),S=n("./node_modules/react-feather/dist/icons/chevron-down.js"),k=function(e,t){return"boolean"===typeof t?t:!e},A=function(e){return Object(b.useReducer)(k,e)},_=n("./src/components/Card/index.tsx"),P=n("./node_modules/react/jsx-runtime.js");var M=n("./src/components/Row/index.tsx"),N=n("./src/hooks/index.ts"),U=n("./src/hooks/useTheme.ts"),E=n("./src/pages/TrueSight/components/TrendingSoonLayout/TrendingSoonTokenItem.tsx"),L=n("./src/theme/index.tsx"),R=n("./src/utils/index.ts");function W(e){var t=e.routerAddress,n=void 0===t?"":t,s=e.isCurrencyInNative,c=Object(N.b)(),o=c.chainId,a=c.account,d=Object(U.a)(),u=A(!1),j=Object(i.a)(u,2),b=j[0],p=j[1];if(![l.ChainId.BSCMAINNET,l.ChainId.BTTC,l.ChainId.VELAS,l.ChainId.CRONOS,l.ChainId.ARBITRUM,l.ChainId.MATIC,l.ChainId.FANTOM,l.ChainId.OPTIMISM,l.ChainId.AURORA,l.ChainId.MAINNET,l.ChainId.AVAXMAINNET,l.ChainId.OASIS].includes(o))return null;if(Date.now()>16739136e5||!Object(R.s)(o,n)||!a||s)return null;var x=()=>Object(P.jsx)(r.b,{id:"We have deployed an upgraded router contract at <0>{0}</0>. You may have to approve this contract before you trade your tokens",values:{0:Object(R.A)(o,n)},components:{0:Object(P.jsx)(L.c,{href:Object(R.n)(o,n,"address")})}});return Object(P.jsx)(_.h,{m:"24px 0",backgroundColor:Object(w.d)(d.subText,.2),padding:"12px",children:Object(P.jsxs)(M.b,{align:"flex-start",gap:"6px",children:[Object(P.jsx)(z,{color:d.subText}),Object(P.jsx)(L.l.subHeader,{children:b?Object(P.jsx)(x,{}):Object(P.jsx)(E.c,{children:Object(P.jsx)(x,{})})}),b?Object(P.jsx)(I.a,{size:"16px",color:d.subText,style:{minWidth:"16px",minHeight:"16px"},onClick:p,cursor:"pointer"}):Object(P.jsx)(S.a,{size:"16px",color:d.subText,style:{minWidth:"16px",minHeight:"16px"},onClick:p,cursor:"pointer"})]})})}var z=Object(f.default)((function(e){var t=e.size,n=e.color,s=e.className;return Object(P.jsx)("svg",{width:t||"16",height:t||"16",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,style:{minWidth:t||"16px",minHeight:t||"16px"},children:Object(P.jsx)("path",{d:"M4.83333 16.6667H8.16667C8.16667 17.5833 7.41667 18.3333 6.5 18.3333C5.58333 18.3333 4.83333 17.5833 4.83333 16.6667ZM3.16667 15C3.16667 15.4583 3.54167 15.8333 4 15.8333H9C9.45833 15.8333 9.83333 15.4583 9.83333 15C9.83333 14.5417 9.45833 14.1667 9 14.1667H4C3.54167 14.1667 3.16667 14.5417 3.16667 15ZM12.75 7.91667C12.75 11.1 10.5333 12.8 9.60833 13.3333H3.39167C2.46667 12.8 0.25 11.1 0.25 7.91667C0.25 4.46667 3.05 1.66667 6.5 1.66667C9.95 1.66667 12.75 4.46667 12.75 7.91667ZM16.8083 6.14167L15.6667 6.66667L16.8083 7.19167L17.3333 8.33333L17.8583 7.19167L19 6.66667L17.8583 6.14167L17.3333 5L16.8083 6.14167ZM14.8333 5L15.6167 3.28333L17.3333 2.5L15.6167 1.71667L14.8333 0L14.05 1.71667L12.3333 2.5L14.05 3.28333L14.8333 5Z",fill:n||"currentColor"})})})).withConfig({displayName:"ApproveMessage__StyledLightBulbEffect",componentId:"sc-g6rrfp-0"})(["margin-top:2px;"]),D=n("./src/components/ArrowRotate.tsx"),F=n("./src/components/Banner/index.tsx"),B=n("./src/components/Button/index.tsx"),V=n("./src/components/Column/index.tsx"),H=n("./src/components/CurrencyInputPanel/index.tsx"),G=n("./src/components/Icons/TransactionSettingsIcon.tsx"),q=n("./src/components/InfoHelper/index.tsx"),X=n("./src/components/Loader/index.tsx"),Y=n("./src/components/ProgressSteps/index.tsx"),K=n("./src/components/SEO/index.tsx"),Z=n("./src/components/ShareModal/index.tsx"),Q=n("./src/components/SlippageWarningNote/index.tsx"),J=n("./src/components/SwapForm/PriceImpactNote.tsx"),$=n("./src/components/SwapForm/SlippageSetting.tsx"),ee=n("./src/components/SwitchLocaleLink/index.tsx"),te=n("./src/components/TokenWarningModal/index.tsx"),ne=n("./src/components/Tooltip/index.tsx"),se=n("./src/components/TopTrendingSoonTokensInCurrentNetwork/index.tsx"),ce=n("./src/components/TrendingSoonTokenBanner/index.tsx"),ie=n("./src/components/Tutorial/index.tsx"),oe=n("./src/components/Tutorial/TutorialSwap/index.tsx"),re=n("./src/components/Tutorial/TutorialSwap/constant.ts"),ae=n("./src/components/swapv2/AdvancedSwapDetailsDropdown.tsx"),le=n("./src/components/TransactionConfirmationModal/index.tsx"),de=n("./src/state/swap/hooks.ts"),ue=n("./src/utils/dmm.ts"),je=n("./node_modules/react-feather/dist/icons/repeat.js"),be=n("./src/components/swapv2/styleds.tsx"),pe=n("./src/state/swap/actions.ts"),xe=n("./src/state/user/hooks.tsx"),Oe=n("./src/utils/fee.ts"),me=n("./src/utils/prices.ts"),he=n("./src/utils/slippage.ts"),ve=n("./src/components/swapv2/HurryUpBanner.tsx");function fe(e){var t,n,c,o,d,u=e.trade,j=e.onConfirm,p=e.allowedSlippage,x=e.swapErrorMessage,O=e.disabledConfirm,m=e.feeConfig,h=e.startedTime,f=Object(de.c)(),g=Object(N.b)(),T=g.chainId,y=g.isSolana,C=g.isEVM,w=Object(b.useState)(!1),I=Object(i.a)(w,2),S=I[0],k=I[1],A=Object(U.a)(),E=Object(b.useMemo)((()=>Object(me.c)(u,p)),[p,u]),W=Object(xe.c)(),z=Object(i.a)(W,1)[0],D=Object(he.b)(p,f),F=Object(de.e)(),H=Object(i.a)(F,1)[0],G=Object(ue.i)(u.inputAmount.currency),X=Object(ue.i)(u.outputAmount.currency),Y=Object(b.useMemo)((()=>Object(Oe.a)(u,m)),[u,m]),K=u.priceImpact,Z=Object(me.a)(K);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(V.a,{gap:"0.5rem",style:{padding:"1rem",border:"1px solid ".concat(A.border),borderRadius:"8px"},children:[Object(P.jsxs)(M.b,{align:"center",children:[Object(P.jsx)(v.d,{fontWeight:400,fontSize:14,color:A.subText,children:Object(P.jsx)(r.b,{id:"Current Price"})}),Object(P.jsxs)(v.d,{fontWeight:500,fontSize:14,color:A.text,style:{justifyContent:"center",alignItems:"center",display:"flex",textAlign:"right",paddingLeft:"10px"},children:[Object(me.d)(u,S,T),Object(P.jsx)(be.p,{onClick:()=>k(!S),children:Object(P.jsx)(je.a,{size:14,color:A.text})})]})]}),Object(P.jsxs)(M.b,{children:[Object(P.jsxs)(M.d,{children:[Object(P.jsx)(L.l.black,{fontSize:14,fontWeight:400,color:A.subText,children:u.tradeType===l.TradeType.EXACT_INPUT?a.a._("Minimum Received"):a.a._("Maximum Sold")}),Object(P.jsx)(q.a,{size:14,text:a.a._("Minimum amount you will receive or your transaction will revert")})]}),Object(P.jsxs)(M.d,{children:[Object(P.jsx)(L.l.black,{fontSize:14,children:u.tradeType===l.TradeType.EXACT_INPUT?null!==(t=null===(n=E[pe.a.OUTPUT])||void 0===n?void 0:n.toSignificant(4))&&void 0!==t?t:"-":null!==(c=null===(o=E[pe.a.INPUT])||void 0===o?void 0:o.toSignificant(4))&&void 0!==c?c:"-"}),Object(P.jsx)(L.l.black,{fontSize:14,marginLeft:"4px",children:u.tradeType===l.TradeType.EXACT_INPUT?null===X||void 0===X?void 0:X.symbol:null===G||void 0===G?void 0:G.symbol})]})]}),C&&Object(P.jsxs)(M.b,{children:[Object(P.jsxs)(M.d,{children:[Object(P.jsx)(L.l.black,{fontSize:14,fontWeight:400,color:A.subText,children:Object(P.jsx)(r.b,{id:"Gas Fee"})}),Object(P.jsx)(q.a,{size:14,text:a.a._("Estimated network fee for your transaction")})]}),Object(P.jsx)(L.l.black,{color:A.text,fontSize:14,children:u.gasUsd?Object(R.i)(null===(d=u.gasUsd)||void 0===d?void 0:d.toString(),!0):"--"})]}),Object(P.jsxs)(M.b,{children:[Object(P.jsxs)(M.d,{children:[Object(P.jsx)(L.l.black,{fontSize:14,fontWeight:400,color:A.subText,children:Object(P.jsx)(r.b,{id:"Price Impact"})}),Object(P.jsx)(q.a,{size:14,text:a.a._("Estimated change in price due to the size of your transaction")})]}),Object(P.jsx)(L.l.black,{fontSize:14,color:Z.isVeryHigh?A.red:Z.isHigh?A.warning:A.text,children:Z.isInvalid||"number"!==typeof K?"--":Object(me.e)(K)})]}),Object(P.jsxs)(M.b,{children:[Object(P.jsx)(M.d,{children:Object(P.jsx)(L.l.black,{fontSize:14,fontWeight:400,color:A.subText,children:Object(P.jsx)(r.b,{id:"Max Slippage"})})}),Object(P.jsxs)(L.l.black,{fontSize:14,color:D?A.warning:void 0,children:[p/100,"%"]})]}),m&&Object(P.jsxs)(M.b,{children:[Object(P.jsxs)(M.d,{children:[Object(P.jsx)(L.l.black,{fontSize:14,fontWeight:400,color:A.subText,children:Object(P.jsx)(r.b,{id:"Referral Fee"})}),Object(P.jsx)(q.a,{size:14,text:a.a._("Commission fee to be paid directly to your referrer")})]}),Object(P.jsx)(L.l.black,{color:A.text,fontSize:14,children:Y})]})]}),Object(P.jsxs)(v.b,{sx:{flexDirection:"column",gap:"0.75rem",marginTop:"1rem"},children:[Object(P.jsx)(Q.a,{rawSlippage:p,isStablePairSwap:f}),Object(P.jsx)(J.a,{priceImpact:K,isAdvancedMode:z}),Object(P.jsx)(ve.a,{startedTime:h}),Object(P.jsxs)(M.a,{children:[y&&!H?Object(P.jsx)(_.c,{style:{textAlign:"center",borderRadius:"999px",padding:"12px"},id:"confirm-swap-or-send",children:Object(P.jsx)(be.e,{children:Object(P.jsx)(r.b,{id:"Checking accounts"})})}):Object(P.jsx)(B.e,{onClick:j,disabled:O,style:Object(s.a)({},(Z.isHigh||Z.isInvalid)&&{border:"none",background:Z.isVeryHigh||Z.isInvalid?A.red:A.warning,color:A.text}),id:"confirm-swap-or-send",children:Object(P.jsx)(v.d,{fontSize:16,fontWeight:500,children:Object(P.jsx)(r.b,{id:"Confirm Swap"})})}),x?Object(P.jsx)(be.q,{error:x}):null]})]})]})}var ge=n("./node_modules/react-feather/dist/icons/arrow-down.js"),Te=n("./src/components/CurrencyLogo/index.tsx");function ye(e){var t,n,s=e.trade,c=e.allowedSlippage,i=e.recipient,o=e.showAcceptChanges,d=e.onAcceptChanges,u=Object(N.b)(),j=u.chainId,p=u.isSolana,O=Object(b.useMemo)((()=>Object(me.c)(s,c)),[s,c]),m=Object(U.a)(),h=Object(ue.i)(s.inputAmount.currency),f=Object(ue.i)(s.outputAmount.currency),g=Object(de.i)(),T=g.feeConfig,y=g.typedValue;return Object(P.jsxs)(V.a,{gap:"md",style:{marginTop:"20px"},children:[Object(P.jsxs)(M.b,{align:"flex-end",children:[Object(P.jsxs)(M.d,{gap:"0px",children:[Object(P.jsx)(Te.a,{currency:s.inputAmount.currency,size:"24px",style:{marginRight:"12px"}}),Object(P.jsx)(be.y,{fontSize:24,fontWeight:500,color:o&&s.tradeType===l.TradeType.EXACT_OUTPUT?m.primary:"",children:T?y:s.inputAmount.toSignificant(6)})]}),Object(P.jsx)(M.d,{gap:"0px",children:Object(P.jsx)(v.d,{fontSize:24,fontWeight:500,style:{marginLeft:"10px"},children:null===h||void 0===h?void 0:h.symbol})})]}),Object(P.jsx)(M.d,{children:Object(P.jsx)(ge.a,{size:"16",color:m.text2,style:{marginLeft:"4px",minWidth:"16px"}})}),Object(P.jsxs)(M.b,{align:"flex-end",children:[Object(P.jsxs)(M.d,{gap:"0px",children:[Object(P.jsx)(Te.a,{currency:s.outputAmount.currency,size:"24px",style:{marginRight:"12px"}}),Object(P.jsx)(be.y,{fontSize:24,fontWeight:500,color:o&&s.tradeType===l.TradeType.EXACT_INPUT?m.primary:"",children:s.outputAmount.toSignificant(6)})]}),Object(P.jsx)(M.d,{gap:"0px",children:Object(P.jsx)(v.d,{fontSize:24,fontWeight:500,style:{marginLeft:"10px"},children:null===f||void 0===f?void 0:f.symbol})})]}),o?Object(P.jsx)(be.t,{justify:"flex-start",gap:"0px",children:Object(P.jsxs)(M.b,{children:[Object(P.jsxs)(M.d,{children:[Object(P.jsx)(x.a,{size:20,style:{marginRight:"8px",minWidth:24}}),Object(P.jsx)(L.l.main,{color:m.primary,children:" Price Updated"})]}),Object(P.jsx)(B.i,{style:{padding:".5rem",width:"fit-content",fontSize:"0.825rem",borderRadius:"12px"},onClick:d,children:Object(P.jsx)(r.b,{id:"Accept"})})]})}):null,Object(P.jsx)(V.a,{justify:"flex-start",gap:"sm",style:{padding:"12px 0 0 0px"},children:s.tradeType===l.TradeType.EXACT_INPUT?Object(P.jsxs)(L.l.italic,{textAlign:"left",style:{width:"100%"},children:[a.a._("Output is estimated. You will receive at least")," ",Object(P.jsxs)("b",{children:[null===(t=O[pe.a.OUTPUT])||void 0===t?void 0:t.toSignificant(6)," ",null===f||void 0===f?void 0:f.symbol]})," ",a.a._("or the transaction will revert."),p&&Object(P.jsxs)(P.Fragment,{children:[" ",a.a._("We may send multiple tx to complete the swap")]})]}):Object(P.jsxs)(L.l.italic,{textAlign:"left",style:{width:"100%"},children:[a.a._("Input is estimated. You will sell at most"),Object(P.jsxs)("b",{children:[null===(n=O[pe.a.INPUT])||void 0===n?void 0:n.toSignificant(6)," ",null===h||void 0===h?void 0:h.symbol]}),a.a._("or the transaction will revert.")]})}),null!==i&&Object(P.jsx)(V.a,{justify:"flex-start",gap:"sm",style:{padding:"12px 0 0 0px"},children:Object(P.jsxs)(L.l.main,{children:["Output will be sent to"," ",Object(P.jsx)("b",{title:i,children:Object(R.s)(j,i)?Object(R.A)(j,i):i})]})})]})}function Ce(e){var t,n,s,c,o=e.trade,r=e.originalTrade,l=e.onAcceptChanges,d=e.allowedSlippage,u=e.onConfirm,j=e.onDismiss,p=e.recipient,x=e.swapErrorMessage,O=e.isOpen,m=e.attemptingTxn,h=e.txHash,v=e.tokenAddToMetaMask,f=e.showTxBanner,g=Object(N.b)().isSolana,T=Object(de.i)(),y=T.feeConfig,C=T.typedValue,w=Object(b.useState)(void 0),I=Object(i.a)(w,2),S=I[0],k=I[1],A=Object(de.e)(),_=Object(i.a)(A,1)[0];Object(b.useEffect)((()=>{k(g&&_?Date.now():void 0)}),[_,O,g]);var M=Object(b.useMemo)((()=>{return Boolean(o&&r&&(t=r,(e=o).tradeType!==t.tradeType||!e.inputAmount.currency.equals(t.inputAmount.currency)||!e.inputAmount.equalTo(t.inputAmount)||!e.outputAmount.currency.equals(t.outputAmount.currency)||!e.outputAmount.equalTo(t.outputAmount)));var e,t}),[r,o]),U=Object(b.useCallback)((()=>o?Object(P.jsx)(ye,{trade:o,allowedSlippage:d,recipient:p,showAcceptChanges:M,onAcceptChanges:l}):null),[d,l,p,M,o]),E=Object(b.useCallback)((()=>o?Object(P.jsx)(fe,{onConfirm:u,trade:o,disabledConfirm:M||g&&!_,swapErrorMessage:x,allowedSlippage:d,feeConfig:y,startedTime:S}):null),[d,u,M,x,o,y,g,S,_]),L=Object(ue.i)(null===r||void 0===r||null===(t=r.inputAmount)||void 0===t?void 0:t.currency),R=Object(ue.i)(null===r||void 0===r||null===(n=r.outputAmount)||void 0===n?void 0:n.currency),W="Swapping ".concat(y?C:null===r||void 0===r||null===(s=r.inputAmount)||void 0===s?void 0:s.toSignificant(6)," ").concat(null===L||void 0===L?void 0:L.symbol," for ").concat(null===r||void 0===r||null===(c=r.outputAmount)||void 0===c?void 0:c.toSignificant(6)," ").concat(null===R||void 0===R?void 0:R.symbol),z=Object(b.useCallback)((()=>x?Object(P.jsx)(le.c,{onDismiss:j,message:x}):Object(P.jsx)(le.a,{title:a.a._("Confirm Swap"),onDismiss:j,topContent:U,bottomContent:E})),[j,E,U,x]);return Object(P.jsx)(le.e,{isOpen:O,onDismiss:j,attemptingTxn:m,hash:h,content:z,pendingText:W,tokenAddToMetaMask:v,showTxBanner:f,startedTime:S})}var we=n("./src/components/swapv2/GasPriceTrackerPanel.tsx"),Ie=n("./src/components/swapv2/LimitOrder/index.tsx"),Se=n("./src/components/swapv2/LimitOrder/ListOrder/index.tsx"),ke=n("./src/components/swapv2/LiquiditySourcesPanel/index.tsx"),Ae=n("./src/components/swapv2/MobileTokenInfo.tsx"),_e=n("./src/components/swapv2/PairSuggestion/index.tsx"),Pe=n("./src/constants/index.ts"),Me=p.a.forwardRef(((e,t)=>Object(P.jsxs)("svg",Object(s.a)(Object(s.a)({ref:t,id:"arrow_loading",xmlns:"http://www.w3.org/2000/svg",viewBox:"2 2 20 20",className:"arrow-loading",width:"20",height:"20"},e),{},{children:[Object(P.jsx)("path",{stroke:"none",fill:"none",d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z",className:"background-path"}),Object(P.jsxs)("defs",{children:[Object(P.jsx)("path",{id:"arrow",stroke:"none",fill:"none",d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),Object(P.jsx)("clipPath",{id:"arrow-clip",children:Object(P.jsx)("use",{xlinkHref:"#arrow"})})]}),Object(P.jsx)("g",{clipPath:"url(#arrow-clip)",children:Object(P.jsx)("circle",{cx:"12",cy:"12",r:"5",transform:"rotate(365,12,12)",fill:"none",stroke:"currentColor",strokeWidth:"16",strokeDasharray:"30",strokeDashoffset:"0",children:Object(P.jsx)("animate",{attributeName:"stroke-dashoffset",values:"0;-30",begin:e.enable_click_to_refresh?"arrow_loading.click; 0.7s":"0s",repeatCount:"indefinite",dur:"".concat(Pe.ab,"s")})})}),Object(P.jsx)("use",{xlinkHref:"#arrow"}),Object(P.jsx)("animateTransform",{id:"transform_0",attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 0 0",to:"-10 0 0",dur:"0.07s",begin:e.enable_click_to_refresh?"arrow_loading.click;":"transform_0.start",repeatCount:"1"}),Object(P.jsx)("animateTransform",{id:"transform_1",attributeName:"transform",attributeType:"XML",type:"rotate",from:"-45 0 0",to:"390 0 0",dur:"0.6s",begin:"transform_0.end",repeatCount:"1"}),Object(P.jsx)("animateTransform",{id:"transform_2",attributeName:"transform",attributeType:"XML",type:"rotate",from:"390 0 0",to:"360 0 0",dur:"0.15s",begin:"transform_1.end",repeatCount:"1"})]}))));Me.displayName="ArrowLocatorLoading";var Ne=Object(f.default)(Me).withConfig({displayName:"RefreshButton__StyledArrowLocatorLoading",componentId:"sc-ymy8t5-0"})(["color:",";.background-path{fill:",";}"],(e=>e.theme.subText),(e=>e.theme.disableText));function Ue(e){var t=e.isConfirming,n=e.trade,s=e.onRefresh,c=Object(b.useRef)(null),i=Object(b.useMemo)((()=>!(null===n||void 0===n||!n.outputAmount)),[n]);Object(b.useEffect)((()=>{var e;return null!==c&&void 0!==c&&c.current&&(!t&&i?(c.current.setCurrentTime(0),c.current.unpauseAnimations(),e=setInterval((()=>s(!1,Pe.b)),1e3*Pe.ab)):(e&&clearInterval(e),c.current.setCurrentTime(0),c.current.pauseAnimations())),()=>{e&&clearInterval(e)}}),[i,t,s]);var o=!1;return Object(P.jsx)(be.g,{enableClickToRefresh:o,onClick:()=>o,children:Object(P.jsx)(Ne,{enable_click_to_refresh:0,ref:c})})}var Ee=n("./src/components/swapv2/SwapSettingsPanel/index.tsx"),Le=n("./src/components/swapv2/TokenInfo.tsx"),Re=n("./src/components/swapv2/TokenInfoV2/index.tsx"),We=n("./src/components/swapv2/TradePrice.tsx"),ze=n("./node_modules/rebass/styled-components/index.js"),De=n("./src/components/Icons/index.ts");function Fe(){var e=Object(N.b)().isSolana,t=Object(de.i)().saveGas,n=Object(de.h)().onChooseToSaveGas;return e?null:Object(P.jsxs)(be.f,{children:[Object(P.jsxs)(be.c,{onClick:()=>n(!1),active:!t,role:"button",children:[Object(P.jsx)(De.y,{}),Object(P.jsx)(ze.Text,{marginLeft:"4px",children:Object(P.jsx)(r.b,{id:"Maximum Return"})})]}),Object(P.jsxs)(be.c,{onClick:()=>n(!0),active:t,role:"button",children:[Object(P.jsx)(De.t,{}),Object(P.jsx)(ze.Text,{marginLeft:"4px",children:Object(P.jsx)(r.b,{id:"Lowest Gas"})})]})]})}var Be,Ve=n("./src/constants/tokens.ts"),He=n("./src/hooks/Tokens.ts"),Ge=n("./src/hooks/useApproveCallback.ts"),qe=n("./src/hooks/useMixpanel.ts"),Xe=n("./src/hooks/useParsedQueryString.ts"),Ye=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),Ke=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),Ze=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),Qe=n("./src/hooks/useENS.ts"),Je=n("./src/state/transactions/hooks.tsx"),$e=n("./src/state/transactions/type.ts"),et=n("./src/utils/formatCurrencyAmount.tsx"),tt=n("./src/utils/sendTransaction.ts"),nt=n("./src/hooks/solana/useProvider.ts");!function(e){e[e.INVALID=0]="INVALID",e[e.LOADING=1]="LOADING",e[e.VALID=2]="VALID"}(Be||(Be={}));var st=n("./src/hooks/useSyncTokenSymbolToUrl.ts"),ct=n("./src/hooks/useWrapCallback.ts"),it=n("./src/pages/AppBody.tsx"),ot=n("./src/pages/SwapV3/useUpdateSlippageInStableCoinSwap.tsx"),rt=n("./src/state/application/hooks.ts"),at=n("./src/state/customizeDexes/hooks.ts"),lt=n("./src/state/limit/hooks.ts"),dt=n("./src/hooks/Trades.ts"),ut=n("./src/state/wallet/hooks.ts");var jt,bt,pt,xt=n("./src/state/tutorial/hooks.ts"),Ot=n("./src/utils/aggregationRouting.ts"),mt=n("./src/utils/currencyId.ts"),ht=n("./src/utils/maxAmountSpend.ts"),vt=n("./src/utils/sentry.ts"),ft=n("./src/utils/string.ts"),gt=n("./src/utils/tokenInfo.ts"),Tt=["inputCurrency","outputCurrency"],yt=Object(b.lazy)((()=>n.e(10).then(n.bind(null,"./src/components/LiveChart/index.tsx")))),Ct=Object(b.lazy)((()=>n.e(11).then(n.bind(null,"./src/components/TradeRouting.tsx")))),wt=Object(f.default)(T.a).withConfig({displayName:"SwapV2__TutorialIcon",componentId:"sc-jjhdlz-0"})(["width:22px;height:22px;path{fill:",";stroke:",";}"],(e=>e.theme.subText),(e=>e.theme.subText));!function(e){e.SWAP="swap",e.INFO="info",e.SETTINGS="settings",e.GAS_PRICE_TRACKER="gas_price_tracker",e.LIQUIDITY_SOURCES="liquidity_sources",e.LIMIT="limit"}(pt||(pt={}));var It=f.default.div.withConfig({displayName:"SwapV2__ChristmasDecor",componentId:"sc-jjhdlz-1"})(["position:absolute;top:-20px;right:-8px;left:-8px;",""],(e=>e.theme.mediaWidth.upToSmall(jt||(jt=Object(o.a)(["\n    top: -16px;\n    right: -6px;\n    left: -4px;\n  "]))))),St=Object(f.default)(it.a).withConfig({displayName:"SwapV2__AppBodyWrapped",componentId:"sc-jjhdlz-2"})(["box-shadow:0px 4px 16px rgba(0,0,0,0.04);padding:16px 16px 24px;margin-top:0;&[data-highlight='true']{animation:"," 2s 2 alternate ease-in-out;}"],(e=>(e=>Object(f.keyframes)(["0%{box-shadow:0 0 0 0 ",";}70%{box-shadow:0 0 0 2px ",";}100%{box-shadow:0 0 0 0 ",";}"],e.primary,e.primary,e.primary))(e.theme))),kt=f.default.div.withConfig({displayName:"SwapV2__SwitchLocaleLinkWrapper",componentId:"sc-jjhdlz-3"})(["margin-bottom:30px;",""],(e=>e.theme.mediaWidth.upToMedium(bt||(bt=Object(o.a)(["\n  margin-bottom: 0px;\n"]))))),At=Object(f.default)(y.a).withConfig({displayName:"SwapV2__RoutingIconWrapper",componentId:"sc-jjhdlz-4"})(["height:27px;width:27px;margin-right:10px;path{fill:"," !important;}"],(e=>e.theme.subText));function _t(){var e,t,n,o,d,p,f,T,y=Object(m.m)(),w=Object(N.b)(),I=w.account,S=w.chainId,k=w.networkInfo,A=w.isSolana,E=w.isEVM,z=Object(b.useState)(!1),le=Object(i.a)(z,2),ue=le[0],je=le[1],Oe=Object(xe.k)(),he=Object(xe.d)(),ve=Object(i.a)(he,1)[0],fe=Object(xe.n)(),ge=Object(xe.l)(),Te=Object(Xe.a)(),ye=Object(at.a)(),Me=Object(xt.a)(),Ne=Object(i.a)(Me,1)[0].show,ze=void 0!==Ne&&Ne,De=Object(m.k)().pathname,it=Object(de.e)(),jt=Object(i.a)(it,1)[0],bt=Object(b.useRef)(null),_t=Object(b.useRef)(null),Pt=Object(b.useState)(!1),Mt=Object(i.a)(Pt,2),Nt=Mt[0],Ut=Mt[1],Et="true"===Te.highlightBox,Lt=Object(b.useState)(!1),Rt=Object(i.a)(Lt,2),Wt=Rt[0],zt=Rt[1],Dt=De.startsWith(Pe.h.SWAP),Ft=De.startsWith(Pe.h.LIMIT),Bt=Object(b.useState)(Dt?pt.SWAP:pt.LIMIT),Vt=Object(i.a)(Bt,2),Ht=Vt[0],Gt=Vt[1],qt=Object(lt.a)().onSelectPair,Xt=Object(lt.b)(),Yt=Object(b.useMemo)((()=>({[pe.a.INPUT]:Xt.currencyIn,[pe.a.OUTPUT]:Xt.currencyOut})),[Xt.currencyIn,Xt.currencyOut]);Object(b.useEffect)((()=>{Gt(Dt?pt.SWAP:pt.LIMIT)}),[Dt]);var Kt=Object(b.useCallback)((()=>{var e;Ft&&(null===(e=_t.current)||void 0===e||e.refreshListOrder())}),[Ft]);Object(de.d)();var Zt=Object(b.useState)(!1),Qt=Object(i.a)(Zt,2),Jt=Qt[0],$t=Qt[1],en=Object(U.a)(),tn=Object(rt.E)(),nn=Object(xe.c)(),sn=Object(i.a)(nn,1)[0],cn=Object(xe.x)(),on=Object(i.a)(cn,1)[0],rn=Object(de.i)(),an=rn.independentField,ln=rn.typedValue,dn=rn.recipient,un=rn.feeConfig,jn=rn[pe.a.INPUT],bn=rn[pe.a.OUTPUT],pn=Object(de.h)(),xn=pn.onSwitchTokensV2,On=pn.onCurrencySelection,mn=pn.onResetSelectCurrency,hn=pn.onUserInput,vn=pn.onChangeRecipient,fn=pn.onChangeTrade,gn=function(){var e,t,n,s,c,o=Object(N.b)(),r=o.account,l=o.chainId,d=Object(de.i)(),j=d.independentField,p=d.typedValue,x=d[pe.a.INPUT].currencyId,O=d[pe.a.OUTPUT].currencyId,m=d.recipient,h=Object(He.f)(x),v=Object(He.f)(O),f=Object(Qe.a)(null!==m&&void 0!==m?m:void 0),g=null!==(e=null===m||""===m?r:f.address)&&void 0!==e?e:null,T=Object(ut.c)(Object(b.useMemo)((()=>[null!==h&&void 0!==h?h:void 0,null!==v&&void 0!==v?v:void 0]),[h,v])),y=j===pe.a.INPUT,C=y?h:v,w=Object(b.useMemo)((()=>Object(de.b)(p,null!==C&&void 0!==C?C:void 0)),[p,C]),I=Object(xe.x)(),S=Object(i.a)(I,1)[0],k=Object(dt.b)(y?w:void 0,null!==v&&void 0!==v?v:void 0,g),A=k.trade,_=k.comparer,P=k.onUpdateCallback,M=k.loading,U=Object(b.useMemo)((()=>{var e,t;if(null!==A&&void 0!==A&&null!==(e=A.outputAmount)&&void 0!==e&&e.greaterThan(u.a.BigInt(0))&&null!==_&&void 0!==_&&null!==(t=_.outputAmount)&&void 0!==t&&t.greaterThan(u.a.BigInt(0)))try{var n=A.outputAmount.subtract(_.outputAmount),s=A.receivedUsd-parseFloat(_.receivedUsd);if(n.greaterThan(u.a.BigInt(0))&&A.receivedUsd>0&&parseFloat(_.receivedUsd)>0&&s>0){var c=s;if(c)return Object.assign({},_,{tradeSaved:{usd:c.toString(),percent:c/A.receivedUsd*100}})}}catch(i){}return null!==_&&void 0!==_?_:void 0}),[A,_]),E=y?A:void 0,L=T[0],W=T[1],z=Object(b.useMemo)((()=>({[pe.a.INPUT]:L,[pe.a.OUTPUT]:W})),[L,W]),D=Object(b.useMemo)((()=>({[pe.a.INPUT]:null!==h&&void 0!==h?h:void 0,[pe.a.OUTPUT]:null!==v&&void 0!==v?v:void 0})),[h,v]);r||(t=a.a._("Connect wallet")),w||(t=p?null!==(n=t)&&void 0!==n?n:a.a._("Invalid amount"):null!==(s=t)&&void 0!==s?s:a.a._("Enter an amount")),D[pe.a.INPUT]&&D[pe.a.OUTPUT]||(t=null!==(c=t)&&void 0!==c?c:a.a._("Select a token"));var F,B,V=Object(R.s)(l,g);g&&V?-1!==Pe.j.indexOf(V)&&(t=null!==(F=t)&&void 0!==F?F:a.a._("Invalid recipient")):t=null!==(B=t)&&void 0!==B?B:a.a._("Enter a recipient");var H=Object(b.useMemo)((()=>E&&S?Object(me.c)(E,S):null),[S,E]),G=[z[pe.a.INPUT],null===H||void 0===H?void 0:H[pe.a.INPUT]],q=G[0],X=G[1];return X&&(q&&q.lessThan(X)||!q)&&(t=a.a._("Insufficient {0} balance",{0:X.currency.symbol})),Object(b.useMemo)((()=>({currencies:D,currencyBalances:z,parsedAmount:w,v2Trade:null!==E&&void 0!==E?E:void 0,tradeComparer:U,inputError:t,onRefresh:P,loading:M})),[D,z,t,M,P,w,U,E])}(),Tn=gn.v2Trade,yn=gn.currencyBalances,Cn=gn.parsedAmount,wn=gn.currencies,In=gn.inputError,Sn=gn.tradeComparer,kn=gn.onRefresh,An=gn.loading,_n=Object(b.useState)({showConfirm:!1,tradeToConfirm:void 0,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),Pn=Object(i.a)(_n,2),Mn=Pn[0],Nn=Mn.showConfirm,Un=Mn.tradeToConfirm,En=Mn.swapErrorMessage,Ln=Mn.attemptingTxn,Rn=Mn.txHash,Wn=Pn[1],zn=Object(b.useMemo)((()=>null===ye||void 0===ye?void 0:ye.find((e=>e.id===(null===Sn||void 0===Sn?void 0:Sn.comparedDex)))),[ye,Sn]),Dn=wn[pe.a.INPUT],Fn=wn[pe.a.OUTPUT],Bn=Object(b.useMemo)((()=>{var e,t;return null!==(e=null===(t=Dt?[Dn,Fn]:[Xt.currencyIn,Xt.currencyOut])||void 0===t?void 0:t.filter((e=>e instanceof l.Token)))&&void 0!==e?e:[]}),[Dt,Dn,Fn,Xt.currencyIn,Xt.currencyOut]),Vn=Object(He.e)(),Hn=Bn&&Bn.filter((e=>!Boolean(e.address in Vn))),Gn=yn[pe.a.INPUT],qn=yn[pe.a.OUTPUT],Xn=Object(ct.b)(Dn,Fn,ln),Yn=Xn.wrapType,Kn=Xn.execute,Zn=Xn.inputError,Qn=A&&Yn===ct.a.UNWRAP;Object(b.useEffect)((()=>{var e;Qn&&hn(pe.a.INPUT,null!==(e=null===Gn||void 0===Gn?void 0:Gn.toExact())&&void 0!==e?e:"")}),[Gn,Qn,hn,Cn]);var Jn=Yn!==ct.a.NOT_APPLICABLE,$n=Jn?void 0:Tn,es=null===$n||void 0===$n?void 0:$n.priceImpact,ts=!!es&&-1===es,ns=!!es&&es>5,ss=!!es&&es>15,cs=Jn?{[pe.a.INPUT]:Cn,[pe.a.OUTPUT]:Cn}:{[pe.a.INPUT]:an===pe.a.INPUT?Cn:null===$n||void 0===$n?void 0:$n.inputAmount,[pe.a.OUTPUT]:an===pe.a.OUTPUT?Cn:null===$n||void 0===$n?void 0:$n.outputAmount},is=Object(qe.c)(wn).mixpanelHandler;Object(b.useEffect)((()=>{vn(null)}),[vn,sn]),Object(b.useEffect)((()=>{fn($n)}),[$n,fn]);var os=an===pe.a.INPUT?pe.a.OUTPUT:pe.a.INPUT,rs=Object(b.useCallback)((e=>{hn(pe.a.INPUT,e)}),[hn]),as=Object(b.useCallback)((()=>{}),[]),ls=Object(b.useCallback)((()=>{Nt?Ut(!1):$t(!0)}),[Nt]),ds=Object(b.useCallback)((e=>{var t;(ls(),Nt)&&(null===(t=bt.current)||void 0===t||t.onConfirmImportToken());Ft&&qt(e[0],e[1])}),[Ft,qt,Nt,ls]),us={[an]:ln,[os]:Jn?null!==(e=null===(t=cs[an])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"":null!==(n=null===(o=cs[os])||void 0===o?void 0:o.toSignificant(6))&&void 0!==n?n:""},js=Boolean(Dn&&Fn&&(null===(d=cs[an])||void 0===d?void 0:d.greaterThan(u.a.BigInt(0)))),bs=!(null!==$n&&void 0!==$n&&null!==(p=$n.swaps)&&void 0!==p&&p.length),ps=Object(Ge.c)($n,on),xs=Object(i.a)(ps,2),Os=xs[0],ms=xs[1],hs=Object(b.useState)(!1),vs=Object(i.a)(hs,2),fs=vs[0],gs=vs[1],Ts=Object(b.useCallback)((()=>{gs(!1),je((e=>!e)),xn(),zt(!0)}),[xn]);Object(b.useEffect)((()=>{Os===Ge.a.PENDING&&gs(!0),Os===Ge.a.NOT_APPROVED&&gs(!1)}),[Os,fs]);var ys=Object(b.useMemo)((()=>{var e;return null===(e=Object(ht.b)(Gn))||void 0===e?void 0:e.toExact()}),[Gn]),Cs=Object(b.useMemo)((()=>{var e;return null===(e=Object(ht.a)(Gn))||void 0===e?void 0:e.toExact()}),[Gn]),ws=function(e){var t=Object(N.b)(),n=t.account,c=t.chainId,o=t.isEVM,r=t.isSolana,a=t.walletSolana,l=Object(N.e)().library,d=Object(N.f)().connection,u=Object(nt.a)(),j=Object(de.e)(),p=Object(i.a)(j,1)[0],x=Object(de.i)(),O=x.typedValue,m=x.feeConfig,h=x.saveGas,v=x.recipient,f=Object(xe.x)(),g=Object(i.a)(f,1)[0],T=Object(Je.g)(),y=Object(Qe.a)(v).address,C=null===v||""===v?n:y,w=Object(b.useCallback)((()=>{if(!e)throw new Error('"trade" is undefined.');var t=e.inputAmount.currency.symbol,s=e.outputAmount.currency.symbol,i=e.inputAmount.currency.isNative?Pe.fb:e.inputAmount.currency.address,o=e.outputAmount.currency.isNative?Pe.fb:e.outputAmount.currency.address,r=Object(et.a)(e.inputAmount,6),a=Object(et.a)(e.outputAmount,6),l=m&&"currency_in"===m.chargeFeeBy&&m.isInBps?O:r,d=C===n?void 0:"to ".concat(v&&Object(R.s)(c,v)?Object(R.A)(c,v):v);return{hash:"",type:$e.c.SWAP,extraInfo:{tokenAmountIn:l,tokenAmountOut:a,tokenSymbolIn:t,tokenSymbolOut:s,tokenAddressIn:i,tokenAddressOut:o,arbitrary:{inputSymbol:t,outputSymbol:s,inputAddress:i,outputAddress:o,inputDecimals:e.inputAmount.currency.decimals,outputDecimals:e.outputAmount.currency.decimals,withRecipient:d,saveGas:h,inputAmount:e.inputAmount.toExact(),slippageSetting:g?g/100:0,priceImpact:e&&(null===e||void 0===e?void 0:e.priceImpact)>.01?null===e||void 0===e?void 0:e.priceImpact.toFixed(2):"<0.01"}}}}),[n,g,c,m,C,v,h,e,O]);return Object(b.useMemo)((()=>{if(!e||!n)return{state:Be.INVALID,callback:null,error:"Missing dependencies"};var t=w(),i=e=>{T(Object(s.a)(Object(s.a)({},t),{},{hash:e.hash}))};if(!C)return null!==v?{state:Be.INVALID,callback:null,error:"Invalid recipient"}:{state:Be.LOADING,callback:null,error:null};var j=Ze.a.from(e.inputAmount.currency.isNative?e.inputAmount.quotient.toString():0),b=function(){var t=Object(Ke.a)(Object(Ye.a)().mark((function t(){var s;return Object(Ye.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(tt.a)(n,l,e.routerAddress,e.encodedSwapData,j,i,c);case 2:if(void 0!==(null===(s=t.sent)||void 0===s?void 0:s.hash)){t.next=5;break}throw new Error("sendTransaction returned undefined.");case 5:return t.abrupt("return",null===s||void 0===s?void 0:s.hash);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var e=Object(Ke.a)(Object(Ye.a)().mark((function e(){var n,s;return Object(Ye.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}throw new Error("Please connect wallet first");case 2:if(null!==(n=a.wallet)&&void 0!==n&&n.adapter){e.next=4;break}throw new Error("Please connect wallet first");case 4:if(p){e.next=6;break}throw new Error("Encode not found");case 6:if(d){e.next=8;break}throw new Error("connection is empty");case 8:return e.next=10,Object(tt.b)(d,p,a.wallet.adapter,T,t);case 10:if(void 0!==(s=e.sent)){e.next=13;break}throw new Error("sendTransaction returned undefined.");case 13:return e.abrupt("return",s[0]);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{state:Be.VALID,callback:o?b:r&&p?x:null,error:null}}),[c,e,p,n,C,o,r,v,l,u,a,T,w,d])}($n),Is=ws.callback,Ss=ws.error,ks=Object(b.useCallback)((()=>{Is&&(is(qe.a.SWAP_CONFIRMED,{gasUsd:null===$n||void 0===$n?void 0:$n.gasUsd,inputAmount:null===$n||void 0===$n?void 0:$n.inputAmount,priceImpact:null===$n||void 0===$n?void 0:$n.priceImpact}),Wn({attemptingTxn:!0,tradeToConfirm:Un,showConfirm:Nn,swapErrorMessage:void 0,txHash:void 0}),Is().then((e=>{Wn({attemptingTxn:!1,tradeToConfirm:Un,showConfirm:Nn,swapErrorMessage:void 0,txHash:e})})).catch((e=>{4001!==(null===e||void 0===e?void 0:e.code)&&"ACTION_REJECTED"!==(null===e||void 0===e?void 0:e.code)&&Object(vt.c)(e),Wn({attemptingTxn:!1,tradeToConfirm:Un,showConfirm:Nn,swapErrorMessage:e.message,txHash:void 0})})))}),[Is,Un,Nn,is,null===$n||void 0===$n?void 0:$n.gasUsd,null===$n||void 0===$n?void 0:$n.inputAmount,null===$n||void 0===$n?void 0:$n.priceImpact]),As=!In&&(Os===Ge.a.NOT_APPROVED||Os===Ge.a.PENDING||fs&&Os===Ge.a.APPROVED),_s=Object(b.useRef)(0);Object(b.useEffect)((()=>{_s.current=Date.now()}),[$n]);var Ps=Object(b.useCallback)((()=>{Wn({showConfirm:!1,tradeToConfirm:Un,attemptingTxn:Ln,swapErrorMessage:En,txHash:Rn}),Date.now()-_s.current>1e3*Pe.ab&&kn(!1,Pe.b),Rn&&hn(pe.a.INPUT,"")}),[Ln,hn,En,Un,Rn,kn]),Ms=Object(b.useCallback)((()=>{Wn({tradeToConfirm:$n,swapErrorMessage:En,txHash:Rn,attemptingTxn:Ln,showConfirm:Nn})}),[Ln,Wn,Nn,En,$n,Rn]),Ns=Object(b.useCallback)((e=>{zt(!0),gs(!1),On(pe.a.INPUT,e)}),[On]),Us=Object(b.useCallback)((()=>{hn(pe.a.INPUT,ys||"")}),[ys,hn]),Es=Object(b.useCallback)((()=>{!Qn&&hn(pe.a.INPUT,Cs||"")}),[Qn,Cs,hn]),Ls=Object(b.useCallback)((e=>{zt(!0),On(pe.a.OUTPUT,e)}),[On]),Rs=An||(!Gn||!qn)&&js&&!Tn,Ws=()=>{is(qe.a.SWAP_INITIATED,{gasUsd:null===$n||void 0===$n?void 0:$n.gasUsd,inputAmount:null===$n||void 0===$n?void 0:$n.inputAmount,priceImpact:null===$n||void 0===$n?void 0:$n.priceImpact})},zs=Object(b.useCallback)(((e,t,n)=>{Ft?qt(e,t,n):(e&&On(pe.a.INPUT,e),t&&On(pe.a.OUTPUT,t),n&&rs(n))}),[rs,On,qt,Ft]),Ds=Object(xe.t)(),Fs=Object(h.a)(Ds);Object(b.useEffect)((()=>{var e,t;if(Fs&&((null===Fs||void 0===Fs?void 0:Fs.length)>Ds.length&&Fs[0].chainId===S)){var n=null===Dn||void 0===Dn||null===(e=Dn.wrapped)||void 0===e?void 0:e.address,s=null===Fn||void 0===Fn||null===(t=Fn.wrapped)||void 0===t?void 0:t.address;Fs.filter((e=>!Ds.find((t=>t.address===e.address)))).forEach((e=>{var t=e.address;t!==n&&Dn||mn(pe.a.INPUT),t!==s&&Fn||mn(pe.a.OUTPUT)}))}}),[Ds,S,Fs,Dn,Fn,mn]),Object(st.a)(Dn,Fn,zs,Wt,Ft);var Bs=Object(He.i)();Object(b.useEffect)((()=>{sn&&is(qe.a.ADVANCED_MODE_ON)}),[sn,is]);var Vs=Object(xe.x)(),Hs=Object(i.a)(Vs,1)[0],Gs=Boolean((null===jn||void 0===jn?void 0:jn.currencyId)&&(null===bn||void 0===bn?void 0:bn.currencyId)&&S&&Ve.l[S].includes(null===jn||void 0===jn?void 0:jn.currencyId)&&Ve.l[S].includes(null===bn||void 0===bn?void 0:bn.currencyId));Object(ot.a)();var qs=Object(b.useMemo)((()=>{var e=Dt?Dn:Xt.currencyIn,t=Dt?Fn:Xt.currencyOut;return"".concat(window.location.origin).concat(Dt?Pe.h.SWAP:Pe.h.LIMIT,"/").concat(k.route).concat(e&&t?"?".concat(Object(j.stringify)({inputCurrency:Object(mt.a)(e,S),outputCurrency:Object(mt.a)(t,S)})):"")}),[k.route,Dn,Fn,S,Xt.currencyIn,Xt.currencyOut,Dt]),Xs=Object(gt.a)(S,Object(ft.c)(Dn),Object(ft.c)(Fn)),Ys=Xs.isInWhiteList,Ks=Xs.canonicalUrl,Zs=()=>Gt(Ft?pt.LIMIT:pt.SWAP),Qs=e=>Gt(Ht===e?Ft?pt.LIMIT:pt.SWAP:e),Js=ge&&Dn&&Fn&&Ys&&Dt,$s=Bs&&Hn.length>0&&(!Jt||Nt),ec=Object(b.useMemo)((()=>!1),[]),tc=Object(b.useMemo)((()=>Object(Ot.a)(S,null===$n||void 0===$n?void 0:$n.inputAmount,null===$n||void 0===$n?void 0:$n.tokens,null===$n||void 0===$n?void 0:$n.swaps,Vn)),[S,Vn,$n]),nc=e=>{Gt(e);var t=e===pt.LIMIT,n=(Te.inputCurrency,Te.outputCurrency,Object(c.a)(Te,Tt));y({pathname:"".concat(t?Pe.h.LIMIT:Pe.h.SWAP,"/").concat(k.route),search:Object(j.stringify)(n)})};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(K.a,{canonicalUrl:Ks}),Object(P.jsx)(oe.b,{}),Object(P.jsx)(te.a,{isOpen:$s,tokens:Hn,onConfirm:ds,onDismiss:ls}),Object(P.jsxs)(be.l,{children:[Object(P.jsx)(F.a,{}),Object(P.jsx)(se.a,{}),Object(P.jsxs)(be.d,{children:[Object(P.jsxs)(be.s,{isShowTutorial:ze,children:[Object(P.jsxs)(M.b,{children:[Object(P.jsx)(be.v,{children:Object(P.jsxs)(be.w,{children:[Object(P.jsx)(be.u,{onClick:()=>nc(pt.SWAP),isActive:Dt,children:Object(P.jsx)(v.d,{fontSize:20,fontWeight:500,children:Object(P.jsx)(r.b,{id:"Swap"})})}),Object(R.o)(S)&&Object(P.jsxs)(be.u,{onClick:()=>nc(pt.LIMIT),isActive:Ft,children:[Object(P.jsx)(v.d,{fontSize:20,fontWeight:500,children:Object(P.jsx)(r.b,{id:"Limit"})}),Object(P.jsx)(be.a,{children:Object(P.jsx)(r.b,{id:"Beta"})})]})]})}),Object(P.jsxs)(be.r,{children:[Object(P.jsx)(ie.b,{type:Dt?ie.a.SWAP:ie.a.LIMIT_ORDER,customIcon:Object(P.jsx)(be.o,{children:Object(P.jsx)(wt,{})})}),Object(P.jsx)(Ae.a,{currencies:Dt?wn:Yt,onClick:()=>Qs(pt.INFO)}),Object(P.jsx)(Z.a,{title:a.a._("Share this with your friends!"),url:qs,onShared:()=>{is(qe.a.TOKEN_SWAP_LINK_SHARED)}}),Object(P.jsx)(be.o,{active:Ht===pt.SETTINGS,onClick:()=>Qs(pt.SETTINGS),"aria-label":"Swap Settings",children:Object(P.jsx)(ne.a,{text:sn?Object(P.jsx)(r.b,{id:"Advanced mode is on!"}):Object(P.jsx)(r.b,{id:"Settings"}),placement:"top",width:"fit-content",children:Object(P.jsx)("span",{id:re.b.BUTTON_SETTING_SWAP_FORM,children:Object(P.jsx)(G.a,{fill:sn?en.warning:en.subText})})})})]})]}),Object(P.jsx)(M.b,{children:Object(P.jsx)(v.d,{fontSize:12,color:en.subText,children:Ft?Object(P.jsx)(r.b,{id:"Buy or sell any token at a specific price"}):Object(P.jsx)(r.b,{id:"Buy or sell any token instantly at the best price"})})}),!A&&Object(P.jsx)(M.b,{children:Object(P.jsx)(_e.c,{ref:bt,onSelectSuggestedPair:zs,setShowModalImportToken:Ut})}),Object(P.jsxs)(St,{"data-highlight":Et,id:re.b.SWAP_FORM,children:[Ht===pt.SWAP&&Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(be.z,{id:re.b.SWAP_FORM_CONTENT,children:[Object(P.jsx)(Ce,{isOpen:Nn,trade:$n,originalTrade:Un,onAcceptChanges:Ms,attemptingTxn:Ln,txHash:Rn,recipient:dn,allowedSlippage:on,onConfirm:ks,swapErrorMessage:En,onDismiss:Ps,tokenAddToMetaMask:Fn}),Object(P.jsxs)(v.b,{flexDirection:"column",sx:{gap:"0.75rem"},children:[Object(P.jsx)(H.g,{value:us[pe.a.INPUT],positionMax:"top",currency:Dn,onUserInput:rs,onMax:Us,onHalf:Qn?null:Es,onCurrencySelect:Ns,otherCurrency:Fn,id:"swap-currency-input",showCommonBases:!0,estimatedUsd:null!==$n&&void 0!==$n&&$n.amountInUsd?"".concat(Object(R.i)($n.amountInUsd.toString(),!0)):void 0}),Object(P.jsxs)(M.a,{justify:"space-between",children:[Object(P.jsx)(v.b,{alignItems:"center",children:!Jn&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ue,{isConfirming:Nn,trade:$n,onRefresh:kn}),Object(P.jsx)(We.a,{price:null===$n||void 0===$n?void 0:$n.executionPrice})]})}),Object(P.jsx)(D.b,{rotate:ue,onClick:Ts})]}),Object(P.jsxs)(v.a,{sx:{position:"relative"},children:[(null===Sn||void 0===Sn||null===(f=Sn.tradeSaved)||void 0===f?void 0:f.usd)&&zn&&Object(P.jsxs)(be.i,{children:[Object(P.jsx)(r.b,{id:"You save"})," ",Object(R.i)(Sn.tradeSaved.usd,!0)+" (".concat((null===Sn||void 0===Sn||null===(T=Sn.tradeSaved)||void 0===T?void 0:T.percent)&&(Sn.tradeSaved.percent<.01?"<0.01":Sn.tradeSaved.percent.toFixed(2)),"%)"),Object(P.jsx)(q.a,{text:Object(P.jsxs)(v.d,{children:[Object(P.jsx)(r.b,{id:"The amount you save compared to <0>{0}</0>.",values:{0:zn.name},components:{0:Object(P.jsx)(v.d,{as:"span",color:en.warning})}})," ",Object(P.jsx)(r.b,{id:"<0>KyberSwap</0> gets you the best token rates",components:{0:Object(P.jsx)(v.d,{color:en.primary,fontWeight:500,as:"span"})}})]}),size:14,color:en.apr})]}),Object(P.jsx)(H.g,{disabledInput:!0,value:us[pe.a.OUTPUT],onUserInput:as,onMax:null,onHalf:null,currency:Fn,onCurrencySelect:Ls,otherCurrency:Dn,id:"swap-currency-output",showCommonBases:!0,estimatedUsd:null!==$n&&void 0!==$n&&$n.amountOutUsd?"".concat(Object(R.i)($n.amountOutUsd.toString(),!0)):void 0})]}),sn&&E&&!Jn&&Object(P.jsx)(C.b,{id:"recipient",value:dn,onChange:e=>{null===dn&&null!==e&&is(qe.a.ADD_RECIPIENT_CLICKED),vn(e)}}),!Jn&&Object(P.jsx)($.a,{isStablePairSwap:Gs}),Object(P.jsx)(ce.a,{currencyIn:Dn,currencyOut:Fn,style:{marginTop:"24px"}}),!Jn&&Object(P.jsx)(Q.a,{rawSlippage:Hs,isStablePairSwap:Gs}),Object(P.jsx)(J.a,{priceImpact:null===$n||void 0===$n?void 0:$n.priceImpact,isAdvancedMode:sn}),ec&&Object(P.jsxs)(be.m,{children:[Object(P.jsx)(x.a,{color:en.warning,size:24,style:{marginRight:"8px"}}),Object(P.jsx)(r.b,{id:"Your transaction may not be successful. We recommend increasing the slippage for this trade"})]}),Object(P.jsx)(W,{routerAddress:null===$n||void 0===$n?void 0:$n.routerAddress,isCurrencyInNative:Boolean(null===Dn||void 0===Dn?void 0:Dn.isNative)})]}),Object(P.jsx)(Fe,{}),Object(P.jsxs)(be.b,{children:[I?Jn?Object(P.jsx)(B.i,{disabled:Boolean(Zn),onClick:Kn,children:null!==Zn&&void 0!==Zn?Zn:Yn===ct.a.WRAP?Object(P.jsx)(r.b,{id:"Wrap"}):Yn===ct.a.UNWRAP?Object(P.jsx)(r.b,{id:"Unwrap"}):null}):bs&&js?Object(P.jsx)(_.c,{style:{textAlign:"center",borderRadius:"999px",padding:"12px"},children:Object(P.jsx)(L.l.main,{children:Object(P.jsx)(r.b,{id:"Insufficient liquidity for this trade."})})}):As?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(M.b,{children:[Object(P.jsx)(B.b,{onClick:ms,disabled:Os!==Ge.a.NOT_APPROVED||fs,width:"48%",altDisabledStyle:Os===Ge.a.PENDING,confirmed:Os===Ge.a.APPROVED,children:Os===Ge.a.PENDING?Object(P.jsxs)(M.a,{gap:"6px",justify:"center",children:[Object(P.jsx)(r.b,{id:"Approving"})," ",Object(P.jsx)(X.a,{stroke:"white"})]}):fs&&Os===Ge.a.APPROVED?Object(P.jsx)(r.b,{id:"Approved"}):Object(P.jsx)(r.b,{id:"Approve ${0}",values:{0:null===Dn||void 0===Dn?void 0:Dn.symbol}})}),Object(P.jsx)(B.e,{onClick:()=>{Ws(),sn?ks():Wn({tradeToConfirm:$n,attemptingTxn:!1,swapErrorMessage:void 0,showConfirm:!0,txHash:void 0})},width:"48%",id:"swap-button",disabled:!!In||Os!==Ge.a.APPROVED,backgroundColor:ss||ts?en.red:ns?en.warning:void 0,color:ns||ts?en.white:void 0,children:Object(P.jsx)(v.d,{fontSize:16,fontWeight:500,children:ns?Object(P.jsx)(r.b,{id:"Swap Anyway"}):Object(P.jsx)(r.b,{id:"Swap"})})})]}),Object(P.jsx)(V.c,{style:{marginTop:"1rem"},children:Object(P.jsx)(Y.a,{steps:[Os===Ge.a.APPROVED]})})]}):Rs?Object(P.jsx)(_.c,{style:{textAlign:"center",borderRadius:"999px",padding:"12px"},children:Object(P.jsx)(v.d,{color:en.subText,fontSize:"14px",children:Object(P.jsx)(be.e,{children:Object(P.jsx)(r.b,{id:"Calculating best route"})})})}):Object(P.jsxs)(B.e,{onClick:()=>{Ws(),Wn({tradeToConfirm:$n,attemptingTxn:!1,swapErrorMessage:void 0,showConfirm:!0,txHash:void 0})},id:"swap-button",disabled:!!In||!!Ss||Os!==Ge.a.APPROVED||!sn&&(ss||ts)||sn&&A&&!jt,style:Object(s.a)({position:"relative",border:"none"},In||Ss||Os!==Ge.a.APPROVED||!sn&&(ss||ts)||sn&&A&&!jt||!ns&&!ts?{}:{background:ss||ts?en.red:en.warning,color:en.white}),children:[Object(P.jsx)(v.d,{fontWeight:500,children:In||(Os!==Ge.a.APPROVED?Object(P.jsx)(be.e,{children:Object(P.jsx)(r.b,{id:"Checking allowance"})}):sn&&A&&!jt?Object(P.jsx)(be.e,{children:Object(P.jsx)(r.b,{id:"Checking accounts"})}):ns||ts?Object(P.jsx)(r.b,{id:"Swap Anyway"}):Object(P.jsx)(r.b,{id:"Swap"}))}),ve&&!In&&Object(P.jsx)(It,{children:Object(P.jsx)("img",{src:g,width:"100%",alt:""})})]}):Object(P.jsx)(B.g,{onClick:tn,children:Object(P.jsx)(r.b,{id:"Connect Wallet"})}),sn&&En?Object(P.jsx)(be.q,{error:En}):null]})]})}),Ht===pt.INFO&&Object(P.jsx)(Le.a,{currencies:Dt?wn:Yt,onBack:Zs}),Ht===pt.SETTINGS&&Object(P.jsx)(Ee.a,{isLimitOrder:Ft,onBack:Zs,onClickLiquiditySources:()=>Gt(pt.LIQUIDITY_SOURCES),onClickGasPriceTracker:()=>Gt(pt.GAS_PRICE_TRACKER)}),Ht===pt.GAS_PRICE_TRACKER&&Object(P.jsx)(we.a,{onBack:()=>Gt(pt.SETTINGS)}),Ht===pt.LIQUIDITY_SOURCES&&Object(P.jsx)(ke.a,{onBack:()=>Gt(pt.SETTINGS)}),Ht===pt.LIMIT&&Object(P.jsx)(Ie.a,{isSelectCurrencyManual:Wt,setIsSelectCurrencyManual:zt,refreshListOrder:Kt})]}),Dt&&Object(P.jsx)(ae.b,{trade:$n,feeConfig:un})]}),(Oe||fe||Js||Ft)&&Object(P.jsxs)(be.h,{children:[Oe&&Object(P.jsx)(be.j,{children:Object(P.jsx)(b.Suspense,{fallback:Object(P.jsx)(O.a,{height:"100%",baseColor:en.background,highlightColor:en.buttonGray,borderRadius:"1rem"}),children:Object(P.jsx)(yt,{currencies:Dt?wn:Yt})})}),fe&&Dt&&Object(P.jsx)(be.n,{isOpenChart:Oe,children:Object(P.jsxs)(v.b,{flexDirection:"column",width:"100%",children:[Object(P.jsxs)(v.b,{alignItems:"center",children:[Object(P.jsx)(At,{}),Object(P.jsx)(v.d,{fontSize:20,fontWeight:500,color:en.subText,children:Object(P.jsx)(r.b,{id:"Your trade route"})})]}),Object(P.jsx)(b.Suspense,{fallback:Object(P.jsx)(O.a,{height:"100px",baseColor:en.background,highlightColor:en.buttonGray,borderRadius:"1rem"}),children:Object(P.jsx)(Ct,{tradeComposition:tc,currencyIn:Dn,currencyOut:Fn,inputAmount:null===$n||void 0===$n?void 0:$n.inputAmount,outputAmount:null===$n||void 0===$n?void 0:$n.outputAmount})})]})}),Ft&&Object(P.jsx)(Se.a,{ref:_t}),Js&&Object(P.jsx)(Re.a,{currencyIn:Dn,currencyOut:Fn})]})]}),Object(P.jsx)(v.b,{justifyContent:"center",children:Object(P.jsx)(kt,{children:Object(P.jsx)(ee.a,{})})})]})]})}},"./src/state/bridge/hooks.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return l}));var s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),o=n("./src/state/bridge/actions.ts");function r(){var e=Object(i.d)();return[Object(i.e)((e=>e.bridge)),Object(c.useCallback)((t=>e(Object(o.c)(t))),[e])]}function a(){var e=Object(i.d)(),t=Object(c.useCallback)((()=>e(Object(o.a)())),[e]),n=Object(c.useCallback)((t=>e(Object(o.b)(t))),[e]);return{resetBridgeState:t,setBridgeState:r()[1],setBridgePoolInfo:n}}function l(e){var t=r(),n=Object(s.a)(t,1)[0].tokenInfoOut;return Object(c.useMemo)((()=>function(e,t){var n=Number(e);if(n&&t){var s=Number(t.SwapFeeRatePerMillion),c=Number(t.MaximumSwapFee),i=Number(t.MinimumSwapFee),o=Number(t.BaseFeePercent),r=o?i/(100+o)*100:i,a=n*s/100;a<r?a=r:a>c&&(a=c);var l=n-a-(o?r*o/100:0);if(l>0)return{fee:a,outputAmount:l,time:"~3-30 mins",inputAmount:e}}return{fee:"",outputAmount:"",time:"--",inputAmount:e}}(e,n)),[e,n])}}}]);