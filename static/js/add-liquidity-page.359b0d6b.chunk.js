(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[13],{"./src/components/Dots.tsx":function(e,t,i){"use strict";var n=i("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=n},"./src/components/LiquidityProviderMode/index.tsx":function(e,t,i){"use strict";var n=i("./node_modules/@lingui/react/esm/index.js"),o=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=i("./src/components/InfoHelper/index.tsx"),c=i("./src/components/PoolList/styled.tsx"),r=i("./src/hooks/useTheme.ts"),a=i("./node_modules/react/jsx-runtime.js"),d=Object(o.default)(c.g).withConfig({displayName:"LiquidityProviderMode__Tab",componentId:"sc-ojkkge-0"})(["padding:8px;"]);t.a=e=>{var t=e.activeTab,i=e.setActiveTab,o=e.singleTokenInfo,l=Object(r.a)();return Object(a.jsxs)(c.f,{style:{padding:"4px"},children:[Object(a.jsx)(d,{active:0===t,onClick:()=>i(0),role:"button",children:Object(a.jsx)(n.b,{id:"Token Pair"})}),Object(a.jsxs)(d,{active:1===t,onClick:()=>i(1),role:"button",children:[Object(a.jsx)(n.b,{id:"Single Token"}),Object(a.jsx)(s.a,{text:o,size:12,isActive:1===t,color:1===t?l.text:l.subText})]})]})}},"./src/components/PoolList/styled.tsx":function(e,t,i){"use strict";i.d(t,"h",(function(){return s})),i.d(t,"c",(function(){return c})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return l})),i.d(t,"k",(function(){return b})),i.d(t,"e",(function(){return u})),i.d(t,"d",(function(){return j})),i.d(t,"l",(function(){return p})),i.d(t,"m",(function(){return m})),i.d(t,"f",(function(){return x})),i.d(t,"g",(function(){return O}));var n=i("./node_modules/rebass/dist/index.esm.js"),o=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=o.default.div.withConfig({displayName:"styled__TableRow",componentId:"sc-w652p9-0"})(["display:grid;grid-gap:1.5rem;grid-template-columns:2fr 1.5fr 1fr 1fr 1fr 1fr 1fr;padding:12px 16px;font-size:14px;align-items:center;height:fit-content;position:relative;border-bottom:1px solid ",";background:",";:last-child{border-bottom:none;border-bottom-right-radius:20px;border-bottom-left-radius:20px;}"],(e=>e.theme.border),(e=>e.theme.background)),c=Object(o.default)(n.b).withConfig({displayName:"styled__DataText",componentId:"sc-w652p9-1"})(["color:",";flex-direction:column;"],(e=>e.theme.text7)),r=Object(o.default)(n.b).withConfig({displayName:"styled__ButtonWrapper",componentId:"sc-w652p9-2"})(["justify-content:flex-end;gap:4px;align-items:center;"]),a=o.default.div.withConfig({displayName:"styled__AMPLiquidityAndTVLContainer",componentId:"sc-w652p9-3"})(["display:flex;flex-direction:column;align-items:flex-end;gap:8px;"]),d=o.default.div.withConfig({displayName:"styled__TextTVL",componentId:"sc-w652p9-4"})(["font-size:12px;color:",";"],(e=>e.theme.subText)),l=o.default.div.withConfig({displayName:"styled__TokenRatioContainer",componentId:"sc-w652p9-5"})(["background:",";position:relative;overflow:hidden;border-radius:999px;padding:4px;overflow:hidden;margin-top:1rem;"],(e=>e.theme.background)),b=o.default.div.withConfig({displayName:"styled__TokenRatioGrid",componentId:"sc-w652p9-6"})(["padding:4px;display:grid;grid-template-columns:auto 1fr 1fr auto;grid-template-rows:1fr;gap:8px;isolation:isolate;"]),u=o.default.div.withConfig({displayName:"styled__ProgressWrapper",componentId:"sc-w652p9-7"})(["position:absolute;top:2px;left:2px;bottom:2px;width:calc(100% - 4px);border-top-left-radius:999px;border-bottom-left-radius:999px;overflow:hidden;"]),j=o.default.div.withConfig({displayName:"styled__Progress",componentId:"sc-w652p9-8"})(["height:44px;width:",";background:",";"],(e=>e.value+"%"),(e=>e.theme.buttonBlack)),p=o.default.div.withConfig({displayName:"styled__TokenRatioName",componentId:"sc-w652p9-9"})(["font-size:14px;font-weight:500;"]),m=o.default.div.withConfig({displayName:"styled__TokenRatioPercent",componentId:"sc-w652p9-10"})(["font-size:12px;font-weight:500;color:",";"],(e=>e.theme.subText)),x=o.default.div.withConfig({displayName:"styled__TabContainer",componentId:"sc-w652p9-11"})(["width:100%;background:",";border-radius:20px;display:flex;padding:2px;cursor:pointer;"],(e=>e.theme.tabBackgound)),O=o.default.div.withConfig({displayName:"styled__TabItem",componentId:"sc-w652p9-12"})(["font-size:12px;font-weight:500;color:",";background:",";display:flex;justify-content:center;align-items:center;padding:6px;border-radius:20px;flex-grow:1;flex-basis:0;transition:color 300ms;"],(e=>{var t=e.theme;return e.active?t.text:t.subText}),(e=>{var t=e.theme;return e.active?t.tabActive:"transparent"}))},"./src/components/ZapError/index.tsx":function(e,t,i){"use strict";var n=i("./node_modules/polished/dist/polished.esm.js"),o=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),s=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=i("./src/hooks/useTheme.ts"),r=i("./node_modules/react/jsx-runtime.js"),a=s.default.div.withConfig({displayName:"ZapError__ZapErrorWrapper",componentId:"sc-si8u1w-0"})(["display:flex;align-items:center;gap:8px;background:",";padding:1rem;border-radius:999px;margin-bottom:28px;color:",";font-size:12px;font-weight:400;"],(e=>{var t=e.theme,i=e.warning;return Object(n.d)(i?t.warning:t.red,.35)}),(e=>e.theme.text));t.a=e=>{var t=e.message,i=e.warning,n=Object(c.a)();return Object(r.jsxs)(a,{warning:i,children:[Object(r.jsx)(o.a,{color:i?n.warning:n.red,style:{strokeWidth:1.5},size:16}),t]})}},"./src/hooks/useProAmmPositions.ts":function(e,t,i){"use strict";i.d(t,"c",(function(){return m})),i.d(t,"b",(function(){return x})),i.d(t,"a",(function(){return O}));var n=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),o=i("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),s=i("./node_modules/@ethersproject/address/lib.esm/index.js"),c=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),r=i("./node_modules/@ethersproject/solidity/lib.esm/index.js"),a=i("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),d=i("./node_modules/react/index.js"),l=i("./src/hooks/index.ts"),b=i("./src/state/farms/elastic/hooks.ts"),u=i("./src/state/multicall/hooks.ts"),j=i("./src/hooks/useContract.ts");function p(e){var t=Object(j.p)(),i=Object(l.b)(),c=i.isEVM,a=i.networkInfo,b=Object(d.useMemo)((()=>e?e.map((e=>[e])):[]),[e]),p=Object(u.d)(t,"positions",b),m=Object(d.useMemo)((()=>p.some((e=>e.loading))),[p]),x=Object(d.useMemo)((()=>p.some((e=>e.error))),[p]),O=Object(d.useMemo)((()=>{if(!m&&!x&&e&&c)return p.map(((t,i)=>{var n=e[i],c=t.result;return{tokenId:n,poolId:Object(s.getCreate2Address)(a.elastic.coreFactory,Object(r.keccak256)(["bytes"],[o.b.encode(["address","address","uint24"],[c.info.token0,c.info.token1,c.info.fee])]),a.elastic.initCodeHash),feeGrowthInsideLast:c.pos.feeGrowthInsideLast,nonce:c.pos.nonce,liquidity:c.pos.liquidity,operator:c.pos.operator,tickLower:c.pos.tickLower,tickUpper:c.pos.tickUpper,rTokenOwed:c.pos.rTokenOwed,fee:c.info.fee,token0:c.info.token0,token1:c.info.token1}}))}),[m,x,p,e,a,c]);return Object(d.useMemo)((()=>({loading:m,positions:null===O||void 0===O?void 0:O.map(((e,t)=>Object(n.a)(Object(n.a)({},e),{},{tokenId:b[t][0]})))})),[m,O,b])}function m(e){var t,i=p(e?[e]:void 0);return{loading:i.loading,position:null===(t=i.positions)||void 0===t?void 0:t[0]}}function x(e){var t,i=Object(j.p)(),n=Object(u.c)(i,"balanceOf",[null!==e&&void 0!==e?e:void 0]),o=n.loading,s=n.result,r=null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.toNumber(),a=Object(d.useMemo)((()=>{if(r&&e){for(var t=[],i=0;i<r;i++)t.push([e,i]);return t}return[]}),[e,r]),l=Object(u.d)(i,"tokenOfOwnerByIndex",a),b=Object(d.useMemo)((()=>l.some((e=>e.loading))),[l]),m=p(Object(d.useMemo)((()=>e?l.map((e=>e.result)).filter((e=>!!e)).map((e=>c.a.from(e[0]))):[]),[e,l])),x=m.positions,O=m.loading;return Object(d.useMemo)((()=>({loading:b||o||O,positions:x})),[b,o,O,x])}var O=()=>{var e=Object(l.b)(),t=e.isEVM,i=e.networkInfo,n=Object(b.b)(),o=n.farms,s=n.loading,r=n.userFarmInfo,u=Object(d.useMemo)((()=>(null===o||void 0===o?void 0:o.map((e=>e.pools)).flat())||[]),[o]),j=Object(d.useMemo)((()=>{var e,t=Date.now()/1e3;return(null===o||void 0===o||null===(e=o.map((e=>e.pools)).flat())||void 0===e?void 0:e.filter((e=>e.endTime>=t)).map((e=>e.poolAddress.toLowerCase())))||[]}),[o]),p=Object(d.useMemo)((()=>t?Object.values(r||{}).map((e=>e.depositedPositions.map((t=>{var n,o=Object(a.computePoolAddress)({factoryAddress:i.elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:i.elastic.initCodeHash}),s=u.filter((e=>e.poolAddress.toLowerCase()===o.toLowerCase())),r=Object.values(e.joinedPositions).flat().filter((e=>e.nftId.toString()===t.nftId.toString())).reduce(((e,t)=>e.gt(c.a.from(t.liquidity.toString()))?e:c.a.from(t.liquidity.toString())),c.a.from(0))||c.a.from(0);return{nonce:c.a.from("1"),tokenId:t.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:o,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:c.a.from(t.liquidity.toString()),feeGrowthInsideLast:c.a.from(0),stakedLiquidity:r,rTokenOwed:c.a.from(0),token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,endTime:null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.endTime,rewardPendings:[]}})).flat())).flat().filter((e=>e.liquidity.gt(0))):[]),[u,r,t,i]);return Object(d.useMemo)((()=>({farms:o,userFarmInfo:r,activeFarmAddress:j,farmPositions:p,loading:s})),[s,p,j,o,r])}},"./src/pages/AddLiquidity/index.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return ue}));var n=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=i("./node_modules/@lingui/react/esm/index.js"),s=i("./node_modules/@lingui/core/esm/index.js"),c=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),r=i("./node_modules/jsbi/dist/jsbi-umd.js"),a=i.n(r),d=i("./node_modules/react/index.js"),l=i("./node_modules/react-router/dist/index.js"),b=i("./src/components/LiquidityProviderMode/index.tsx"),u=i("./src/components/NavigationTabs/index.tsx"),j=i("./src/components/PositionCard/index.tsx"),p=i("./src/components/Tutorial/index.tsx"),m=i("./src/data/Reserves.ts"),x=i("./src/hooks/index.ts"),O=i("./src/hooks/Tokens.ts"),v=i("./src/hooks/useMixpanel.ts"),h=i("./src/state/mint/hooks.ts"),g=i("./src/utils/dmm.ts"),f=i("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),y=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),C=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),k=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_=i("./node_modules/@sentry/core/esm/exports.js"),R=i("./node_modules/ethers/lib/utils.js"),I=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),w=i("./node_modules/rebass/dist/index.esm.js"),S=i("./src/components/Button/index.tsx"),A=i("./src/components/Column/index.tsx"),E=i("./src/components/ConfirmAddModalBottom/index.tsx"),N=i("./src/components/CurrencyInputPanel/index.tsx"),T=i("./src/components/CurrentPrice/index.tsx"),P=i("./src/components/Loader/index.tsx"),B=i("./src/components/PoolPriceBar/index.tsx"),U=i("./src/components/QuestionHelper/index.tsx"),Y=i("./src/components/Row/index.tsx"),q=i("./src/components/TransactionConfirmationModal/index.tsx"),L=i("./src/constants/index.ts"),D=i("./src/constants/tokens.ts"),F=i("./src/hooks/useApproveCallback.ts"),M=i("./src/hooks/useTheme.ts"),z=i("./src/hooks/useTokensMarketPrice.ts"),W=i("./src/hooks/useTransactionDeadline.ts"),H=i("./src/pages/Pool/styleds.tsx"),V=i("./src/state/application/hooks.ts"),G=i("./src/state/mint/actions.ts"),Q=i("./src/state/transactions/hooks.tsx"),Z=i("./src/state/transactions/type.ts"),J=i("./src/state/user/hooks.tsx"),K=i("./src/theme/index.tsx"),X=i("./src/utils/index.ts"),$=i("./src/utils/getContract.ts"),ee=i("./src/utils/isZero.ts"),te=i("./src/utils/maxAmountSpend.ts"),ie=i("./src/pages/AddLiquidity/styled.tsx"),ne=i("./node_modules/react/jsx-runtime.js"),oe=e=>{var t,i,r,b,u,j,p=e.currencyIdA,v=e.currencyIdB,oe=e.pairAddress,se=Object(x.b)(),ce=se.account,re=se.chainId,ae=se.isEVM,de=se.networkInfo,le=Object(x.e)().library,be=Object(M.a)(),ue=Object(O.f)(p),je=Object(O.f)(v),pe=!!(re&&ue&&ue.isNative),me=!!(re&&ue&&ue.equals(c.WETH[re])),xe=!!(re&&je&&je.isNative),Oe=!!(re&&je&&je.equals(c.WETH[re])),ve=Object(V.E)(),he=Object(J.c)(),ge=Object(n.a)(he,1)[0],fe=Object(h.d)(),ye=fe.independentField,Ce=fe.typedValue,ke=fe.otherTypedValue,_e=Object(h.a)(null!==ue&&void 0!==ue?ue:void 0,null!==je&&void 0!==je?je:void 0,oe),Re=_e.dependentField,Ie=_e.currencies,we=_e.pair,Se=_e.pairState,Ae=_e.currencyBalances,Ee=_e.parsedAmounts,Ne=_e.price,Te=_e.noLiquidity,Pe=_e.liquidityMinted,Be=_e.poolTokenPercentage,Ue=_e.error,Ye=_e.unAmplifiedPairAddress,qe=_e.isStaticFeePair,Le=_e.isOldStaticFeeContract,De=Object(g.i)(Ie[G.a.CURRENCY_A]),Fe=Object(g.i)(Ie[G.a.CURRENCY_B]),Me=(null===we||void 0===we?void 0:we.amp)||a.a.BigInt(0),ze=Me.toString()?new c.Fraction(a.a.BigInt(Object(R.parseUnits)(Me.toString()||"1",20)),a.a.BigInt(Object(R.parseUnits)("1",16))):void 0,We=!!ze&&ze.equalTo(a.a.BigInt(1e4))&&!!Ye&&!Object(ee.a)(Ye),He=Object(h.c)(Te),Ve=He.onFieldAInput,Ge=He.onFieldBInput,Qe=!Ue,Ze=Object(d.useState)(!1),Je=Object(n.a)(Ze,2),Ke=Je[0],Xe=Je[1],$e=Object(d.useState)(!1),et=Object(n.a)($e,2),tt=et[0],it=et[1],nt=Object(W.a)(),ot=Object(J.x)(),st=Object(n.a)(ot,1)[0],ct=Object(d.useState)(""),rt=Object(n.a)(ct,2),at=rt[0],dt=rt[1],lt=Object(d.useState)(""),bt=Object(n.a)(lt,2),ut=bt[0],jt=bt[1],pt={[ye]:Ce,[Re]:Te?ke:null!==(t=null===(i=Ee[Re])||void 0===i?void 0:i.toSignificant(6))&&void 0!==t?t:""},mt=[G.a.CURRENCY_A,G.a.CURRENCY_B].reduce(((e,t)=>Object(C.a)(Object(C.a)({},e),{},{[t]:Object(te.b)(Ae[t])})),{}),xt=ae?qe?Le?null===(r=de.classic.oldStatic)||void 0===r?void 0:r.router:de.classic.static.router:null===(b=de.classic.dynamic)||void 0===b?void 0:b.router:void 0,Ot=Object(F.b)(Ee[G.a.CURRENCY_A],xt||void 0),vt=Object(n.a)(Ot,2),ht=vt[0],gt=vt[1],ft=Object(F.b)(Ee[G.a.CURRENCY_B],xt||void 0),yt=Object(n.a)(ft,2),Ct=yt[0],kt=yt[1],_t=Object(Q.g)(),Rt=Object(J.i)();function It(){return wt.apply(this,arguments)}function wt(){return(wt=Object(y.a)(Object(f.a)().mark((function e(){var t,i,n,o,r,d,l,b,u,j,p,m,x,O,v,h,g,y,R,I,w,S,A;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le&&ce){e.next=2;break}return e.abrupt("return");case 2:if(t=qe?Le?Object($.e)(re,le,ce):Object($.f)(re,le,ce):Object($.d)(re,le,ce),i=Ee[G.a.CURRENCY_A],n=Ee[G.a.CURRENCY_B],i&&n&&ue&&je&&nt){e.next=6;break}return e.abrupt("return");case 6:if(o={[G.a.CURRENCY_A]:Object(X.c)(i,Te?0:st)[0],[G.a.CURRENCY_B]:Object(X.c)(n,Te?0:st)[0]},we){e.next=9;break}return e.abrupt("return");case 9:return ue.isNative||je.isNative?(p=je.isNative,m=we.virtualReserveOf(p?null===ue||void 0===ue?void 0:ue.wrapped:null===je||void 0===je?void 0:je.wrapped),x=we.virtualReserveOf(p?null===je||void 0===je?void 0:je.wrapped:null===ue||void 0===ue?void 0:ue.wrapped),O=a.a.divide(a.a.multiply(x.quotient,a.a.exponentiate(a.a.BigInt(2),a.a.BigInt(112))),m.quotient),v=a.a.divide(a.a.multiply(O,a.a.BigInt(st)),a.a.BigInt(1e4)),h=[a.a.subtract(O,v).toString(),a.a.add(O,v).toString()],r=t.estimateGas.addLiquidityETH,d=t.addLiquidityETH,l=[null!==(u=null===(j=p?null===ue||void 0===ue?void 0:ue.wrapped:null===je||void 0===je?void 0:je.wrapped)||void 0===j?void 0:j.address)&&void 0!==u?u:"",we.address,(p?i:n).quotient.toString(),o[p?G.a.CURRENCY_A:G.a.CURRENCY_B].toString(),o[p?G.a.CURRENCY_B:G.a.CURRENCY_A].toString(),h,ce,nt.toHexString()],b=k.a.from((p?n:i).quotient.toString())):(R=we.virtualReserveOf(null===ue||void 0===ue?void 0:ue.wrapped),I=we.virtualReserveOf(null===je||void 0===je?void 0:je.wrapped),w=a.a.divide(a.a.multiply(I.quotient,a.a.exponentiate(a.a.BigInt(2),a.a.BigInt(112))),R.quotient),S=a.a.divide(a.a.multiply(w,a.a.BigInt(st)),a.a.BigInt(1e4)),A=[a.a.subtract(w,S).toString(),a.a.add(w,S).toString()],r=t.estimateGas.addLiquidity,d=t.addLiquidity,l=[null!==(g=null===ue||void 0===ue?void 0:ue.wrapped.address)&&void 0!==g?g:"",null!==(y=null===je||void 0===je?void 0:je.wrapped.address)&&void 0!==y?y:"",we.address,i.quotient.toString(),n.quotient.toString(),o[G.a.CURRENCY_A].toString(),o[G.a.CURRENCY_B].toString(),A,ce,nt.toHexString()],b=null),it(!0),e.next=13,r(...l,b?{value:b}:{}).then((e=>d(...l,Object(C.a)(Object(C.a)({},b?{value:b}:{}),{},{gasLimit:Object(X.b)(e)})).then((e=>{var t=Ie[G.a.CURRENCY_A],i=Ie[G.a.CURRENCY_B];if(t&&i){var n,o,s,r,d,l,b=null!==(n=null===(o=Ee[G.a.CURRENCY_A])||void 0===o?void 0:o.toSignificant(6))&&void 0!==n?n:"",u=null!==(s=null===(r=Ee[G.a.CURRENCY_B])||void 0===r?void 0:r.toSignificant(6))&&void 0!==s?s:"";it(!1),_t({hash:e.hash,type:Z.c.CLASSIC_ADD_LIQUIDITY,extraInfo:{tokenSymbolIn:null!==(d=t.symbol)&&void 0!==d?d:"",tokenSymbolOut:null!==(l=i.symbol)&&void 0!==l?l:"",tokenAmountIn:b,tokenAmountOut:u,tokenAddressIn:t.wrapped.address,tokenAddressOut:i.wrapped.address,contract:oe,arbitrary:{poolAddress:oe,token_1:t.symbol,token_2:i.symbol,add_liquidity_method:"token pair",amp:new c.Fraction(Me).divide(a.a.BigInt(1e4)).toSignificant(5),txHash:e.hash}}}),dt(e.hash);var j=t.wrapped,p=i.wrapped;j&&p&&Rt(j,p)}})))).catch((e=>{it(!1);var t=new Error("Classic: Add liquidity Error",{cause:e});t.name="AddLiquidityError",Object(_.a)(t,{extra:{args:l}}),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e),e.message.includes("INSUFFICIENT")?jt(s.a._("Insufficient liquidity available. Please reload page and try again!")):jt(null===e||void 0===e?void 0:e.message)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St="Supplying ".concat(null===(u=Ee[G.a.CURRENCY_A])||void 0===u?void 0:u.toSignificant(6)," ").concat(null===De||void 0===De?void 0:De.symbol," and ").concat(null===(j=Ee[G.a.CURRENCY_B])||void 0===j?void 0:j.toSignificant(6)," ").concat(null===Fe||void 0===Fe?void 0:Fe.symbol),At=Object(d.useCallback)((()=>{Xe(!1),at&&Ve(""),dt(""),jt("")}),[Ve,at]),Et=we?we.reserve0.asFraction.divide(we.virtualReserve0).multiply("100").divide(we.reserve0.divide(we.virtualReserve0).asFraction.add(we.reserve1.divide(we.virtualReserve1).asFraction)):new c.Fraction(a.a.BigInt(50)),Nt=new c.Fraction(a.a.BigInt(100),a.a.BigInt(1)).subtract(Et),Tt=Et.toSignificant(4),Pt=Nt.toSignificant(4),Bt=Object(d.useMemo)((()=>[Ie[G.a.CURRENCY_A],Ie[G.a.CURRENCY_B]].map((e=>null===e||void 0===e?void 0:e.wrapped))),[Ie]),Ut=Object(V.B)(Bt),Yt=Object(z.a)(Bt),qt=Ee[G.a.CURRENCY_A]&&Ut[0]?parseFloat(Ee[G.a.CURRENCY_A].toSignificant(6))*Ut[0]:0,Lt=Ee[G.a.CURRENCY_B]&&Ut[1]?parseFloat(Ee[G.a.CURRENCY_B].toSignificant(6))*Ut[1]:0,Dt=Number(null===Ne||void 0===Ne?void 0:Ne.toSignificant(6)),Ft=Yt[1]&&Yt[0]/Yt[1],Mt=!!(Dt&&Ft&&Math.abs(Dt-Ft)/Ft>.05),zt=Object(l.m)(),Wt=()=>Object(ne.jsxs)(A.a,{gap:"5px",children:[Object(ne.jsx)(Y.e,{style:{marginTop:"20px"},children:Object(ne.jsx)(w.d,{fontSize:"24px",fontWeight:500,lineHeight:"42px",marginRight:10,children:null===Pe||void 0===Pe?void 0:Pe.toSignificant(6)})}),Object(ne.jsx)(Y.f,{children:Object(ne.jsx)(w.d,{fontSize:"24px",children:"DMM "+(null===De||void 0===De?void 0:De.symbol)+"/"+(null===Fe||void 0===Fe?void 0:Fe.symbol)+" LP Tokens"})}),Object(ne.jsx)(K.l.italic,{fontSize:12,textAlign:"left",padding:"8px 0 0 0 ",children:s.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:st/100})})]}),Ht=()=>Object(ne.jsx)(E.a,{pair:we,price:Ne,currencies:Ie,parsedAmounts:Ee,noLiquidity:!1,onAdd:It,poolTokenPercentage:Be,amplification:ze,estimatedUsd:[qt,Lt]});return Object(ne.jsxs)(H.b,{children:[Object(ne.jsx)(q.e,{isOpen:Ke,onDismiss:At,attemptingTxn:tt,hash:at,content:()=>ut?Object(ne.jsx)(q.c,{onDismiss:At,message:ut}):We?Object(ne.jsx)(q.a,{title:s.a._("Unamplified Pool existed"),onDismiss:At,topContent:()=>null,bottomContent:()=>Object(ne.jsxs)(ne.Fragment,{children:["Please use the link below if you want to add liquidity to Unamplified Pool",Object(ne.jsx)(K.k,{onClick:At,id:"unamplified-pool-link",to:"/add/".concat(p,"/").concat(v,"/").concat(Ye),children:"Go to unamplified pool"})]})}):Object(ne.jsx)(q.a,{title:s.a._("You will receive"),onDismiss:At,topContent:Wt,bottomContent:Ht}),pendingText:St}),Object(ne.jsx)(A.a,{gap:"20px",children:Object(ne.jsxs)(ie.g,{children:[Object(ne.jsxs)(ie.f,{children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)(N.g,{value:pt[G.a.CURRENCY_A],onUserInput:Ve,onMax:()=>{var e,t;Ve(null!==(e=null===(t=mt[G.a.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t;Ve(null!==(e=null===(t=Ae[G.a.CURRENCY_A])||void 0===t?void 0:t.divide(2).toExact())&&void 0!==e?e:"")},currency:Ie[G.a.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,positionMax:"top",estimatedUsd:Object(X.i)(qt.toString(),!0)||void 0,disableCurrencySelect:!me&&!pe,isSwitchMode:me||pe,onSwitchCurrency:()=>{re&&zt("/add/".concat(pe?c.WETH[re].address:D.j[re].symbol,"/").concat(v,"/").concat(oe),{replace:!0})}}),Object(ne.jsx)(w.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:Object(ne.jsx)(ie.p,{children:Ut[0]?"1 ".concat(null===De||void 0===De?void 0:De.symbol," = ").concat(Object(X.i)(Ut[0].toString(),!0)):Object(ne.jsx)(P.a,{})})})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(N.g,{value:pt[G.a.CURRENCY_B],onUserInput:Ge,onMax:()=>{var e,t;Ge(null!==(e=null===(t=mt[G.a.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;Ge(null!==(e=null===(t=Ae[G.a.CURRENCY_B])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},currency:Ie[G.a.CURRENCY_B],disableCurrencySelect:!0,id:"add-liquidity-input-tokenb",showCommonBases:!0,positionMax:"top",estimatedUsd:Object(X.i)(Lt.toString(),!0)||void 0}),Object(ne.jsxs)(w.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:[Object(ne.jsx)(ie.p,{children:Ut[1]?"1 ".concat(null===Fe||void 0===Fe?void 0:Fe.symbol," = ").concat(Object(X.i)(Ut[1].toString(),!0)):Object(ne.jsx)(P.a,{})}),oe&&re&&(Oe||xe)&&Object(ne.jsx)(K.k,{replace:!0,to:"/add/".concat(p,"/").concat(xe?c.WETH[re].address:D.j[re].symbol,"/").concat(oe),children:xe?Object(ne.jsx)(o.b,{id:"Use Wrapped Token"}):Object(ne.jsx)(o.b,{id:"Use Native Token"})})]})]}),Ie[ye]&&Ie[Re]&&Se!==m.a.INVALID&&Object(ne.jsx)(ie.m,{padding:"0",marginTop:"8px",style:{marginTop:"8px"},children:Object(ne.jsx)(B.a,{currencies:Ie,poolTokenPercentage:Be,noLiquidity:Te,price:Ne,pair:we})})]}),Object(ne.jsxs)(ie.l,{children:[Ie[ye]&&Ie[Re]&&Se!==m.a.INVALID&&Object(ne.jsx)(ie.m,{borderRadius:"20px",marginBottom:"24px",children:Object(ne.jsxs)(B.d,{title:s.a._("Pool Information"),children:[Object(ne.jsxs)(Y.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(be.border),gap:"1rem"},children:[!Te&&Object(ne.jsxs)(ie.c,{children:[Object(ne.jsx)(K.l.subHeader,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ne.jsx)(K.n,{children:Object(ne.jsx)(o.b,{id:"Current Price"})})}),Object(ne.jsx)(K.l.black,{fontWeight:400,fontSize:14,color:be.text,children:Object(ne.jsx)(T.a,{price:Ne})})]}),Object(ne.jsxs)(ie.k,{children:[Object(ne.jsx)(K.l.subHeader,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ne.jsx)(K.n,{children:Object(ne.jsx)(o.b,{id:"Pool Ratio"})})}),Object(ne.jsxs)(K.l.black,{fontWeight:400,fontSize:14,color:be.text,children:[Tt,"% ",null===we||void 0===we?void 0:we.token0.symbol," - ",Pt,"% ",null===we||void 0===we?void 0:we.token1.symbol]})]})]}),Object(ne.jsxs)(Y.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(be.border),gap:"1rem"},children:[Object(ne.jsxs)(A.a,{style:{flex:"1"},children:[Object(ne.jsxs)(Y.a,{children:[Object(ne.jsx)(w.d,{fontWeight:500,fontSize:12,color:be.subText,children:"AMP"}),Object(ne.jsx)(U.a,{text:L.f})]}),Object(ne.jsx)(w.d,{fontWeight:400,fontSize:14,color:be.text,children:we?Object(ne.jsx)(ne.Fragment,{children:new c.Fraction(a.a.BigInt(we.amp)).divide(a.a.BigInt(1e4)).toSignificant(5)}):""})]}),(!!oe||+Me>=1)&&Object(ne.jsxs)(ie.e,{children:[Object(ne.jsxs)(Y.a,{children:[Object(ne.jsx)(w.d,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ne.jsx)(K.n,{children:qe||!we?Object(ne.jsx)(o.b,{id:"Fee"}):Object(ne.jsx)(o.b,{id:"Dynamic Fee Range"})})}),Object(ne.jsx)(U.a,{text:qe||!we?s.a._("Liquidity providers will earn this trading fee for each trade that uses this pool"):s.a._("Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers")})]}),Object(ne.jsx)(w.d,{fontWeight:400,fontSize:14,color:be.text,children:we?qe&&null!==we&&void 0!==we&&we.fee?100*+new c.Fraction(a.a.BigInt(we.fee)).divide(a.a.exponentiate(a.a.BigInt(10),a.a.BigInt(18))).toSignificant(6)+"%":Object(g.b)(null!==we&&void 0!==we&&we.amp?+new c.Fraction(a.a.BigInt(we.amp)).divide(a.a.BigInt(1e4)).toSignificant(5):+Me):""})]})]}),Ie[ye]&&Ie[Re]&&(!!oe||+Me>=1)&&Object(ne.jsxs)("div",{style:{padding:"16px 0 0"},children:[Object(ne.jsxs)(Y.a,{marginBottom:"8px",children:[Object(ne.jsx)(K.n,{children:Object(ne.jsx)(ie.a,{children:"Active Price Range"})}),Object(ne.jsx)(U.a,{text:s.a._("Tradable token pair price range for this pool based on AMP. If the price goes below or above this range, the pool may become inactive")})]}),Object(ne.jsx)(B.b,{currencies:Ie,price:Ne,pair:we,amplification:ze})]})]})}),Mt&&Object(ne.jsxs)(ie.q,{children:[Object(ne.jsx)(I.a,{color:be.yellow2}),Object(ne.jsx)(w.d,{fontSize:"0.75rem",marginLeft:"0.75rem",children:Object(ne.jsx)(o.b,{id:"The price is deviating quite a lot from that market price, please be careful!"})})]}),ce?Object(ne.jsxs)(A.a,{gap:"md",children:[(ht===F.a.NOT_APPROVED||ht===F.a.PENDING||Ct===F.a.NOT_APPROVED||Ct===F.a.PENDING)&&Qe&&Object(ne.jsxs)(Y.b,{children:[ht!==F.a.APPROVED&&Object(ne.jsx)(S.i,{onClick:gt,disabled:ht===F.a.PENDING,width:Ct!==F.a.APPROVED?"48%":"100%",children:ht===F.a.PENDING?Object(ne.jsxs)(H.a,{children:["Approving ",null===De||void 0===De?void 0:De.symbol]}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(o.b,{id:"Approve"})," ",null===De||void 0===De?void 0:De.symbol]})}),Ct!==F.a.APPROVED&&Object(ne.jsx)(S.i,{onClick:kt,disabled:Ct===F.a.PENDING,width:ht!==F.a.APPROVED?"48%":"100%",children:Ct===F.a.PENDING?Object(ne.jsxs)(H.a,{children:[Object(ne.jsx)(o.b,{id:"Approving"})," ",null===Fe||void 0===Fe?void 0:Fe.symbol]}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(o.b,{id:"Approve"})," ",null===Fe||void 0===Fe?void 0:Fe.symbol]})})]}),Object(ne.jsx)(S.e,{onClick:()=>{ge?It():Xe(!0)},disabled:!Qe||ht!==F.a.APPROVED||Ct!==F.a.APPROVED,error:!Qe&&!!Ee[G.a.CURRENCY_A]&&!!Ee[G.a.CURRENCY_B]&&!!(oe&&+Me<1),children:Object(ne.jsx)(w.d,{fontWeight:500,children:null!==Ue&&void 0!==Ue?Ue:!oe&&+Me<1?s.a._("Enter amp (>=1)"):s.a._("Supply")})})]}):Object(ne.jsx)(S.g,{onClick:ve,children:Object(ne.jsx)(o.b,{id:"Connect Wallet"})})]})]})})]})},se=i("./src/components/CurrencyLogo/index.tsx"),ce=i("./src/components/ZapError/index.tsx"),re=i("./src/components/swapv2/FormattedPriceImpact.tsx"),ae=i("./src/state/swap/hooks.ts"),de=i("./src/utils/currencyId.ts"),le=i("./src/utils/prices.ts"),be=e=>{var t,i,r,l,b,u,j,p,v=e.currencyIdA,oe=e.currencyIdB,be=e.pairAddress,ue=Object(x.b)(),je=ue.account,pe=ue.chainId,me=ue.isEVM,xe=ue.networkInfo,Oe=Object(x.e)().library,ve=Object(M.a)(),he=Object(O.f)(v),ge=Object(O.f)(oe),fe=Object(V.E)(),ye=Object(d.useState)(""),Ce=Object(n.a)(ye,2),ke=Ce[0],_e=Ce[1],Re=Object(J.c)(),Ie=Object(n.a)(Re,1)[0],we=Object(h.d)(),Se=we.independentField,Ae=we.typedValue,Ee=we.otherTypedValue,Ne=Object(h.b)(null!==he&&void 0!==he?he:void 0,null!==ge&&void 0!==ge?ge:void 0,be),Te=Ne.dependentField,Pe=Ne.currencies,Be=Ne.pair,Ue=Ne.pairState,Ye=Ne.currencyBalances,qe=Ne.parsedAmounts,Le=Ne.price,De=Ne.noLiquidity,Fe=Ne.liquidityMinted,Me=Ne.poolTokenPercentage,ze=Ne.insufficientLiquidity,We=Ne.error,He=Ne.unAmplifiedPairAddress,Ve=Ne.isStaticFeePair,Ge=Ne.isOldStaticFeeContract,Qe=Object(g.i)(Pe[G.a.CURRENCY_A]),Ze=Object(g.i)(Pe[G.a.CURRENCY_B]),Je=Qe&&Ze?Se===G.a.CURRENCY_A?Qe:Ze:void 0,Ke=Qe&&Ze?Se===G.a.CURRENCY_A?Ze:Qe:void 0,Xe=!!(pe&&Pe[Se]&&null!==(t=Pe[Se])&&void 0!==t&&t.isNative),$e=!!(pe&&Pe[Se]&&null!==(i=Pe[Se])&&void 0!==i&&i.equals(c.WETH[pe])),et=(null===Be||void 0===Be?void 0:Be.amp)||a.a.BigInt(0),tt=et.toString()?new c.Fraction(a.a.BigInt(Object(R.parseUnits)(et.toString()||"1",20)),a.a.BigInt(Object(R.parseUnits)("1",16))):void 0,it=!!tt&&tt.equalTo(a.a.BigInt(1e4))&&!!He&&!Object(ee.a)(He),nt=Object(h.e)(),ot=nt.onFieldInput,st=nt.onSwitchField,ct=!We&&!ze,rt=Object(d.useState)(!1),at=Object(n.a)(rt,2),dt=at[0],lt=at[1],bt=Object(d.useState)(!1),ut=Object(n.a)(bt,2),jt=ut[0],pt=ut[1],mt=Object(W.a)(),xt=Object(J.x)(),Ot=Object(n.a)(xt,1)[0],vt=Object(d.useState)(""),ht=Object(n.a)(vt,2),gt=ht[0],ft=ht[1],yt={[Se]:Ae,[Te]:De?Ee:null!==(r=null===(l=qe[Te])||void 0===l?void 0:l.toSignificant(6))&&void 0!==r?r:""},Ct=[G.a.CURRENCY_A,G.a.CURRENCY_B].reduce(((e,t)=>Object(C.a)(Object(C.a)({},e),{},{[t]:Object(te.b)(Ye[t])})),{}),kt=Object(ae.b)(Ae,Pe[Se]),_t=Object(F.b)(kt,me?Ve?Ge?null===(b=xe.classic.oldStatic)||void 0===b?void 0:b.zap:xe.classic.static.zap:null===(u=xe.classic.dynamic)||void 0===u?void 0:u.zap:void 0),Rt=Object(n.a)(_t,2),It=Rt[0],wt=Rt[1],St=Object(d.useMemo)((()=>{var e;return Object(ae.b)(Ae,null===(e=Pe[Se])||void 0===e?void 0:e.wrapped,!0)}),[Pe,Se,Ae]),At=Object(d.useMemo)((()=>St?k.a.from(St.quotient.toString()):void 0),[St]),Et=Fe?a.a.divide(a.a.multiply(null===Fe||void 0===Fe?void 0:Fe.quotient,a.a.BigInt(1e4-Ot)),a.a.BigInt(1e4)):a.a.BigInt(0),Nt=Object(Q.g)();function Tt(){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(y.a)(Object(f.a)().mark((function e(){var t,i,n,o,r,d,l,b,u,j,p,m;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me&&Oe&&je){e.next=2;break}return e.abrupt("return");case 2:if(o=Object($.g)(pe,Oe,je,Ve,Ge),je){e.next=5;break}return e.abrupt("return");case 5:if(r=null===(t=Pe[Se])||void 0===t?void 0:t.wrapped,d=null===(i=Pe[Te])||void 0===i?void 0:i.wrapped,Be&&Be.address&&mt&&r&&d&&At){e.next=9;break}return e.abrupt("return");case 9:if(l=qe[G.a.CURRENCY_A],b=qe[G.a.CURRENCY_B],l&&b&&he&&ge&&mt){e.next=12;break}return e.abrupt("return");case 12:if(Be){e.next=14;break}return e.abrupt("return");case 14:return null!==(n=Pe[Se])&&void 0!==n&&n.isNative?(u=o.estimateGas.zapInEth,j=o.zapInEth,p=[d.address,Be.address,je,Et.toString(),mt.toHexString()],m=At):(u=o.estimateGas.zapIn,j=o.zapIn,p=[r.address,d.address,At.toString(),Be.address,je,Et.toString(),mt.toHexString()],m=null),Ve&&!Ge&&p.unshift(xe.classic.static.factory),pt(!0),e.next=19,u(...p,m?{value:m}:{}).then((e=>j(...p,Object(C.a)(Object(C.a)({},m?{value:m}:{}),{},{gasLimit:Object(X.b)(e)})).then((e=>{var t=Pe[G.a.CURRENCY_A],i=Pe[G.a.CURRENCY_B];if(t&&i){var n=null===St||void 0===St?void 0:St.toSignificant(6);pt(!1),Nt({hash:e.hash,type:Z.c.CLASSIC_ADD_LIQUIDITY,extraInfo:{tokenAddressIn:t.wrapped.address,tokenAddressOut:i.wrapped.address,tokenSymbolIn:t.symbol,tokenSymbolOut:i.symbol,tokenAmountIn:n,contract:be,arbitrary:{poolAddress:be,token_1:t.symbol,token_2:i.symbol,add_liquidity_method:"single token",amp:new c.Fraction(et).divide(a.a.BigInt(1e4)).toSignificant(5),txHash:e.hash}}}),ft(e.hash)}})))).catch((e=>{pt(!1);var t=new Error("Classic: ZapIn liquidity Error",{cause:e});t.name="ZapError",Object(_.a)(t,{extra:{args:p}}),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e),e.message.includes("INSUFFICIENT_MINT_QTY")?_e(s.a._("Insufficient liquidity available. Please reload page and try again!")):_e(null===e||void 0===e?void 0:e.message)}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bt="Supplying ".concat(null===St||void 0===St?void 0:St.toSignificant(6)," ").concat(null===Je||void 0===Je?void 0:Je.symbol),Ut=Object(d.useCallback)((()=>{lt(!1),gt&&ot(""),_e(""),ft("")}),[ot,gt]),Yt=Be?Be.reserve0.asFraction.divide(Be.virtualReserve0).multiply("100").divide(Be.reserve0.divide(Be.virtualReserve0).asFraction.add(Be.reserve1.divide(Be.virtualReserve1).asFraction)):new c.Fraction(a.a.BigInt(50)),qt=new c.Fraction(a.a.BigInt(100),a.a.BigInt(1)).subtract(Yt),Lt=Yt.toSignificant(4),Dt=qt.toSignificant(4),Ft=Object(d.useMemo)((()=>[Pe[Se],Pe[Te]].map((e=>null===e||void 0===e?void 0:e.wrapped))),[Pe,Te,Se]),Mt=Object(V.B)(Ft),zt=Object(z.a)(Ft),Wt=Se===G.a.CURRENCY_A?Number(null===Le||void 0===Le?void 0:Le.toSignificant(6)):Number(null===Le||void 0===Le?void 0:Le.invert().toSignificant(6)),Ht=zt[1]&&zt[0]/zt[1],Vt=!!(Wt&&Ht&&Math.abs(Wt-Ht)/Ht>.05),Gt=Object(d.useCallback)((()=>{st()}),[st]),Qt=St&&Mt[0]?parseFloat(St.toSignificant(6))*Mt[0]:0,Zt=Mt[0]&&qe&&qe[Se]&&Mt[0]*parseFloat(qe[Se].toSignificant(6)),Jt=Mt[1]&&qe&&qe[Te]&&Mt[1]*parseFloat(qe[Te].toSignificant(6)),Kt=Se===G.a.CURRENCY_A?[Zt||0,Jt||0]:[Jt||0,Zt||0],Xt=Le&&St&&qe[Se]&&qe[Te]&&!St.lessThan(qe[Se])?Object(c.computePriceImpact)(Se===G.a.CURRENCY_A?Le:Le.invert(),null===St||void 0===St?void 0:St.subtract(qe[Se]),qe[Te]):void 0,$t=Be&&Xt?Object(le.b)([Be],Xt):void 0,ei=Object(le.f)($t),ti=()=>Object(ne.jsxs)(A.a,{gap:"5px",children:[Object(ne.jsx)(Y.e,{style:{marginTop:"20px"},children:Object(ne.jsx)(w.d,{fontSize:"24px",fontWeight:500,lineHeight:"42px",marginRight:10,children:null===Fe||void 0===Fe?void 0:Fe.toSignificant(6)})}),Object(ne.jsx)(Y.f,{children:Object(ne.jsx)(w.d,{fontSize:"24px",children:"DMM "+(null===Qe||void 0===Qe?void 0:Qe.symbol)+"/"+(null===Ze||void 0===Ze?void 0:Ze.symbol)+" LP Tokens"})}),Object(ne.jsx)(K.l.italic,{fontSize:12,textAlign:"left",padding:"8px 0 0 0 ",children:s.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:Ot/100})})]}),ii=()=>Object(ne.jsx)(E.a,{pair:Be,price:Le,currencies:Pe,parsedAmounts:qe,noLiquidity:!1,onAdd:Tt,poolTokenPercentage:Me,amplification:tt,priceImpact:$t,estimatedUsd:Kt});return Object(ne.jsxs)(H.b,{children:[Object(ne.jsx)(q.e,{isOpen:dt,onDismiss:Ut,attemptingTxn:jt,hash:gt,content:()=>ke?Object(ne.jsx)(q.c,{onDismiss:Ut,message:ke}):it?Object(ne.jsx)(q.a,{title:s.a._("Unamplified Pool existed"),onDismiss:Ut,topContent:()=>null,bottomContent:()=>Object(ne.jsxs)(ne.Fragment,{children:["Please use the link below if you want to add liquidity to Unamplified Pool",Object(ne.jsx)(K.k,{onClick:Ut,id:"unamplified-pool-link",to:"/add/".concat(v,"/").concat(oe,"/").concat(He),children:"Go to unamplified pool"})]})}):Object(ne.jsx)(q.a,{title:s.a._("You will receive"),onDismiss:Ut,topContent:ti,bottomContent:ii}),pendingText:Bt}),Object(ne.jsx)(A.a,{gap:"20px",children:Object(ne.jsxs)(ie.g,{children:[Object(ne.jsxs)(ie.f,{children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)(N.g,{value:yt[Se],onUserInput:ot,onMax:()=>{var e,t;ot(null!==(e=null===(t=Ct[Se])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;ot(null!==(e=null===(t=Ye[Se])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},onSwitchCurrency:Gt,currency:Pe[Se],id:"zap-in-input",disableCurrencySelect:!1,showCommonBases:!0,positionMax:"top",isSwitchMode:!0,estimatedUsd:Object(X.i)(Qt.toString(),!0)||void 0}),Object(ne.jsxs)(w.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:[Object(ne.jsx)(ie.p,{children:Mt[0]?"1 ".concat(null===Je||void 0===Je?void 0:Je.symbol," = ").concat(Object(X.i)(Mt[0].toString(),!0)):Object(ne.jsx)(P.a,{})}),be&&pe&&(Xe||$e)&&Pe[Te]&&Object(ne.jsx)(K.k,{replace:!0,to:Se===G.a.CURRENCY_A?"/add/".concat(Xe?Object(de.a)(c.WETH[pe],pe):Object(de.a)(D.j[pe],pe),"/").concat(Object(de.a)(Pe[Te],pe),"/").concat(be):"/add/".concat(Object(de.a)(Pe[Te],pe),"/").concat(Xe?Object(de.a)(c.WETH[pe],pe):D.j[pe].symbol,"/").concat(be),children:Xe?Object(ne.jsx)(o.b,{id:"Use Wrapped Token"}):Object(ne.jsx)(o.b,{id:"Use Native Token"})})]})]}),Object(ne.jsxs)(ie.m,{padding:"0",marginTop:"8px",borderRadius:"20px",children:[Object(ne.jsx)(Y.f,{padding:"0 0 1rem 0",children:Object(ne.jsx)(K.l.subHeader,{fontWeight:500,fontSize:16,color:ve.text,children:Object(ne.jsx)(o.b,{id:"Your Pool Allocation"})})}),Object(ne.jsxs)(ie.d,{style:{padding:"16px 0",borderTop:"1px dashed ".concat(ve.border),borderBottom:"1px dashed ".concat(ve.border)},children:[Object(ne.jsxs)(A.a,{justify:"space-between",gap:"4px",children:[Object(ne.jsxs)(ie.n,{children:[Object(ne.jsx)(se.a,{currency:Pe[Se]||void 0,size:"16px"}),Object(ne.jsx)(K.l.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:null===Je||void 0===Je?void 0:Je.symbol})]}),Object(ne.jsxs)(K.l.black,{fontWeight:400,fontSize:14,children:[null===(j=qe[Se])||void 0===j?void 0:j.toSignificant(6)," (~",Object(X.i)((Zt||0).toString(),!0),")"]})]}),Object(ne.jsxs)(A.a,{justify:"space-between",gap:"4px",children:[Object(ne.jsxs)(ie.n,{children:[Object(ne.jsx)(se.a,{currency:Pe[Te]||void 0,size:"16px"}),Object(ne.jsx)(K.l.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:null===Ke||void 0===Ke?void 0:Ke.symbol})]}),Object(ne.jsxs)(K.l.black,{fontWeight:400,fontSize:14,children:[null===(p=qe[Te])||void 0===p?void 0:p.toSignificant(6)," (~",Object(X.i)((Jt||0).toString(),!0),")"]})]})]}),Object(ne.jsxs)(ie.d,{style:{paddingTop:"16px"},children:[Object(ne.jsx)(K.l.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:Object(ne.jsx)(o.b,{id:"Price Impact"})}),Object(ne.jsx)(K.l.black,{fontWeight:400,fontSize:14,children:Object(ne.jsx)(re.a,{priceImpact:$t})})]})]}),Pe[Se]&&Pe[Te]&&Ue!==m.a.INVALID&&Object(ne.jsx)(ie.m,{padding:"0",borderRadius:"20px",style:{marginTop:"8px"},children:Object(ne.jsx)(B.a,{currencies:Pe,poolTokenPercentage:Me,noLiquidity:De,price:Le,pair:Be})})]}),Object(ne.jsxs)(ie.l,{children:[Pe[Se]&&Pe[Te]&&Ue!==m.a.INVALID&&Object(ne.jsx)(ie.m,{borderRadius:"20px",marginBottom:"28px",children:Object(ne.jsxs)(B.d,{title:s.a._("Pool Information"),children:[Object(ne.jsxs)(Y.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ve.border),gap:"1rem"},children:[!De&&Object(ne.jsxs)(ie.c,{children:[Object(ne.jsx)(K.l.subHeader,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ne.jsx)(K.n,{children:Object(ne.jsx)(o.b,{id:"Current Price"})})}),Object(ne.jsx)(K.l.black,{fontWeight:400,fontSize:14,color:ve.text,children:Object(ne.jsx)(T.a,{price:Le})})]}),Object(ne.jsxs)(ie.k,{children:[Object(ne.jsx)(K.l.subHeader,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ne.jsx)(K.n,{children:Object(ne.jsx)(o.b,{id:"Pool Ratio"})})}),Object(ne.jsxs)(K.l.black,{fontWeight:400,fontSize:14,color:ve.text,children:[Lt,"% ",null===Be||void 0===Be?void 0:Be.token0.symbol," - ",Dt,"% ",null===Be||void 0===Be?void 0:Be.token1.symbol]})]})]}),Object(ne.jsxs)(Y.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ve.border),gap:"1rem"},children:[Object(ne.jsxs)(A.a,{style:{flex:"1"},children:[Object(ne.jsxs)(Y.a,{children:[Object(ne.jsx)(w.d,{fontWeight:500,fontSize:12,color:ve.subText,children:"AMP"}),Object(ne.jsx)(U.a,{text:L.f})]}),Object(ne.jsx)(w.d,{fontWeight:400,fontSize:14,color:ve.text,children:Be?Object(ne.jsx)(ne.Fragment,{children:new c.Fraction(a.a.BigInt(Be.amp)).divide(a.a.BigInt(1e4)).toSignificant(5)}):""})]}),(!!be||+et>=1)&&Object(ne.jsxs)(ie.e,{children:[Object(ne.jsxs)(Y.a,{children:[Object(ne.jsx)(w.d,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ne.jsx)(K.n,{children:Ve||!Be?Object(ne.jsx)(o.b,{id:"Fee"}):Object(ne.jsx)(o.b,{id:"Dynamic Fee Range"})})}),Object(ne.jsx)(U.a,{text:Ve||!Be?s.a._("Liquidity providers will earn this trading fee for each trade that uses this pool"):s.a._("Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers")})]}),Object(ne.jsx)(w.d,{fontWeight:400,fontSize:14,color:ve.text,children:Be?Ve&&null!==Be&&void 0!==Be&&Be.fee?100*+new c.Fraction(a.a.BigInt(Be.fee)).divide(a.a.exponentiate(a.a.BigInt(10),a.a.BigInt(18))).toSignificant(6)+"%":Object(g.b)(null!==Be&&void 0!==Be&&Be.amp?+new c.Fraction(a.a.BigInt(Be.amp)).divide(a.a.BigInt(1e4)).toSignificant(5):+et):""})]})]}),Pe[Se]&&Pe[Te]&&(!!be||+et>=1)&&Object(ne.jsxs)("div",{style:{padding:"16px 0 0"},children:[Object(ne.jsxs)(Y.a,{marginBottom:"8px",children:[Object(ne.jsx)(K.n,{children:Object(ne.jsx)(ie.a,{children:"Active Price Range"})}),Object(ne.jsx)(U.a,{text:s.a._("Tradable token pair price range for this pool based on AMP. If the price goes below or above this range, the pool may become inactive")})]}),Object(ne.jsx)(B.b,{currencies:Pe,price:Le,pair:Be,amplification:tt})]})]})}),Vt&&Object(ne.jsxs)(ie.q,{children:[Object(ne.jsx)(I.a,{color:ve.yellow2}),Object(ne.jsx)(w.d,{fontSize:"0.75rem",marginLeft:"0.75rem",children:Object(ne.jsx)(o.b,{id:"The price is deviating quite a lot from that market price, please be careful!"})})]}),ze?Object(ne.jsx)(ce.a,{message:s.a._("Insufficient Liquidity in the Liquidity Pool to Swap"),warning:!1}):ei>3?Object(ne.jsx)(ce.a,{message:s.a._("Price impact is too high"),warning:!1}):ei>2?Object(ne.jsx)(ce.a,{message:s.a._("Price impact is high"),warning:!0}):null,je?Object(ne.jsxs)(A.a,{gap:"md",children:[(It===F.a.NOT_APPROVED||It===F.a.PENDING)&&ct&&(Ie||ei<=3)&&Object(ne.jsx)(Y.b,{children:Object(ne.jsx)(S.i,{onClick:wt,disabled:!ct||It===F.a.PENDING||ei>3&&!Ie,width:"100%",children:It===F.a.PENDING?Object(ne.jsxs)(H.a,{children:["Approving ",null===Je||void 0===Je?void 0:Je.symbol]}):"Approve "+(null===Je||void 0===Je?void 0:Je.symbol)})}),Object(ne.jsx)(S.e,{id:"btnSupply",onClick:()=>{Ie?Tt():lt(!0)},disabled:!ct||It!==F.a.APPROVED||ei>3&&!Ie,error:!!qe[Se]&&!!qe[Te]&&!!be&&(!ct||ei>2),children:Object(ne.jsx)(w.d,{fontSize:20,fontWeight:500,children:null!==We&&void 0!==We?We:!be&&+et<1?s.a._("Enter amp (>=1)"):ei>3&&!Ie?s.a._("Supply"):ei>2?s.a._("Supply Anyway"):s.a._("Supply")})})]}):Object(ne.jsx)(S.g,{onClick:fe,children:Object(ne.jsx)(o.b,{id:"Connect Wallet"})})]})]})})]})};function ue(){var e,t,i=Object(l.o)(),r=i.currencyIdA,f=void 0===r?"":r,y=i.currencyIdB,C=void 0===y?"":y,k=i.pairAddress,_=void 0===k?"":k,R=Object(x.b)(),I=R.chainId,w=R.isEVM,S=null!==(e=Object(O.f)(f))&&void 0!==e?e:void 0,A=null!==(t=Object(O.f)(C))&&void 0!==t?t:void 0,E=Object(g.i)(S),N=Object(g.i)(A),T=!(!I||null===S||void 0===S||!S.equals(c.WETH[I])),P=!(!I||null===A||void 0===A||!A.equals(c.WETH[I]))||T,B=Object(h.a)(S,A,_),U=B.pair,Y=B.pairState,q=B.noLiquidity,L=(null===U||void 0===U?void 0:U.amp)||a.a.BigInt(0),D=Object(d.useState)(0),F=Object(n.a)(D,2),M=F[0],z=F[1],W=Object(v.c)().mixpanelHandler;return Object(d.useEffect)((()=>{W(v.a.ADD_LIQUIDITY_INITIATED,{token_1:null===E||void 0===E?void 0:E.symbol,token_2:null===N||void 0===N?void 0:N.symbol,amp:new c.Fraction(L).divide(a.a.BigInt(1e4)).toSignificant(5)})}),[]),w?Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)(ie.i,{children:[Object(ne.jsxs)(ie.b,{children:[Object(ne.jsx)(u.a,{action:u.c.ADD,tutorialType:p.a.CLASSIC_ADD_LIQUIDITY}),Object(ne.jsxs)(ie.o,{children:[Object(ne.jsx)(ie.h,{children:Object(ne.jsx)(b.a,{activeTab:M,setActiveTab:z,singleTokenInfo:s.a._("Add liquidity to the pool by supplying a single token (either token from the token pair). We will automatically create LP tokens for you and add them to the liquidity pool - all in a single transaction")})}),Object(ne.jsxs)(ie.j,{children:[null===E||void 0===E?void 0:E.symbol," - ",null===N||void 0===N?void 0:N.symbol," ",Object(ne.jsx)(o.b,{id:"pool"})]})]}),0===M?Object(ne.jsx)(oe,{currencyIdA:f,currencyIdB:C,pairAddress:_}):Object(ne.jsx)(be,{currencyIdA:f,currencyIdB:C,pairAddress:_})]}),U&&!q&&Y!==m.a.INVALID?Object(ne.jsx)(ie.b,{style:{marginTop:"24px",padding:"0"},children:Object(ne.jsx)(j.a,{showUnwrapped:P,pair:U})}):null]})}):Object(ne.jsx)(l.a,{to:"/"})}},"./src/pages/IncreaseLiquidity/index.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return Oe}));var n=i("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),o=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),c=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=i("./node_modules/@lingui/react/esm/index.js"),a=i("./node_modules/@lingui/core/esm/index.js"),d=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),l=i("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),b=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),u=i("./node_modules/jsbi/dist/jsbi-umd.js"),j=i.n(u),p=i("./node_modules/react/index.js"),m=i("./node_modules/react-feather/dist/icons/chevron-left.js"),x=i("./node_modules/react-router/dist/index.js"),O=i("./node_modules/react-use/esm/usePrevious.js"),v=i("./node_modules/react-use/esm/useMedia.js"),h=i("./node_modules/rebass/dist/index.esm.js"),g=i("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/play_circle_outline.svg"),f=i("./src/components/Badge/RangeBadge.tsx"),y=i("./src/components/Button/index.tsx"),C=i("./src/components/Card/index.tsx"),k=i("./src/components/Column/index.tsx"),_=i("./src/components/Copy/index.tsx"),R=i("./src/components/CurrencyInputPanel/index.tsx"),I=i("./src/components/CurrencyLogo/index.tsx"),w=i("./src/components/Divider/index.tsx"),S=i("./src/components/Dots.tsx"),A=i("./src/components/FormattedCurrencyAmount/index.tsx"),E=i("./src/components/Loader/index.tsx"),N=i("./src/components/NavigationTabs/index.tsx"),T=i("./src/components/ProAmm/ProAmmPoolInfo.tsx"),P=i("./src/components/ProAmm/ProAmmPooledTokens.tsx"),B=i("./src/components/ProAmm/ProAmmPriceRangeConfirm.tsx"),U=i("./src/components/Rating/index.tsx"),Y=i("./src/components/Row/index.tsx"),q=i("./src/components/TransactionConfirmationModal/index.tsx"),L=i("./src/components/TransactionSettings/index.tsx"),D=i("./src/components/Tutorial/index.tsx"),F=i("./src/constants/index.ts"),M=i("./src/constants/tokens.ts"),z=i("./src/hooks/index.ts"),W=i("./src/hooks/Tokens.ts"),H=i("./src/hooks/useApproveCallback.ts"),V=i("./src/hooks/useContract.ts"),G=i("./src/hooks/usePools.ts");var Q=i("./src/hooks/useProAmmPositions.ts"),Z=i("./src/hooks/useProAmmPreviousTicks.ts"),J=i("./src/hooks/useTheme.ts"),K=i("./src/hooks/useTransactionDeadline.ts"),X=i("./src/pages/RemoveLiquidityProAmm/styled.tsx"),$=i("./src/state/application/hooks.ts"),ee=i("./src/state/mint/proamm/hooks.tsx"),te=i("./src/state/mint/proamm/type.ts"),ie=i("./src/state/multicall/hooks.ts"),ne=i("./src/state/tokenPrices/hooks.ts"),oe=i("./src/state/transactions/hooks.tsx"),se=i("./src/state/transactions/type.ts"),ce=i("./src/state/user/hooks.tsx"),re=i("./src/theme/index.tsx"),ae=i("./src/utils/index.ts"),de=i("./src/utils/maxAmountSpend.ts"),le=i("./src/utils/wrappedCurrency.ts"),be=i("./src/components/Icons/index.ts"),ue=i("./src/components/InfoHelper/index.tsx"),je=i("./src/components/LiquidityChartRangeInput/index.tsx"),pe=i("./src/utils/formatTickPrice.ts"),me=i("./node_modules/react/jsx-runtime.js");function xe(e){var t=e.position,i=e.ticksAtLimit,n=Object(J.a)(),o=Object(le.a)(t.pool.token0),s=Object(le.a)(t.pool.token1),d=Object(p.useState)(o),l=Object(c.a)(d,2),b=l[0],u=l[1],j=b.symbol===o.symbol,m=j?s:o,x=j?t.pool.priceOf(t.pool.token0):t.pool.priceOf(t.pool.token1),O=j?t.token0PriceLower:t.token0PriceUpper.invert(),v=j?t.token0PriceUpper:t.token0PriceLower.invert(),g=Object(p.useCallback)((()=>{u(m)}),[m]);return Object(me.jsxs)(k.a,{gap:"13px",children:[Object(me.jsxs)("div",{children:[Object(me.jsxs)(h.b,{alignItems:"center",justifyContent:"center",sx:{gap:"8px"},children:[Object(me.jsx)(h.d,{fontSize:12,fontWeight:500,color:n.subText,children:Object(me.jsx)(r.b,{id:"Current Price"})}),Object(me.jsxs)(Y.d,{children:[Object(me.jsx)(h.d,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:"".concat(x.toSignificant(6)," ").concat(m.symbol," per ").concat(b.symbol)}),Object(me.jsx)("span",{onClick:g,style:{marginLeft:"2px",cursor:"pointer"},children:Object(me.jsx)(be.K,{size:16})})]})]}),Object(me.jsx)(je.a,{style:{minHeight:"180px"},currencyA:b,currencyB:m,feeAmount:t.pool.fee,ticksAtLimit:i,price:x?parseFloat(x.toSignificant(8)):void 0,leftPrice:O,rightPrice:v,onLeftRangeInput:()=>{},onRightRangeInput:()=>{},interactive:!1,height:"233.5px"})]}),Object(me.jsxs)(Y.b,{style:{gap:"12px"},children:[Object(me.jsxs)(h.b,{children:[Object(me.jsx)(h.d,{fontSize:"12px",fontWeight:500,color:n.subText,children:Object(me.jsx)(r.b,{id:"Min Price"})}),Object(me.jsx)(ue.a,{text:a.a._("Your position will be 100% composed of {0} at this price",{0:null===b||void 0===b?void 0:b.symbol}),placement:"right",size:12})]}),Object(me.jsx)(h.d,{fontWeight:"500",fontSize:"12px",children:Object(me.jsx)(r.b,{id:"{0} {1} per {2}",values:{0:Object(pe.a)(O,i,te.a.LOWER),1:m.symbol,2:b.symbol}})})]}),Object(me.jsxs)(Y.b,{style:{gap:"12px"},children:[Object(me.jsxs)(h.b,{children:[Object(me.jsx)(h.d,{fontSize:"12px",fontWeight:500,color:n.subText,children:Object(me.jsx)(r.b,{id:"Max Price"})}),Object(me.jsx)(ue.a,{text:a.a._("Your position will be 100% composed of {0} at this price",{0:null===m||void 0===m?void 0:m.symbol}),placement:"right",size:12})]}),Object(me.jsx)(h.d,{fontSize:"12px",fontWeight:"500",children:Object(me.jsx)(r.b,{id:"{0} {1} per {2}",values:{0:Object(pe.a)(v,i,te.a.UPPER),1:m.symbol,2:b.symbol}})})]})]})}function Oe(){var e,t,i,u,be,ue,je,pe,Oe,ve,he,ge,fe,ye,Ce=Object(x.o)(),ke=Ce.currencyIdB,_e=Ce.currencyIdA,Re=Ce.feeAmount,Ie=Ce.tokenId,we=Object(z.b)(),Se=we.account,Ae=we.chainId,Ee=we.isEVM,Ne=we.networkInfo,Te=Object(z.e)().library,Pe=Object(x.m)(),Be=Object(J.a)(),Ue=Object($.E)(),Ye=Object(ce.c)(),qe=Object(c.a)(Ye,1)[0],Le=Object(oe.g)(),De=Object(O.a)(Ae);Object(p.useEffect)((()=>{Ae&&De&&Ae!==De&&Pe(F.h.MY_POOLS)}),[Ae,De,Pe]);var Fe=Object(V.p)(),Me=Object(Q.c)(Ie?b.a.from(Ie):void 0).position,ze=null===(e=Object(ie.c)(Ie?Fe:null,"ownerOf",[Ie]).result)||void 0===e?void 0:e[0],We=ze===Se||(null===Me||void 0===Me?void 0:Me.operator)===Se,He=!!Ee&&Ne.elastic.farms.flat().includes(Object(ae.t)(Ae,ze)),Ve=function(e){var t=Object(W.f)(null===e||void 0===e?void 0:e.token0),i=Object(W.f)(null===e||void 0===e?void 0:e.token1),n=Object(G.b)(null!==t&&void 0!==t?t:void 0,null!==i&&void 0!==i?i:void 0,null===e||void 0===e?void 0:e.fee),o=Object(c.a)(n,2)[1],s=void 0;return o&&e&&(s=new l.Position({pool:o,liquidity:e.liquidity.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper})),{position:s,pool:null!==o&&void 0!==o?o:void 0}}(Me),Ge=Ve.position,Qe=null===Me||void 0===Me||null===(t=Me.liquidity)||void 0===t?void 0:t.eq(0),Ze=Re&&Object.values(l.FeeAmount).includes(parseFloat(Re))?parseFloat(Re):void 0,Je=Object(W.f)(_e),Ke=Object(W.f)(ke),Xe=Je&&Ke&&Je.wrapped.equals(Ke.wrapped)?void 0:Ke,$e=Object(ee.e)().positions[0],et=$e.independentField,tt=$e.typedValue,it=Object(ee.c)(0,null!==Je&&void 0!==Je?Je:void 0,null!==Xe&&void 0!==Xe?Xe:void 0,Ze,null!==Je&&void 0!==Je?Je:void 0,Ge),nt=it.pool,ot=it.dependentField,st=it.parsedAmounts,ct=it.currencyBalances,rt=it.position,at=it.noLiquidity,dt=it.currencies,lt=it.errorMessage,bt=it.invalidRange,ut=it.outOfRange,jt=it.depositADisabled,pt=it.depositBDisabled,mt=it.ticksAtLimit,xt=it.riskPoint,Ot=it.profitPoint,vt=!!(Ae&&Je&&Je.isNative),ht=!!(Ae&&Je&&Je.equals(d.WETH[Ae])),gt=!!(Ae&&Xe&&Xe.isNative),ft=!!(Ae&&Xe&&Xe.equals(d.WETH[Ae])),yt=(null===Je||void 0===Je?void 0:Je.wrapped.address)||"",Ct=(null===Xe||void 0===Xe?void 0:Xe.wrapped.address)||"",kt=Object(ne.a)([yt,Ct]),_t=st[te.b.CURRENCY_A]&&kt[yt]?parseFloat((null===(i=st[te.b.CURRENCY_A])||void 0===i?void 0:i.toExact())||"0")*kt[yt]:0,Rt=st[te.b.CURRENCY_B]&&kt[Ct]?parseFloat((null===(u=st[te.b.CURRENCY_B])||void 0===u?void 0:u.toExact())||"0")*kt[Ct]:0,It=Ge&&d.CurrencyAmount.fromRawAmount(Object(le.a)(Ge.pool.token0),Ge.amount0.quotient),wt=Ge&&d.CurrencyAmount.fromRawAmount(Object(le.a)(Ge.pool.token1),Ge.amount1.quotient),St=parseFloat((null===It||void 0===It?void 0:It.toExact())||"0")*kt[(null===It||void 0===It||null===(be=It.currency)||void 0===be?void 0:be.wrapped.address)||""]+parseFloat((null===wt||void 0===wt?void 0:wt.toExact())||"0")*kt[(null===wt||void 0===wt||null===(ue=wt.currency)||void 0===ue?void 0:ue.wrapped.address)||""],At=Object(Z.a)(nt,rt),Et=Object(ee.d)(at,0),Nt=Et.onFieldAInput,Tt=Et.onFieldBInput,Pt=Et.onResetMintState;Object(p.useEffect)((()=>{Pt()}),[Pt]);var Bt=!lt&&!bt,Ut=Object(p.useState)(!1),Yt=Object(c.a)(Ut,2),qt=Yt[0],Lt=Yt[1],Dt=Object(p.useState)(!1),Ft=Object(c.a)(Dt,2),Mt=Ft[0],zt=Ft[1],Wt=Object(K.a)(),Ht=Object(p.useState)(""),Vt=Object(c.a)(Ht,2),Gt=Vt[0],Qt=Vt[1],Zt={[et]:tt,[ot]:null!==(je=null===(pe=st[ot])||void 0===pe?void 0:pe.toSignificant(6))&&void 0!==je?je:""},Jt=[te.b.CURRENCY_A,te.b.CURRENCY_B].reduce(((e,t)=>Object(s.a)(Object(s.a)({},e),{},{[t]:Object(de.b)(ct[t])})),{}),Kt=Object(H.b)(st[te.b.CURRENCY_A],Ne.elastic.nonfungiblePositionManager),Xt=Object(c.a)(Kt,2),$t=Xt[0],ei=Xt[1],ti=Object(H.b)(st[te.b.CURRENCY_B],Ne.elastic.nonfungiblePositionManager),ii=Object(c.a)(ti,2),ni=ii[0],oi=ii[1],si=Object(ce.x)();function ci(){return ri.apply(this,arguments)}function ri(){return(ri=Object(o.a)(Object(n.a)().mark((function e(){var t,i,o,c,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ee&&Te&&Se&&Ie){e.next=2;break}return e.abrupt("return");case 2:if(Fe&&Je&&Xe){e.next=4;break}return e.abrupt("return");case 4:if(At&&2===At.length){e.next=6;break}return e.abrupt("return");case 6:if(!(rt&&Se&&Wt)){e.next=14;break}t=Je.isNative?Je:Xe.isNative?Xe:void 0,i=l.NonfungiblePositionManager.addCallParameters(rt,At,{slippageTolerance:new d.Percent(si[0],1e4),deadline:Wt.toString(),useNative:t,tokenId:j.a.BigInt(Ie)}),o=i.calldata,c=i.value,r={to:Ne.elastic.nonfungiblePositionManager,data:o,value:c},zt(!0),Te.getSigner().estimateGas(r).then((e=>{var t=Object(s.a)(Object(s.a)({},r),{},{gasLimit:Object(ae.b)(e)});return Te.getSigner().sendTransaction(t).then((e=>{var t,i,n,o;zt(!1);var s=(null===(t=st[te.b.CURRENCY_A])||void 0===t?void 0:t.toSignificant(6))||"0",c=(null===(i=st[te.b.CURRENCY_B])||void 0===i?void 0:i.toSignificant(6))||"0",r=null!==(n=null===Je||void 0===Je?void 0:Je.symbol)&&void 0!==n?n:"",a=null!==(o=null===Xe||void 0===Xe?void 0:Xe.symbol)&&void 0!==o?o:"";Le({hash:e.hash,type:se.c.ELASTIC_INCREASE_LIQUIDITY,extraInfo:{tokenAmountIn:s,tokenAmountOut:c,tokenAddressIn:Je.wrapped.address,tokenAddressOut:Xe.wrapped.address,tokenSymbolIn:r,tokenSymbolOut:a,arbitrary:{token_1:r,token_2:a}}}),Qt(e.hash)}))})).catch((e=>{console.error("Failed to send transaction",e),zt(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e)})),e.next=15;break;case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ai=Object(p.useCallback)((()=>{Lt(!1),Gt&&(Nt(""),Pe("/myPools")),Qt("")}),[Pe,Nt,Gt]),di=$t!==H.a.APPROVED&&!!st[te.b.CURRENCY_A],li=ni!==H.a.APPROVED&&!!st[te.b.CURRENCY_B],bi="Supplying ".concat(jt?"":null===(Oe=st[te.b.CURRENCY_A])||void 0===Oe?void 0:Oe.toSignificant(6)," ").concat(jt?"":null===(ve=dt[te.b.CURRENCY_A])||void 0===ve?void 0:ve.symbol," ").concat(jt||pt?"":"and"," ").concat(pt?"":null===(he=st[te.b.CURRENCY_B])||void 0===he?void 0:he.toSignificant(6)," ").concat(pt?"":null===(ge=dt[te.b.CURRENCY_B])||void 0===ge?void 0:ge.symbol),ui=()=>{var e,t,i,n;return Se?Object(me.jsxs)(me.Fragment,{children:[($t===H.a.NOT_APPROVED||$t===H.a.PENDING||ni===H.a.NOT_APPROVED||ni===H.a.PENDING)&&Bt&&Object(me.jsx)(h.b,{sx:{gap:"16px"},flexDirection:Bt&&di&&li?"column":"row",children:Object(me.jsxs)(Y.b,{children:[di&&Object(me.jsx)(y.i,{onClick:ei,disabled:$t===H.a.PENDING,width:li?"48%":"100%",children:$t===H.a.PENDING?Object(me.jsx)(S.a,{children:Object(me.jsx)(r.b,{id:"Approving {0}",values:{0:null===(e=dt[te.b.CURRENCY_A])||void 0===e?void 0:e.symbol}})}):Object(me.jsx)(r.b,{id:"Approve {0}",values:{0:null===(t=dt[te.b.CURRENCY_A])||void 0===t?void 0:t.symbol}})}),li&&Object(me.jsx)(y.i,{onClick:oi,disabled:ni===H.a.PENDING,width:di?"48%":"100%",children:ni===H.a.PENDING?Object(me.jsx)(S.a,{children:Object(me.jsx)(r.b,{id:"Approving {0}",values:{0:null===(i=dt[te.b.CURRENCY_B])||void 0===i?void 0:i.symbol}})}):Object(me.jsx)(r.b,{id:"Approve {0}",values:{0:null===(n=dt[te.b.CURRENCY_B])||void 0===n?void 0:n.symbol}})})]})}),Object(me.jsx)(y.e,{style:{width:ji?"100%":"fit-content",minWidth:"164px"},onClick:()=>{qe?ci():Lt(!0)},disabled:!Bt||$t!==H.a.APPROVED&&!jt||ni!==H.a.APPROVED&&!pt,error:!Bt&&!!st[te.b.CURRENCY_A]&&!!st[te.b.CURRENCY_B]&&!1,children:Object(me.jsx)(h.d,{fontWeight:500,children:lt||Object(me.jsx)(r.b,{id:"Preview"})})})]}):Object(me.jsx)(y.g,{onClick:Ue,children:Object(me.jsx)(r.b,{id:"Connect Wallet"})})},ji=Object(v.a)("(max-width: ".concat(re.i.upToMedium,"px)"));return Ee?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(q.e,{isOpen:qt,onDismiss:ai,attemptingTxn:Mt,hash:Gt,content:()=>Object(me.jsx)(q.a,{title:a.a._("Increase Liquidity"),onDismiss:ai,topContent:()=>Ge&&Object(me.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(me.jsx)(T.a,{position:Ge,tokenId:Ie}),Object(me.jsx)(P.a,{liquidityValue0:st[te.b.CURRENCY_A],liquidityValue1:st[te.b.CURRENCY_B],title:a.a._("Increase Amount")}),Object(me.jsx)(B.a,{position:Ge,ticksAtLimit:mt})]}),bottomContent:()=>Object(me.jsx)(y.i,{id:"btnSupply",onClick:ci,children:Object(me.jsx)(h.d,{fontWeight:500,children:Object(me.jsx)(r.b,{id:"Supply"})})})}),pendingText:bi}),Object(me.jsxs)(X.b,{children:[Object(me.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",marginTop:"32px",marginBottom:"24px",children:[Object(me.jsxs)(h.b,{role:"button",onClick:()=>Pe(-1),alignItems:"center",sx:{cursor:"pointer",":hover":{opacity:"0.8"}},children:[Object(me.jsx)(m.a,{size:28,color:Be.subText}),Object(me.jsx)(h.d,{fontSize:"24px",fontWeight:"500",marginLeft:"8px",children:Object(me.jsx)(r.b,{id:"Increase Liquidity"})})]}),Object(me.jsxs)(h.b,{children:[ze&&Se&&!We&&!He&&Object(me.jsxs)(h.d,{fontSize:"12px",fontWeight:"500",color:Be.subText,display:"flex",alignItems:"center",marginRight:"8px",children:[Object(me.jsx)(r.b,{id:"The owner of this liquidity position is {0}",values:{0:Object(ae.A)(Ae,ze)}}),Object(me.jsx)(_.a,{toCopy:ze})]}),Object(me.jsx)(D.b,{type:D.a.ELASTIC_INCREASE_LIQUIDITY,customIcon:Object(me.jsx)(N.d,{children:Object(me.jsx)(g.a,{})})}),Object(me.jsx)(L.a,{hoverBg:Be.buttonBlack})]})]}),Object(me.jsx)(X.c,{children:Ge?Object(me.jsx)(k.a,{gap:"md",style:{textAlign:"left"},children:Object(me.jsxs)(X.e,{children:[Object(me.jsxs)(X.d,{style:{height:"calc(100% - 56px)"},children:[Object(me.jsx)(T.a,{position:Ge,tokenId:Ie,showRangeInfo:!1}),Object(me.jsxs)(C.a,{style:{borderRadius:"1rem",padding:"1rem"},children:[Object(me.jsxs)(h.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsxs)(X.g,{color:Qe?Be.red:ut?Be.warning:Be.primary,children:["#",null===Ie||void 0===Ie?void 0:Ie.toString()]}),Object(me.jsx)(f.a,{removed:Qe,inRange:!ut,hideText:!0,size:14})]}),Object(me.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",marginTop:"1rem",marginBottom:"0.75rem",children:[Object(me.jsx)(h.d,{children:Object(me.jsx)(r.b,{id:"My Liquidity"})}),Object(me.jsx)(h.d,{children:Object(ae.j)(St,!0)})]}),Object(me.jsx)(w.a,{}),Object(me.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",marginTop:"0.75rem",children:[Object(me.jsxs)(h.d,{color:Be.subText,children:["Pooled ",Ge.pool.token0.symbol]}),Object(me.jsxs)(h.b,{alignItems:"center",children:[Object(me.jsx)(I.a,{currency:Ge.pool.token0,size:"16px"}),Object(me.jsxs)(h.d,{fontWeight:"500",marginLeft:"4px",children:[Object(me.jsx)(A.a,{currencyAmount:d.CurrencyAmount.fromRawAmount(Object(le.a)(Ge.pool.token0),Ge.amount0.quotient)})," ",Ge.pool.token0.symbol]})]})]}),Object(me.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",marginTop:"0.75rem",children:[Object(me.jsxs)(h.d,{color:Be.subText,children:["Pooled ",Ge.pool.token1.symbol]}),Object(me.jsxs)(h.b,{alignItems:"center",children:[Object(me.jsx)(I.a,{currency:Ge.pool.token1,size:"16px"}),Object(me.jsxs)(h.d,{fontWeight:"500",marginLeft:"4px",children:[Object(me.jsx)(A.a,{currencyAmount:d.CurrencyAmount.fromRawAmount(Object(le.a)(Ge.pool.token1),Ge.amount1.quotient)})," ",Ge.pool.token1.symbol]})]})]})]})]}),Object(me.jsxs)(X.f,{children:[Object(me.jsxs)(C.a,{style:{marginBottom:"1rem"},children:[Object(me.jsxs)(h.a,{sx:{display:"grid",gridGap:ji?"12px":"24px",gridTemplateColumns:"repeat(".concat(ji?1:2," , fit-content(100%) fit-content(100%))")},children:[Object(me.jsx)(h.d,{fontSize:12,color:Be.red,children:Object(me.jsx)(r.b,{id:"Estimated Risk"})}),Object(me.jsx)(U.b,{point:xt,color:Be.red}),Object(me.jsx)(h.d,{fontSize:12,color:Be.primary,children:Object(me.jsx)(r.b,{id:"Estimated Profit"})}),Object(me.jsx)(U.b,{point:Ot,color:Be.primary})]}),Object(me.jsx)(h.b,{marginTop:"1rem"}),Object(me.jsx)(xe,{position:Ge,ticksAtLimit:mt}),Object(me.jsxs)(X.h,{children:[Object(me.jsx)("div",{style:{flex:1,border:"1px solid ".concat(Be.border),borderRadius:"1rem"},children:Object(me.jsx)(R.g,{value:Zt[te.b.CURRENCY_A],onUserInput:Nt,onMax:()=>{var e,t;Nt(null!==(e=null===(t=Jt[te.b.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;Nt(null!==(e=null===(t=ct[te.b.CURRENCY_A])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},currency:null!==(fe=dt[te.b.CURRENCY_A])&&void 0!==fe?fe:null,id:"add-liquidity-input-tokena",showCommonBases:!0,positionMax:"top",locked:jt,estimatedUsd:Object(ae.i)(_t.toString(),!0)||void 0,disableCurrencySelect:!vt&&!ht,isSwitchMode:vt||ht,onSwitchCurrency:()=>{Ae&&Pe("/elastic/increase/".concat(vt?d.WETH[Ae].address:M.j[Ae].symbol,"/").concat(ke,"/").concat(Ze,"/").concat(Ie),{replace:!0})}})}),Object(me.jsx)("div",{style:{flex:1,border:"1px solid ".concat(Be.border),borderRadius:"1rem",overflow:"hidden"},children:Object(me.jsx)(R.g,{value:Zt[te.b.CURRENCY_B],onUserInput:Tt,onMax:()=>{var e,t;Tt(null!==(e=null===(t=Jt[te.b.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t;Tt(null!==(e=null===(t=ct[te.b.CURRENCY_B])||void 0===t?void 0:t.divide(2).toExact())&&void 0!==e?e:"")},currency:null!==(ye=dt[te.b.CURRENCY_B])&&void 0!==ye?ye:null,id:"add-liquidity-input-tokenb",showCommonBases:!0,positionMax:"top",locked:pt,estimatedUsd:Object(ae.i)(Rt.toString(),!0)||void 0,disableCurrencySelect:!gt&&!ft,isSwitchMode:gt||ft,onSwitchCurrency:()=>{Ae&&Pe("/elastic/increase/".concat(_e,"/").concat(gt?d.WETH[Ae].address:M.j[Ae].symbol,"/").concat(Ze,"/").concat(Ie),{replace:!0})}})})]})]}),Object(me.jsx)(h.b,{justifyContent:"flex-end",children:Object(me.jsx)(ui,{})})]})]})}):Object(me.jsx)(E.a,{})})]})]}):Object(me.jsx)(x.a,{to:"/"})}},"./src/pages/RemoveLiquidityProAmm/styled.tsx":function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"e",(function(){return j})),i.d(t,"d",(function(){return p})),i.d(t,"f",(function(){return m})),i.d(t,"c",(function(){return x})),i.d(t,"a",(function(){return O})),i.d(t,"g",(function(){return v})),i.d(t,"h",(function(){return h}));var n,o,s,c,r,a=i("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),d=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=i("./src/components/Card/index.tsx"),b=i("./src/components/Column/index.tsx"),u=d.default.div.withConfig({displayName:"styled__Container",componentId:"sc-12rct2w-0"})(["text-align:center;width:calc(100% - 24px);margin:0 auto 12px;max-width:1200px;border-radius:0.5rem;"]),j=d.default.div.withConfig({displayName:"styled__GridColumn",componentId:"sc-12rct2w-1"})(["display:grid;gap:1.5rem;grid-template-columns:1.35fr 2fr;",""],(e=>e.theme.mediaWidth.upToMedium(n||(n=Object(a.a)(["\n    grid-template-columns: 1fr;\n  "]))))),p=Object(d.default)(b.a).withConfig({displayName:"styled__FirstColumn",componentId:"sc-12rct2w-2"})(["height:fit-content;padding-right:24px;border-right:1px solid ",";grid-auto-rows:min-content;gap:1rem;",""],(e=>e.theme.border),(e=>e.theme.mediaWidth.upToMedium(o||(o=Object(a.a)(["\n    border: none;\n    padding-right: 0;\n    gap: 20px;\n  "]))))),m=Object(d.default)(b.a).withConfig({displayName:"styled__SecondColumn",componentId:"sc-12rct2w-3"})(["border-radius:1.25rem;grid-auto-rows:min-content;"]),x=d.default.div.withConfig({displayName:"styled__Content",componentId:"sc-12rct2w-4"})(["background:",";padding:24px;border:1px solid ",";border-radius:20px;",""],(e=>e.theme.background),(e=>e.theme.border),(e=>e.theme.mediaWidth.upToSmall(s||(s=Object(a.a)(["\n    padding: 1rem;\n  "]))))),O=Object(d.default)(l.a).withConfig({displayName:"styled__AmoutToRemoveContent",componentId:"sc-12rct2w-5"})(["padding:1rem;",""],(e=>e.theme.mediaWidth.upToSmall(c||(c=Object(a.a)(["\n    padding: 0;\n    background: transparent;\n  "]))))),v=d.default.div.withConfig({displayName:"styled__TokenId",componentId:"sc-12rct2w-6"})(["font-size:1rem;font-weight:500;color:",";"],(e=>e.color)),h=d.default.div.withConfig({displayName:"styled__TokenInputWrapper",componentId:"sc-12rct2w-7"})(["display:flex;gap:1rem;width:100%;margin-top:1rem;",""],(e=>e.theme.mediaWidth.upToSmall(r||(r=Object(a.a)(["\n    flex-direction: column;\n  "])))))}}]);