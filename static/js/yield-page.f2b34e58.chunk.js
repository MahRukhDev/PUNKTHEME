(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[35],{"./node_modules/react-feather/dist/icons/arrow-down.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/prop-types/index.js"),i=n.n(o);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var d=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,d=a(e,["color","size"]);return s.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),s.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.a.createElement("polyline",{points:"19 12 12 19 5 12"}))}));d.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},d.displayName="ArrowDown",t.a=d},"./node_modules/react-feather/dist/icons/arrow-up.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/prop-types/index.js"),i=n.n(o);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var d=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,d=a(e,["color","size"]);return s.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),s.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),s.a.createElement("polyline",{points:"5 12 12 5 19 12"}))}));d.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},d.displayName="ArrowUp",t.a=d},"./node_modules/react-indiana-drag-scroll/dist/index.es.js":function(e,t,n){"use strict";var r,s,o=n("./node_modules/react/index.js"),i=n.n(o),c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},a=(s=r={path:void 0,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if("string"===o||"number"===o)n.push(s);else if(Array.isArray(s)&&s.length){var i=t.apply(null,s);i&&n.push(i)}else if("object"===o)for(var c in s)e.call(s,c)&&s[c]&&n.push(c)}}return n.join(" ")}s.exports?(t.default=t,s.exports=t):window.classNames=t}(),r.exports);function d(e,t,n){var r,s,o,i,c;function a(){var d=Date.now()-i;d<t&&d>=0?r=setTimeout(a,t-d):(r=null,n||(c=e.apply(o,s),o=s=null))}null==t&&(t=100);var d=function(){o=this,s=arguments,i=Date.now();var d=n&&!r;return r||(r=setTimeout(a,t)),d&&(c=e.apply(o,s),o=s=null),c};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(c=e.apply(o,s),o=s=null,clearTimeout(r),r=null)},d}d.debounce=d;var l=d;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var j,b=(j="indiana-scroll-container",function(e,t){if(!e)return j;var n;"string"==typeof e?n=e:t=e;var r=j;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var s=t[n];return s&&(e+=" "+("boolean"==typeof s?r+"--"+n:r+"--"+n+"_"+s)),e}),""):"")}),u=function(e){function t(t){var n=e.call(this,t)||this;return n.onEndScroll=function(){n.scrolling=!1,!n.pressed&&n.started&&n.processEnd()},n.onScroll=function(e){var t=n.container.current;t.scrollLeft===n.scrollLeft&&t.scrollTop===n.scrollTop||(n.scrolling=!0,n.processScroll(e),n.onEndScroll())},n.onTouchStart=function(e){var t=n.props.nativeMobileScroll;if(n.isDraggable(e.target))if(n.internal=!0,t&&n.scrolling)n.pressed=!0;else{var r=e.touches[0];n.processClick(e,r.clientX,r.clientY),!t&&n.props.stopPropagation&&e.stopPropagation()}},n.onTouchEnd=function(e){var t=n.props.nativeMobileScroll;n.pressed&&(!n.started||n.scrolling&&t?n.pressed=!1:n.processEnd(),n.forceUpdate())},n.onTouchMove=function(e){var t=n.props.nativeMobileScroll;if(n.pressed&&(!t||!n.isMobile)){var r=e.touches[0];r&&n.processMove(e,r.clientX,r.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()}},n.onMouseDown=function(e){n.isDraggable(e.target)&&n.isScrollable()&&(n.internal=!0,-1!==n.props.buttons.indexOf(e.button)&&(n.processClick(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()))},n.onMouseMove=function(e){n.pressed&&(n.processMove(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.onMouseUp=function(e){n.pressed&&(n.started?n.processEnd():(n.internal=!1,n.pressed=!1,n.forceUpdate(),n.props.onClick&&n.props.onClick(e)),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.container=i.a.createRef(),n.onEndScroll=l(n.onEndScroll,300),n.scrolling=!1,n.started=!1,n.pressed=!1,n.internal=!1,n.getRef=n.getRef.bind(n),n}return function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},t.prototype.getElement=function(){return this.container.current},t.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},t.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},t.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},t.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},t.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},t.prototype.processMove=function(e,t,n){var r=this.props,s=r.horizontal,o=r.vertical,i=r.activationDistance,c=r.onScroll,a=this.container.current;this.started?(s&&(a.scrollLeft-=t-this.clientX),o&&(a.scrollTop-=n-this.clientY),c&&c({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=a.scrollLeft,this.scrollTop=a.scrollTop):(s&&Math.abs(t-this.clientX)>i||o&&Math.abs(n-this.clientY)>i)&&(this.clientX=t,this.clientY=n,this.processStart())},t.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},t.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggingClassName,r=e.className,s=e.style,o=e.hideScrollbars,c=e.component;return i.a.createElement(c,{className:a(r,this.pressed&&n,b({dragging:this.pressed,"hide-scrollbars":o,"native-scroll":this.isMobile})),style:s,ref:this.getRef,onScroll:this.onScroll},t)},t.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},t}(o.PureComponent);t.a=u},"./src/components/ClassicElasticTab.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("./node_modules/@lingui/react/esm/index.js"),i=n("./node_modules/querystring-es3/index.js"),c=n("./node_modules/react-router/dist/index.js"),a=n("./node_modules/rebass/dist/index.esm.js"),d=n("./src/constants/index.ts"),l=n("./src/constants/v2.ts"),j=n("./src/hooks/index.ts"),b=n("./src/hooks/useMixpanel.ts"),u=n("./src/hooks/useParsedQueryString.ts"),p=n("./src/hooks/useTheme.ts"),x=n("./src/utils/string.ts"),m=n("./src/components/Icons/index.ts"),h=n("./src/components/Tooltip/index.tsx"),O=n("./node_modules/react/jsx-runtime.js"),f=["tab"];t.a=function(){var e=Object(u.a)(),t=e.tab,n=void 0===t?l.c.ELASTIC:t,g=Object(s.a)(e,f),v=Object(x.d)(n,l.c)?n:l.c.ELASTIC,y=Object(b.c)().mixpanelHandler,k=Object(j.b)().chainId,w=l.a[k],C=Object(p.a)(),S=Object(c.k)(),T=Object(c.m)(),I=S.pathname.includes("/farms");return Object(O.jsxs)(a.b,{width:"max-content",children:[Object(O.jsx)(h.a,{text:w||"",children:Object(O.jsxs)(a.b,{alignItems:"center",onClick:()=>{if(!w){var e=Object(r.a)(Object(r.a)({},g),{},{tab:l.c.ELASTIC}),t="";S.pathname.startsWith(d.h.POOLS)?t=b.a.ELASTIC_POOLS_ELASTIC_POOLS_CLICKED:S.pathname.startsWith(d.h.MY_POOLS)&&(t=b.a.ELASTIC_MYPOOLS_ELASTIC_POOLS_CLICKED),t&&y(t),T({search:Object(i.stringify)(e)},{replace:!0})}},children:[Object(O.jsx)(m.G,{size:20,color:v===l.c.ELASTIC?C.primary:C.subText}),Object(O.jsx)(a.d,{fontWeight:500,fontSize:[18,20,24],color:v===l.c.ELASTIC?w?C.disableText:C.primary:C.subText,width:"auto",marginLeft:"4px",role:"button",style:{cursor:w?"not-allowed":"pointer"},children:I?Object(O.jsx)(o.b,{id:"Elastic Farms"}):Object(O.jsx)(o.b,{id:"Elastic Pools"})})]})}),Object(O.jsx)(a.d,{fontWeight:500,fontSize:[18,20,24],color:C.subText,marginX:"12px",children:"|"}),Object(O.jsxs)(a.b,{alignItems:"center",onClick:()=>{var e=Object(r.a)(Object(r.a)({},g),{},{tab:l.c.CLASSIC});T({search:Object(i.stringify)(e)},{replace:!0})},children:[Object(O.jsx)(m.F,{size:20,color:v===l.c.ELASTIC?C.subText:C.primary}),Object(O.jsx)(a.d,{fontWeight:500,fontSize:[18,20,24],color:v===l.c.CLASSIC?C.primary:C.subText,width:"auto",marginLeft:"4px",style:{cursor:"pointer"},role:"button",children:I?Object(O.jsx)(o.b,{id:"Classic Farms"}):Object(O.jsx)(o.b,{id:"Classic Pools"})})]})]})}},"./src/components/Dots.tsx":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=r},"./src/components/HoverDropdown/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=n("./node_modules/react/index.js"),o=n("./node_modules/rebass/dist/index.esm.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),a=n("./src/components/Tooltip/index.tsx"),d=n("./node_modules/react/jsx-runtime.js"),l=i.default.div.withConfig({displayName:"HoverDropdown__Dropdown",componentId:"sc-d4bw6y-0"})(["display:none;position:absolute;background:",";filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.36));box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:16px;padding:12px;width:max-content;z-index:13;top:28px;",""],(e=>e.theme.tableHeader),(e=>{var t=e.placement;return"center"===t?"\n    left: 50%;\n    transform: translate(-50%, 0);\n    ":"right"===t?"left: 100%;\n        transform: translate(-100%, 0);\n    ":""})),j=Object(i.default)(c.a).withConfig({displayName:"HoverDropdown__DropdownIcon",componentId:"sc-d4bw6y-1"})(["margin-left:4px;transition:transform 300ms;"]),b=i.default.div.withConfig({displayName:"HoverDropdown__HoverDropdownWrapper",componentId:"sc-d4bw6y-2"})(["position:relative;display:inline-block;cursor:pointer;width:fit-content;padding:",";:hover{","{display:flex;flex-direction:column;}","{transform:rotate(",");}}"],(e=>e.padding||"8px 0"),l,j,(e=>e.disabledHover?"0":"-180deg"));t.a=e=>{var t=e.hideIcon,n=void 0!==t&&t,i=e.content,c=e.dropdownContent,l=e.padding,u=e.style,p=void 0===u?{}:u,x=Object(s.useState)(!1),m=Object(r.a)(x,2),h=m[0],O=m[1];return Object(d.jsx)(b,{disabledHover:!c,padding:l,style:p,onMouseOver:()=>O(!0),onMouseLeave:()=>O(!1),children:Object(d.jsx)(a.d,{show:h,text:c,placement:"bottom",width:"max-content",children:Object(d.jsxs)(o.b,{alignItems:"center",children:[i,!n&&Object(d.jsx)(j,{})]})})})}},"./src/components/Icons/Deposit.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/jsx-runtime.js");t.a=e=>{var t=e.width,n=e.height,s=e.color;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:Object(r.jsx)("path",{d:"M11.06 6H10V2.66667C10 2.3 9.70004 2 9.33337 2H6.66671C6.30004 2 6.00004 2.3 6.00004 2.66667V6H4.94004C4.34671 6 4.04671 6.72 4.46671 7.14L7.52671 10.2C7.78671 10.46 8.20671 10.46 8.46671 10.2L11.5267 7.14C11.9467 6.72 11.6534 6 11.06 6ZM3.33337 12.6667C3.33337 13.0333 3.63337 13.3333 4.00004 13.3333H12C12.3667 13.3333 12.6667 13.0333 12.6667 12.6667C12.6667 12.3 12.3667 12 12 12H4.00004C3.63337 12 3.33337 12.3 3.33337 12.6667Z",fill:s||"currentColor"})})}},"./src/components/Icons/Withdraw.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/jsx-runtime.js");t.a=e=>{var t=e.width,n=e.height;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:Object(r.jsx)("path",{d:"M3.33337 3.33317C3.33337 3.69984 3.63337 3.99984 4.00004 3.99984H12C12.3667 3.99984 12.6667 3.69984 12.6667 3.33317C12.6667 2.9665 12.3667 2.6665 12 2.6665H4.00004C3.63337 2.6665 3.33337 2.9665 3.33337 3.33317ZM4.94004 9.33317H6.00004V12.6665C6.00004 13.0332 6.30004 13.3332 6.66671 13.3332H9.33337C9.70004 13.3332 10 13.0332 10 12.6665V9.33317H11.06C11.6534 9.33317 11.9534 8.61317 11.5334 8.19317L8.47337 5.13317C8.21337 4.87317 7.79337 4.87317 7.53337 5.13317L4.47337 8.19317C4.05337 8.61317 4.34671 9.33317 4.94004 9.33317Z",fill:"currentColor"})})}},"./src/components/PoolsCurrencyInputPanel/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r,s,o,i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),a=n("./node_modules/@lingui/react/esm/index.js"),d=n("./node_modules/react/index.js"),l=n("./node_modules/react-feather/dist/icons/x.js"),j=n("./node_modules/rebass/dist/index.esm.js"),b=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),p=n("./src/components/CurrencyLogo/index.tsx"),x=n("./src/components/DoubleLogo/index.tsx"),m=n("./src/components/SearchModal/CurrencySearchModal.tsx"),h=n("./src/hooks/useTheme.ts"),O=n("./src/utils/dmm.ts"),f=n("./node_modules/react/jsx-runtime.js"),g=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__InputRow",componentId:"sc-bxeb8p-0"})([""," align-items:center;padding:",";",";"],(e=>e.theme.flexRowNoWrap),(e=>e.selected?"0.75rem 0.5rem 0.75rem 1rem":"0.75rem 0.75rem 0.75rem 1rem"),(e=>e.theme.mediaWidth.upToMedium(r||(r=Object(c.a)(["\n    width: 100%;\n  "]))))),v=b.default.button.withConfig({displayName:"PoolsCurrencyInputPanel__CurrencySelect",componentId:"sc-bxeb8p-1"})(["align-items:center;height:2.25rem;font-size:20px;font-weight:500;background-color:",";border:1px solid transparent;color:",";border-radius:40px;outline:none;cursor:pointer;user-select:none;padding:0 0.5rem;:hover{background-color:",";}",";"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.bg2),(e=>e.theme.mediaWidth.upToMedium(s||(s=Object(c.a)(["\n    width: 100%;\n  "]))))),y=b.default.span.withConfig({displayName:"PoolsCurrencyInputPanel__Aligner",componentId:"sc-bxeb8p-2"})(["display:flex;align-items:center;justify-content:space-between;",";"],(e=>e.theme.mediaWidth.upToMedium(o||(o=Object(c.a)(["\n    width: 100%;\n  "]))))),k=Object(b.default)(u.a).withConfig({displayName:"PoolsCurrencyInputPanel__StyledDropDown",componentId:"sc-bxeb8p-3"})(["margin:0 0.25rem 0 0.5rem;height:35%;path{stroke:",";fill:",";}"],(e=>e.theme.subText),(e=>e.theme.subText)),w=Object(b.default)(l.a).withConfig({displayName:"PoolsCurrencyInputPanel__StyledX",componentId:"sc-bxeb8p-4"})(["margin:0 0.25rem 0 0.5rem;path,line{stroke:",";}:hover{path,line{stroke:",";}}"],(e=>e.theme.text),(e=>e.theme.subText)),C=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__InputPanel",componentId:"sc-bxeb8p-5"})([""," position:relative;border-radius:4px;background-color:transparent;z-index:1;"],(e=>e.theme.flexColumnNoWrap)),S=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__Container",componentId:"sc-bxeb8p-6"})([""]),T=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__LogoNameWrapper",componentId:"sc-bxeb8p-7"})(["display:flex;align-items:center;"]),I=b.default.span.withConfig({displayName:"PoolsCurrencyInputPanel__StyledTokenName",componentId:"sc-bxeb8p-8"})([""," font-size:",";min-width:max-content;"],(e=>e.active?"  margin: 0 0.25rem 0 0.75rem;":"  margin: 0 0.25rem 0 0.25rem;"),(e=>e.active?"16px":"14px"));function A(e){var t=e.onCurrencySelect,n=e.onClearCurrency,r=e.currency,s=e.disableCurrencySelect,o=void 0!==s&&s,c=e.pair,l=void 0===c?null:c,b=e.otherCurrency,u=e.id,A=e.showCommonBases,_=Object(d.useState)(!1),L=Object(i.a)(_,2),E=L[0],P=L[1],D=Object(h.a)(),z=Object(d.useCallback)((()=>{P(!1)}),[P]),R=Object(O.i)(r||void 0);return Object(f.jsxs)(C,{id:u,children:[Object(f.jsx)(S,{children:Object(f.jsx)(g,{style:{padding:"0",borderRadius:"8px"},selected:o,children:Object(f.jsx)(v,{selected:!!r,className:"open-currency-select-button",onClick:()=>{o||P(!0)},children:Object(f.jsxs)(y,{children:[Object(f.jsxs)(T,{children:[l?Object(f.jsx)(x.b,{currency0:l.token0,currency1:l.token1,size:24,margin:!0}):r?Object(f.jsx)(p.a,{currency:r||void 0,size:"24px"}):null,l?Object(f.jsxs)(I,{className:"pair-name-container",children:[null===l||void 0===l?void 0:l.token0.symbol,":",null===l||void 0===l?void 0:l.token1.symbol]}):Object(f.jsx)(I,{className:"token-symbol-container",active:Boolean(r&&r.symbol),children:(R&&R.symbol&&R.symbol.length>20?R.symbol.slice(0,4)+"..."+R.symbol.slice(R.symbol.length-5,R.symbol.length):null===R||void 0===R?void 0:R.symbol)||Object(f.jsx)(j.d,{color:D.subText,children:Object(f.jsx)(a.b,{id:"Select Token"})})})]}),!o&&!r&&Object(f.jsx)(k,{}),!o&&r&&Object(f.jsx)(w,{size:16,onClick:e=>{e.stopPropagation(),n&&n()}})]})})})}),!o&&t&&Object(f.jsx)(m.a,{isOpen:E,onDismiss:z,onCurrencySelect:t,selectedCurrency:r,otherSelectedCurrency:b,showCommonBases:A})]})}},"./src/components/RewardTokenPrices/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,s=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),o=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),i=n("./node_modules/react/index.js"),c=n("./node_modules/react-indiana-drag-scroll/dist/index.es.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./src/components/CurrencyLogo/index.tsx"),l=n("./src/constants/index.ts"),j=n("./src/constants/tokens.ts"),b=n("./src/hooks/index.ts"),u=n("./src/hooks/useThrottle.ts"),p=n("./src/state/tokenPrices/hooks.ts"),x=n("./src/utils/index.ts"),m=n("./node_modules/react/jsx-runtime.js"),h=a.default.div.withConfig({displayName:"RewardTokenPrices__ScrollContainerWithGradient",componentId:"sc-1l03pbq-0"})(["position:relative;display:flex;justify-content:flex-end;align-items:center;height:fit-content;width:100%;max-width:calc(100vw - 32px);"," &.left-visible:after,&.right-visible:before{content:'';display:block;z-index:2;pointer-events:none;position:absolute;inset:0 0 auto auto;width:40px;height:100%;top:50%;transform:translateY(-50%);}&.left-visible:after{background:linear-gradient( to right,",",transparent );left:0;}&.right-visible:before{background:linear-gradient( to left,",",transparent );right:0;}"],(e=>e.theme.mediaWidth.upToSmall(r||(r=Object(s.a)(["\n    justify-content: flex-start;\n  "])))),(e=>{var t=e.theme,n=e.backgroundColor;return null!==n&&void 0!==n?n:t.buttonBlack}),(e=>{var t=e.theme,n=e.backgroundColor;return null!==n&&void 0!==n?n:t.buttonBlack})),O=a.default.div.withConfig({displayName:"RewardTokenPrices__RewardTokensList",componentId:"sc-1l03pbq-1"})(["display:flex;"]),f=a.default.div.withConfig({displayName:"RewardTokenPrices__TokenWrapper",componentId:"sc-1l03pbq-2"})(["display:flex;align-items:center;padding-left:",";padding-right:",";border-left:",";white-space:nowrap;"],(e=>e.isFirstItem?"0":"20px"),(e=>e.isLastItem?"0":"20px"),(e=>{var t=e.theme;return e.isFirstItem?"none":"1px solid ".concat(t.border)})),g=a.default.span.withConfig({displayName:"RewardTokenPrices__TokenSymbol",componentId:"sc-1l03pbq-3"})(["margin-left:4px;font-size:14px;font-weight:400;margin-right:4px;"]);t.b=e=>{var t=e.style,n=void 0===t?{}:t,r=e.rewardTokens,s=Object(b.b)().chainId,a=r.findIndex((e=>e.wrapped.address===l.eb))>=0,v=r.findIndex((e=>e.wrapped.address===o.WETH[s].address))>=0;(r=a&&v?r.filter((e=>e.wrapped.address!==o.WETH[s].address)):r).sort((function(e,t){return e.wrapped.address===j.f[s].address?-1:t.wrapped.address===j.f[s].address?1:e.wrapped.address===l.eb||e.wrapped.address===o.WETH[s].address?-1:t.wrapped.address===l.eb||t.wrapped.address===o.WETH[s].address?1:0}));var y=Object(p.a)(r.map((e=>e.wrapped.address))),k=Object(i.useRef)(null),w=Object(i.useRef)(null),C=Object(i.useRef)(null),S=Object(u.a)((()=>{var e,t,n,r,s,o=k.current;(null===o||void 0===o?void 0:o.scrollLeft)>0?null===(t=C.current)||void 0===t||t.classList.add("left-visible"):null===(n=C.current)||void 0===n||n.classList.remove("left-visible");(null===(e=w.current)||void 0===e?void 0:e.scrollWidth)-(null===o||void 0===o?void 0:o.scrollLeft)>(null===o||void 0===o?void 0:o.clientWidth)?null===(r=C.current)||void 0===r||r.classList.add("right-visible"):null===(s=C.current)||void 0===s||s.classList.remove("right-visible")}),300);return Object(i.useEffect)((()=>(window.addEventListener("resize",S),()=>window.removeEventListener("resize",S))),[]),Object(i.useEffect)((()=>{S()}),[s]),r.length?Object(m.jsx)(h,{ref:C,style:n,children:Object(m.jsx)(c.a,{innerRef:k,vertical:!1,className:"scroll-container",onScroll:S,children:Object(m.jsx)(O,{ref:w,children:r.map(((e,t)=>{var n;return Object(m.jsxs)(f,{isFirstItem:0===t,isLastItem:t===(null===(n=r)||void 0===n?void 0:n.length)-1,children:[Object(m.jsx)(d.a,{currency:e,size:"20px"}),Object(m.jsxs)(g,{children:[e.symbol,":"]}),Object(m.jsx)("span",{children:y[e.wrapped.address]?Object(x.j)(y[e.wrapped.address],!0):"N/A"})]},t)}))})})}):null}},"./src/components/SwitchLocaleLink/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),o=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("./node_modules/querystring-es3/index.js"),c=n("./node_modules/react/index.js"),a=n("./node_modules/react-router/dist/index.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./src/constants/locales.tsx"),j=n("./src/hooks/useActiveLocale.ts"),b=n("./src/hooks/useParsedQueryString.ts"),u=n("./src/theme/index.tsx"),p=n("./node_modules/react/jsx-runtime.js"),x=Object(d.default)(u.l.small).withConfig({displayName:"SwitchLocaleLink__Container",componentId:"sc-1rrcg41-0"})(["opacity:0.6;:hover{opacity:1;}margin-top:1rem !important;",";"],(e=>e.theme.mediaWidth.upToMedium(r||(r=Object(o.a)(["\n    display: none;\n  "])))));function m(){var e=Object(j.b)(),t=Object(c.useMemo)((()=>Object(j.a)()),[]),n=Object(a.k)(),r=Object(b.a)();if(t&&(t!==l.a||e!==l.a)){var o;o=e===t?l.a:t;var d=Object(s.a)(Object(s.a)({},n),{},{search:Object(i.stringify)(Object(s.a)(Object(s.a)({},r),{},{lng:o}))});return Object(p.jsxs)(x,{children:["KyberSwap available in: ",Object(p.jsx)(u.k,{to:d,children:Object(l.c)(o)})]})}return null}},"./src/components/YieldPools/FarmPoolSort.tsx":function(e,t,n){"use strict";var r,s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("./node_modules/@lingui/react/esm/index.js"),c=n("./node_modules/react/index.js"),a=n("./node_modules/react-feather/dist/icons/x.js"),d=n("./node_modules/react-router/dist/index.js"),l=n("./node_modules/react-router-dom/dist/index.js"),j=n("./node_modules/react-use/esm/useMedia.js"),b=n("./node_modules/rebass/dist/index.esm.js"),u=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),p=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),x=n("./src/components/Button/index.tsx"),m=n("./src/components/Icons/index.ts"),h=n("./src/components/Modal/index.tsx"),O=n("./src/constants/styles.ts"),f=n("./src/constants/v2.ts"),g=n("./src/hooks/useOnClickOutside.tsx"),v=n("./src/hooks/useTheme.ts"),y=n("./node_modules/react/jsx-runtime.js"),k=u.default.div.withConfig({displayName:"FarmPoolSort__Wrapper",componentId:"sc-nex9n3-0"})(["padding:0 12px;background:",";font-size:12px;font-weight:500;line-height:16px;border-radius:999px;position:relative;display:flex;justify-content:space-between;align-items:center;min-width:140px;height:36px;cursor:pointer;",";"],(e=>e.theme.background),(e=>e.theme.mediaWidth.upToExtraSmall(r||(r=Object(o.a)(["\n    min-width: fit-content;\n    padding: 10px;\n  "]))))),w=u.default.div.withConfig({displayName:"FarmPoolSort__DropDownMenu",componentId:"sc-nex9n3-1"})(["position:absolute;top:52px;overflow:hidden;left:0;right:0;box-shadow:0px 4px 4px rgba(0,0,0,0.25);background:",";border-radius:16px;padding:8px 0;z-index:",";"],(e=>e.theme.tableHeader),O.a.POPOVER_CONTAINER),C=u.default.div.withConfig({displayName:"FarmPoolSort__Row",componentId:"sc-nex9n3-2"})(["padding:8px 12px;color:",";:hover{background:",";}"],(e=>e.theme.subText),(e=>e.theme.buttonBlack)),S=[{orderBy:"apr",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2191"})},{orderBy:"apr",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2193"})},{orderBy:"staked_tvl",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"STAKED TVL \u2191"})},{orderBy:"staked_tvl",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"STAKED TVL \u2193"})},{orderBy:"end_time",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"END TIME \u2191"})},{orderBy:"end_time",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"END TIME \u2193"})},{orderBy:"my_deposit",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY DEPOSIT \u2191"})},{orderBy:"my_deposit",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY DEPOSIT \u2193"})},{orderBy:"my_reward",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY REWARD \u2191"})},{orderBy:"my_reward",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY REWARD \u2193"})}];t.a=e=>{var t=e.className,n=Object(d.k)().pathname,r=Object(l.d)(),o=Object(s.a)(r,2),u=o[0],O=o[1],T=u.get("orderDirection")||"desc",I=u.get("orderBy")||(n.startsWith("/farms")?"my_deposit":"tvl"),A=Object(c.useRef)(null);Object(g.a)(A,(()=>{M(!1)}));var _=u.get("tab")||f.c.ELASTIC,L=n.startsWith("/farms")?S:(e=>[{orderBy:"apr",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2191"})},{orderBy:"apr",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2193"})},{orderBy:"tvl",orderDirection:"asc",label:e===f.c.CLASSIC?Object(y.jsx)(i.b,{id:"AMP LIQUIDITY \u2191"}):Object(y.jsx)(i.b,{id:"TVL \u2191"})},{orderBy:"tvl",orderDirection:"desc",label:e===f.c.CLASSIC?Object(y.jsx)(i.b,{id:"AMP LIQUIDITY \u2193"}):Object(y.jsx)(i.b,{id:"TVL \u2193"})},{orderBy:"volume",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"VOLUME \u2191"})},{orderBy:"volume",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"VOLUME \u2193"})},{orderBy:"fee",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"FEES \u2191"})},{orderBy:"fee",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"FEES \u2193"})},{orderBy:"my_liquidity",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY LIQUIDITY \u2191"})},{orderBy:"my_liquidity",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY LIQUIDITY \u2193"})}])(_),E=Object(v.a)(),P=L.find((e=>e.orderBy===I&&e.orderDirection===T)),D=Object(c.useState)(!1),z=Object(s.a)(D,2),R=z[0],M=z[1],F=Object(j.a)("(max-width: 576px)");return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(k,{className:t,role:"button",ref:A,onClick:e=>{e.stopPropagation(),M((e=>!e))},children:[Object(y.jsxs)(b.b,{alignItems:"center",children:[Object(y.jsx)(m.J,{size:20}),!F&&Object(y.jsx)(b.d,{marginLeft:"4px",children:null===P||void 0===P?void 0:P.label})]}),!F&&Object(y.jsx)(p.a,{style:{transform:"rotate(".concat(R?"180deg":"0",")")}}),R&&!F&&Object(y.jsx)(w,{children:L.map((e=>Object(y.jsx)(C,{role:"button",onClick:()=>{u.set("orderBy",e.orderBy),u.set("orderDirection",e.orderDirection),O(u)},children:e.label},e.orderBy+"_"+e.orderDirection)))})]}),Object(y.jsx)(h.b,{isOpen:R&&F,onDismiss:()=>M(!1),maxWidth:"808px",maxHeight:80,minHeight:50,children:Object(y.jsxs)(b.b,{flexDirection:"column",width:"100%",padding:"24px 20px",backgroundColor:E.background,children:[Object(y.jsxs)(b.b,{alignItems:"center",justifyContent:"space-between",children:[Object(y.jsx)(b.d,{fontWeight:"500",children:Object(y.jsx)(i.b,{id:"Sort"})}),Object(y.jsx)(x.d,{onClick:()=>M(!1),width:"36px",height:"36px",padding:"0",children:Object(y.jsx)(a.a,{color:E.text})})]}),L.map((e=>Object(y.jsx)(b.d,{fontWeight:"500",fontSize:"12px",padding:"12px 0",color:E.subText,role:"button",onClick:()=>{u.set("orderBy",e.orderBy),u.set("orderDirection",e.orderDirection),O(u)},children:e.label},e.orderBy+"_"+e.orderDirection)))]})})]})}},"./src/hooks/useIsTickAtLimit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),s=n("./node_modules/react/index.js"),o=n("./src/state/mint/proamm/type.ts");function i(e,t,n){return Object(s.useMemo)((()=>({[o.a.LOWER]:e&&t?t===Object(r.nearestUsableTick)(r.TickMath.MIN_TICK,r.TICK_SPACINGS[e]):void 0,[o.a.UPPER]:e&&n?n===Object(r.nearestUsableTick)(r.TickMath.MAX_TICK,r.TICK_SPACINGS[e]):void 0})),[e,t,n])}},"./src/hooks/useProAmmPositions.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=n("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),o=n("./node_modules/@ethersproject/address/lib.esm/index.js"),i=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),c=n("./node_modules/@ethersproject/solidity/lib.esm/index.js"),a=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),d=n("./node_modules/react/index.js"),l=n("./src/hooks/index.ts"),j=n("./src/state/farms/elastic/hooks.ts"),b=n("./src/state/multicall/hooks.ts"),u=n("./src/hooks/useContract.ts");function p(e){var t=Object(u.p)(),n=Object(l.b)(),i=n.isEVM,a=n.networkInfo,j=Object(d.useMemo)((()=>e?e.map((e=>[e])):[]),[e]),p=Object(b.d)(t,"positions",j),x=Object(d.useMemo)((()=>p.some((e=>e.loading))),[p]),m=Object(d.useMemo)((()=>p.some((e=>e.error))),[p]),h=Object(d.useMemo)((()=>{if(!x&&!m&&e&&i)return p.map(((t,n)=>{var r=e[n],i=t.result;return{tokenId:r,poolId:Object(o.getCreate2Address)(a.elastic.coreFactory,Object(c.keccak256)(["bytes"],[s.b.encode(["address","address","uint24"],[i.info.token0,i.info.token1,i.info.fee])]),a.elastic.initCodeHash),feeGrowthInsideLast:i.pos.feeGrowthInsideLast,nonce:i.pos.nonce,liquidity:i.pos.liquidity,operator:i.pos.operator,tickLower:i.pos.tickLower,tickUpper:i.pos.tickUpper,rTokenOwed:i.pos.rTokenOwed,fee:i.info.fee,token0:i.info.token0,token1:i.info.token1}}))}),[x,m,p,e,a,i]);return Object(d.useMemo)((()=>({loading:x,positions:null===h||void 0===h?void 0:h.map(((e,t)=>Object(r.a)(Object(r.a)({},e),{},{tokenId:j[t][0]})))})),[x,h,j])}function x(e){var t,n=p(e?[e]:void 0);return{loading:n.loading,position:null===(t=n.positions)||void 0===t?void 0:t[0]}}function m(e){var t,n=Object(u.p)(),r=Object(b.c)(n,"balanceOf",[null!==e&&void 0!==e?e:void 0]),s=r.loading,o=r.result,c=null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.toNumber(),a=Object(d.useMemo)((()=>{if(c&&e){for(var t=[],n=0;n<c;n++)t.push([e,n]);return t}return[]}),[e,c]),l=Object(b.d)(n,"tokenOfOwnerByIndex",a),j=Object(d.useMemo)((()=>l.some((e=>e.loading))),[l]),x=p(Object(d.useMemo)((()=>e?l.map((e=>e.result)).filter((e=>!!e)).map((e=>i.a.from(e[0]))):[]),[e,l])),m=x.positions,h=x.loading;return Object(d.useMemo)((()=>({loading:j||s||h,positions:m})),[j,s,h,m])}var h=()=>{var e=Object(l.b)(),t=e.isEVM,n=e.networkInfo,r=Object(j.b)(),s=r.farms,o=r.loading,c=r.userFarmInfo,b=Object(d.useMemo)((()=>(null===s||void 0===s?void 0:s.map((e=>e.pools)).flat())||[]),[s]),u=Object(d.useMemo)((()=>{var e,t=Date.now()/1e3;return(null===s||void 0===s||null===(e=s.map((e=>e.pools)).flat())||void 0===e?void 0:e.filter((e=>e.endTime>=t)).map((e=>e.poolAddress.toLowerCase())))||[]}),[s]),p=Object(d.useMemo)((()=>t?Object.values(c||{}).map((e=>e.depositedPositions.map((t=>{var r,s=Object(a.computePoolAddress)({factoryAddress:n.elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:n.elastic.initCodeHash}),o=b.filter((e=>e.poolAddress.toLowerCase()===s.toLowerCase())),c=Object.values(e.joinedPositions).flat().filter((e=>e.nftId.toString()===t.nftId.toString())).reduce(((e,t)=>e.gt(i.a.from(t.liquidity.toString()))?e:i.a.from(t.liquidity.toString())),i.a.from(0))||i.a.from(0);return{nonce:i.a.from("1"),tokenId:t.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:s,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:i.a.from(t.liquidity.toString()),feeGrowthInsideLast:i.a.from(0),stakedLiquidity:c,rTokenOwed:i.a.from(0),token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,endTime:null===o||void 0===o||null===(r=o[0])||void 0===r?void 0:r.endTime,rewardPendings:[]}})).flat())).flat().filter((e=>e.liquidity.gt(0))):[]),[b,c,t,n]);return Object(d.useMemo)((()=>({farms:s,userFarmInfo:c,activeFarmAddress:u,farmPositions:p,loading:o})),[o,p,u,s,c])}},"./src/hooks/useThrottle.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/lodash/lodash.js"),s=n.n(r),o=n("./node_modules/react/index.js");function i(e,t){var n=Object(o.useRef)(e);return n.current=e,Object(o.useMemo)((()=>s.a.throttle(n.current,t)),[t])}},"./src/pages/Farm/index.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@lingui/react/esm/index.js"),i=n("./node_modules/@lingui/core/esm/index.js"),c=n("./node_modules/querystring-es3/index.js"),a=n("./node_modules/react/index.js"),d=n.n(a),l=n("./node_modules/react-feather/dist/icons/share-2.js"),j=n("./node_modules/react-feather/dist/icons/search.js"),b=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/react-router/dist/index.js"),p=n("./node_modules/react-router-dom/dist/index.js"),x=n("./node_modules/react-use/esm/useMedia.js"),m=n("./node_modules/rebass/dist/index.esm.js"),h=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/play_circle_outline.svg"),O=n("./src/components/ClassicElasticTab.tsx"),f=n("./src/components/Loader/index.tsx"),g=n("./src/components/PoolsCurrencyInputPanel/index.tsx"),v=n("./src/components/RewardTokenPrices/index.tsx"),y=n("./src/components/Row/index.tsx"),k=n("./src/components/SwitchLocaleLink/index.tsx"),w=n("./src/components/Toggle/index.tsx"),C=n("./src/components/Tutorial/index.tsx"),S=n("./src/components/LocalLoader/index.tsx"),T=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),I=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),A=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_=n("./src/constants/index.ts"),L=n("./src/constants/tokens.ts"),E=n("./src/hooks/index.ts"),P=n("./src/hooks/useMixpanel.ts");var D,z,R,M,F,N,B,W,H=n("./src/constants/messages.ts"),q=n("./src/hooks/useContract.ts"),U=n("./src/state/transactions/hooks.tsx"),V=n("./src/state/transactions/type.ts"),Y=n("./src/utils/index.ts"),G=e=>{var t=Object(U.g)(),n=Object(q.s)(e),r=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s){var o,i;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.vestScheduleAtIndices(r,s);case 4:return o=e.sent,e.next=7,n.vestScheduleAtIndices(r,s,{gasLimit:Object(Y.b)(o)});case 7:return i=e.sent,t({hash:i.hash,type:V.c.CLAIM_REWARD,extraInfo:{summary:"reward"}}),e.abrupt("return",i.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t]),s=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s){var o,i;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.vestScheduleForMultipleTokensAtIndices(r,s);case 4:return o=e.sent,e.next=7,n.vestScheduleForMultipleTokensAtIndices(r,s,{gasLimit:Object(Y.b)(o)});case 7:return i=e.sent,t({hash:i.hash,type:V.c.CLAIM_REWARD,extraInfo:{summary:"all rewards"}}),e.abrupt("return",i.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t]);return{vestAtIndex:r,vestMultipleTokensAtIndices:s}},J=n("./src/state/application/hooks.ts"),Z=n("./src/state/farms/classic/types.ts"),K=n("./src/state/hooks.ts"),Q=n("./src/state/tokenPrices/hooks.ts"),X=n("./src/state/vesting/actions.ts"),$=n("./src/utils/formatBalance.ts"),ee=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),te=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),ne=n("./node_modules/dayjs/dayjs.min.js"),re=n.n(ne),se=n("./node_modules/recharts/es6/chart/PieChart.js"),oe=n("./node_modules/recharts/es6/polar/Pie.js"),ie=n("./node_modules/recharts/es6/component/Cell.js"),ce=n("./node_modules/recharts/es6/component/Tooltip.js"),ae=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),de=n("./src/components/Button/index.tsx"),le=n("./src/components/CurrencyLogo/index.tsx"),je=n("./src/components/HoverDropdown/index.tsx"),be=n("./src/components/Icons/Wallet.tsx"),ue=n("./src/components/Tooltip/index.tsx"),pe=n("./src/hooks/useTheme.ts"),xe=n("./src/utils/numbers.ts"),me=n("./node_modules/react/jsx-runtime.js"),he=e=>{if(e<0)return i.a._("Full unlocked");var t=e/60/60/24;if(t>1)return t+" Days left";var n=e/60/60;return n<24&&n>1?n.toFixed(0)+" Hours left":(e/60).toFixed(0)+" Minutes left"},Oe=["#0086E7","#31CB9E","#FF50F8","#FF9901"],fe=ae.default.div.withConfig({displayName:"VestingCard__ScheduleCardWrapper",componentId:"sc-z19nm2-0"})(["padding:24px;border-radius:20px;background:",";border:1px solid ",";",""],(e=>e.theme.background),(e=>e.theme.border),(e=>e.theme.mediaWidth.upToSmall(D||(D=Object(ee.a)(["\n    padding: 16px;\n  "]))))),ge=ae.default.span.withConfig({displayName:"VestingCard__ScheduleCardContent",componentId:"sc-z19nm2-1"})(["background:",";padding:24px;border-radius:20px;display:flex;"," ",""],(e=>e.theme.buttonBlack),(e=>e.theme.mediaWidth.upToLarge(z||(z=Object(ee.a)(["\n    flex-direction: column;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(R||(R=Object(ee.a)(["\n    background: ",";\n    padding: 0;\n  "])),(e=>e.theme.background)))),ve=ae.default.div.withConfig({displayName:"VestingCard__TotalHarvested",componentId:"sc-z19nm2-2"})(["flex:1;"]),ye=ae.default.div.withConfig({displayName:"VestingCard__DetailReward",componentId:"sc-z19nm2-3"})(["flex:2;border-left:1px solid ",";padding-left:24px;",""],(e=>e.theme.border),(e=>e.theme.mediaWidth.upToLarge(M||(M=Object(ee.a)(["\n    padding-left: 0;\n    border-left: none;\n    margin-top: 24px\n  "]))))),ke=Object(ae.default)(m.d).withConfig({displayName:"VestingCard__Title",componentId:"sc-z19nm2-4"})(["font-size:14px;font-weight:500;border-bottom:1px dashed ",";line-height:24px;color:",";"],(e=>{var t=e.theme;return e.noBorder?"transparent":t.border}),(e=>e.theme.subText)),we=ae.default.div.withConfig({displayName:"VestingCard__ProgressBar",componentId:"sc-z19nm2-5"})(["height:36px;margin-top:12px;background:",";position:relative;"],(e=>e.theme.border)),Ce=ae.default.div.withConfig({displayName:"VestingCard__Claimed",componentId:"sc-z19nm2-6"})(["height:36px;background:",";width:",";position:absolute;left:0;top:0;z-index:1;text-align:right;"],(e=>e.theme.darkGreen),(e=>e.width)),Se=Object(ae.default)(Ce).withConfig({displayName:"VestingCard__Unlocked",componentId:"sc-z19nm2-7"})(["background:",";"],(e=>e.theme.primary)),Te=ae.default.div.withConfig({displayName:"VestingCard__Dot",componentId:"sc-z19nm2-8"})(["width:16px;height:16px;border-radius:50%;background:",";"],(e=>e.color)),Ie=ae.default.div.withConfig({displayName:"VestingCard__Circle",componentId:"sc-z19nm2-9"})(["width:12px;height:12px;border-radius:50%;background:",";"],(e=>e.fill)),Ae=Object(ae.default)(m.b).withConfig({displayName:"VestingCard__SummaryWrapper",componentId:"sc-z19nm2-10"})(["gap:24px;width:100%;",""],(e=>e.theme.mediaWidth.upToSmall(F||(F=Object(ee.a)(["\n    flex-direction: column;\n    gap: 12px;\n  "]))))),_e=ae.default.div.withConfig({displayName:"VestingCard__SummaryItem",componentId:"sc-z19nm2-11"})(["border-radius:20px;flex:1;padding:16px 24px;background:",";",""],(e=>{var t=e.theme;return e.colorful?t.radialGradient:t.background}),(e=>{var t=e.theme,n=e.colorful;return t.mediaWidth.upToSmall(N||(N=Object(ee.a)(["\n    background: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  "])),n?t.radialGradient:t.buttonBlack)})),Le=Object(ae.default)(m.a).withConfig({displayName:"VestingCard__PieChartLengd",componentId:"sc-z19nm2-12"})(["margin:24px auto 0 !important;display:grid;grid-template-columns:1fr 1fr;gap:24px;width:fit-content;",""],(e=>e.theme.mediaWidth.upToExtraSmall(B||(B=Object(ee.a)(["\n   grid-template-columns: 1fr;\n  "]))))),Ee=Object(ae.default)(m.b).withConfig({displayName:"VestingCard__VestingPercent",componentId:"sc-z19nm2-13"})(["",""],(e=>e.theme.mediaWidth.upToExtraSmall(W||(W=Object(ee.a)(["\n    flex-direction: column;\n  "])))));var Pe=function(e){var t=e.info,n=e.endTime,r=e.remainTime,s=e.onClaimAll,c=Object(pe.a)(),a=Object.values(t).reduce(((e,t)=>{var n=te.CurrencyAmount.fromRawAmount(t.token,t.vestableAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),d=Object.values(t).reduce(((e,t)=>{var n=te.CurrencyAmount.fromRawAmount(t.token,t.totalAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),l=Object.values(t).reduce(((e,t)=>{var n=te.CurrencyAmount.fromRawAmount(t.token,t.vestedAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),j=d-a-l,b=Object.values(t).some((e=>e.vestableAmount.gt(0))),u=100*(d?l/d:0),p=100*(d?a/d:0),x=Object.values(t).map((e=>{var t=e.tokenPrice*+te.CurrencyAmount.fromRawAmount(e.token,e.totalAmount.toString()).toExact();return{name:e.token.symbol,value:t,percent:t/d*100}}));return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)(fe,{children:Object(me.jsxs)(ge,{children:[Object(me.jsxs)(ve,{children:[Object(me.jsx)(ue.a,{text:i.a._("The total amount of rewards you have harvested from the farms. Harvested rewards are locked initially and vested linearly over a short period."),children:Object(me.jsx)(ke,{children:Object(me.jsx)(o.b,{id:"Total Harvested Rewards"})})}),Object(me.jsx)(m.d,{marginTop:"8px",fontSize:"32px",fontWeight:"500",children:Object(xe.a)(d)}),Object(me.jsx)(ke,{marginTop:"28px",noBorder:!0,children:Object(me.jsx)(o.b,{id:"Rewards Breakdown"})}),Object(me.jsx)(se.a,{width:184,height:184,style:{margin:"auto",marginTop:"24px"},children:Object(me.jsxs)(oe.a,{data:x,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#82ca9d",children:[x.map(((e,t)=>Object(me.jsx)(ie.a,{fill:Oe[t%Oe.length]},t))),Object(me.jsx)(ce.a,{})]})}),Object(me.jsx)(Le,{children:x.map(((e,t)=>Object(me.jsxs)(m.b,{fontSize:"12px",alignItems:"center",sx:{gap:"6px"},children:[Object(me.jsx)(Ie,{fill:Oe[t%Oe.length]}),Object(me.jsxs)(m.d,{children:[e.name,":"]}),Object(me.jsxs)(m.d,{color:c.subText,children:[Object(xe.a)(e.value)," (",e.percent.toFixed(2),"%)"]})]},t)))})]}),Object(me.jsxs)(ye,{children:[Object(me.jsxs)(Ae,{children:[Object(me.jsxs)(_e,{children:[Object(me.jsxs)(m.b,{alignItems:"center",color:c.subText,sx:{gap:"4px"},children:[Object(me.jsx)(be.a,{}),Object(me.jsx)(ue.a,{text:i.a._("The amount of rewards you have already claimed"),children:Object(me.jsx)(ke,{children:Object(me.jsx)(o.b,{id:"Claimed Rewards"})})})]}),Object(me.jsx)(je.a,{padding:"8px 0 0",content:Object(me.jsx)(m.d,{fontSize:"20px",fontWeight:"500",children:Object(xe.a)(l)}),dropdownContent:Object.values(t).length?Object.values(t).map((e=>Object(me.jsxs)(m.b,{alignItems:"center",paddingY:"4px",children:[Object(me.jsx)(le.a,{size:"16px",currency:e.token}),Object(me.jsxs)(m.d,{fontSize:"12px",marginLeft:"4px",children:[te.CurrencyAmount.fromRawAmount(e.token,e.vestedAmount.toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address))):""})]}),Object(me.jsxs)(_e,{colorful:!0,children:[Object(me.jsxs)(m.b,{alignItems:"center",color:c.subText,sx:{gap:"4px"},children:[Object(me.jsx)(be.a,{}),Object(me.jsx)(ue.a,{text:i.a._("The amount of rewards that are unlocked and can be claimed instantly as their vesting is over"),children:Object(me.jsx)(ke,{children:"Claimable Rewards"})})]}),Object(me.jsx)(je.a,{padding:"8px 0 0",content:Object(me.jsx)(m.d,{fontSize:"20px",fontWeight:"500",children:Object(xe.a)(a)}),dropdownContent:Object.values(t).map((e=>Object(me.jsxs)(m.b,{alignItems:"center",paddingY:"4px",children:[Object(me.jsx)(le.a,{size:"16px",currency:e.token}),Object(me.jsxs)(m.d,{fontSize:"12px",marginLeft:"4px",children:[te.CurrencyAmount.fromRawAmount(e.token,e.vestableAmount.toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address)))})]}),Object(me.jsxs)(_e,{children:[Object(me.jsxs)(m.b,{alignItems:"center",color:c.subText,sx:{gap:"4px"},children:[Object(me.jsx)(be.a,{}),Object(me.jsx)(ue.a,{text:i.a._("The amount of rewards that are locked as they are currently vesting"),children:Object(me.jsx)(ke,{children:Object(me.jsx)(o.b,{id:"Locked Rewards"})})})]}),Object(me.jsx)(je.a,{padding:"8px 0 0",content:Object(me.jsx)(m.d,{fontSize:"20px",fontWeight:"500",children:Object(xe.a)(j)}),dropdownContent:Object.values(t).length?Object.values(t).map((e=>Object(me.jsxs)(m.b,{alignItems:"center",paddingY:"4px",children:[Object(me.jsx)(le.a,{size:"16px",currency:e.token}),Object(me.jsxs)(m.d,{fontSize:"12px",marginLeft:"4px",children:[te.CurrencyAmount.fromRawAmount(e.token,e.totalAmount.sub(e.vestedAmount).sub(e.vestableAmount).toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address))):""})]})]}),Object(me.jsx)(m.d,{color:c.subText,fontSize:"14px",fontWeight:"500",marginTop:"36px",children:"Vesting Schedule"}),Object(me.jsxs)(m.b,{fontSize:"14px",marginTop:"20px",justifyContent:"space-between",children:[Object(me.jsx)(m.d,{children:"Full Unlock"}),Object(me.jsxs)(m.d,{color:c.subText,children:[re()(1e3*n).format("DD-MM-YYYY")," (",he(r),")"]})]}),Object(me.jsxs)(we,{children:[Object(me.jsx)(Se,{width:"".concat(u+p,"%")}),Object(me.jsx)(Ce,{width:u+"%"})]}),Object(me.jsxs)(Ee,{sx:{gap:"24px"},alignItems:"center",justifyContent:"center",fontSize:"12px",color:c.subText,marginTop:"12px",children:[Object(me.jsxs)(m.b,{children:[Object(me.jsx)(Te,{color:c.darkGreen}),Object(me.jsx)(m.d,{marginLeft:"4px",lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"{0}% Claimed",values:{0:u.toFixed(0)}})})]}),Object(me.jsxs)(m.b,{children:[Object(me.jsx)(Te,{color:c.primary}),Object(me.jsx)(m.d,{marginLeft:"4px",lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"{0}% claimable",values:{0:p.toFixed(0)}})})]}),Object(me.jsxs)(m.b,{children:[Object(me.jsx)(Te,{color:c.border}),Object(me.jsx)(m.d,{marginLeft:"4px",lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"{0}% Locked",values:{0:Math.abs(100-p-u).toFixed(0)}})})]})]}),Object(me.jsx)(de.i,{style:{margin:"28px auto 0",fontSize:"14px",width:"fit-content",minWidth:"200px"},onClick:s,disabled:!b,children:Object(me.jsx)(o.b,{id:"Claim"})})]})]})})})},De=e=>{var t=e.rewardLockerAddress,n=e.schedules,r=e.rewardLockerVersion,o=Object(K.a)(),i=Object(J.e)(),c=Math.round(Date.now()/1e3),d=Object(E.b)(),l=d.account,j=d.chainId,b=G(t).vestMultipleTokensAtIndices,u=Object(P.c)().mixpanelHandler;n||(n=[]);var p={};n.forEach((e=>{var t=e[4].address===_.eb?L.j[j].wrapped.address:e[4].address;p[t]||(p[t]=e[4])}));var x=Object(Q.a)(Object.keys(p)),m=n.reduce(((e,t)=>{if(!i)return e;var n=t[4].address===_.eb?L.j[j].wrapped.address:t[4].address;e[n]||(e[n]={vestableIndexes:[],vestableAmount:A.a.from(0),totalAmount:A.a.from(0),unlockedAmount:A.a.from(0),vestedAmount:A.a.from(0),token:t[4],tokenPrice:x[n]}),e[n].totalAmount=e[n].totalAmount.add(A.a.from(t[2])),e[n].vestedAmount=e[n].vestedAmount.add(A.a.from(t[3]));var s=t[2].sub(t[3]).isZero(),o=(r===Z.b.V1?t[1].lt(i):t[1].lt(c))?t[2]:r===Z.b.V1?t[2].mul(A.a.from(i).sub(t[0])).div(t[1].sub(t[0])):t[2].mul(A.a.from(c).sub(t[0])).div(t[1].sub(t[0])),a=o.sub(A.a.from(t[3]));return s||e[n].vestableIndexes.push(t[5]),e[n].vestableAmount=e[n].vestableAmount.add(a.isNegative()?A.a.from(0):a),e[n].unlockedAmount=e[n].unlockedAmount.add(o),e}),{}),h=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t,n,r;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return o(Object(X.d)(!0)),o(Object(X.a)(!0)),o(Object(X.e)("")),e.prev=5,t=Object.values(m).filter((e=>e.vestableIndexes.length>0)).map((e=>e.token.address)),n=Object.keys(m).reduce(((e,t)=>(m[t].vestableIndexes.length>0&&e.push(m[t].vestableIndexes),e)),[]),e.next=10,b(t,n);case 10:(r=e.sent)&&u(P.a.ALL_REWARDS_CLAIMED,{reward_tokens_and_amounts:Object.assign({},...Object.keys(m).map((e=>({[e]:Object($.a)(m[e].vestableAmount,m[e].token.decimals)}))))}),o(Object(X.e)(r)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0),o(Object(X.f)(e.t0));case 19:o(Object(X.a)(!1));case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=Object(E.e)().library,n=Object(a.useState)(),r=Object(s.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((()=>{function n(){return(n=Object(I.a)(Object(T.a)().mark((function n(){var r;return Object(T.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,null===t||void 0===t?void 0:t.getBlock(e);case 3:(r=n.sent)&&i(r.timestamp);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}o||function(){n.apply(this,arguments)}()}),[e,t,o]),o}(n.reduce(((e,t)=>t[6]===Z.b.V1&&e&&e<t[1].toNumber()?t[1].toNumber():e),i)),f=n.reduce(((e,t)=>t[6]===Z.b.V2&&e&&e<t[1].toNumber()?t[1].toNumber():e),O||0);return Object(me.jsx)(Pe,{info:m,endTime:f,remainTime:f-c,onClaimAll:h})},ze=ae.default.div.withConfig({displayName:"styleds__ScheduleGrid",componentId:"sc-8ux8oq-0"})(["display:grid;gap:24px;grid-template-columns:1fr;margin-top:16px;"]),Re=n("./src/state/vesting/hooks.ts"),Me=n("./src/components/TransactionConfirmationModal/index.tsx");function Fe(){var e=Object(b.e)((e=>e.vesting.showConfirm)),t=Object(b.e)((e=>e.vesting.attemptingTxn)),n=Object(b.e)((e=>e.vesting.txHash)),r=Object(b.e)((e=>e.vesting.error)),s=Object(K.a)(),o=Object(a.useCallback)((()=>{s(Object(X.d)(!1)),s(Object(X.a)(!1)),s(Object(X.e)("")),s(Object(X.f)(null))}),[s]),i=Object(a.useCallback)((()=>r?Object(me.jsx)(Me.c,{onDismiss:o,message:r}):null),[o,r]);return Object(me.jsx)(Me.e,{hash:n||"",isOpen:e,onDismiss:o,attemptingTxn:t,content:i,pendingText:""})}var Ne,Be,We,He=e=>{var t=e.loading,n=Object(Re.c)().schedulesByRewardLocker,r=Object(Re.b)(),s=Object(pe.a)(),i=Object.keys(r).every((e=>{var t;return!(null!==(t=n[e])&&void 0!==t&&t.length)}));return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Fe,{}),i?t?Object(me.jsx)(S.a,{}):Object(me.jsx)(m.d,{textAlign:"center",color:s.subText,marginTop:"24px",children:Object(me.jsx)(o.b,{id:"No vesting schedule!"})}):Object(me.jsx)(ze,{children:Object.keys(r).filter((e=>{var t;return!(null===(t=n[e])||void 0===t||!t.length)})).map((e=>Object(me.jsx)(De,{rewardLockerAddress:e,schedules:n[e],rewardLockerVersion:r[e]},e)))})]})},qe=e=>{var t=e.schedules,n=t.reduce(((e,t)=>e<t.endTime?t.endTime:e),0),r=Math.floor(+new Date/1e3),s=n-r,o=Object(P.c)().mixpanelHandler,i=t.reduce(((e,t,n)=>{var s=t.token.isNative?_.eb:t.token.address;e[s]||(e[s]={vestableIndexes:[],vestableAmount:A.a.from(0),totalAmount:A.a.from(0),unlockedAmount:A.a.from(0),vestedAmount:A.a.from(0),token:t.token,tokenPrice:t.tokenPrice}),e[s].totalAmount=e[s].totalAmount.add(A.a.from(t.quantity)),e[s].vestedAmount=e[s].vestedAmount.add(A.a.from(t.vestedQuantity));var o=t.quantity.sub(t.vestedQuantity).isZero(),i=r>t.endTime,c=A.a.from(t.endTime-t.startTime),a=i?t.quantity:t.quantity.mul(A.a.from(r).sub(A.a.from(t.startTime))).div(c);e[s].unlockedAmount=e[s].unlockedAmount.add(a);var d=a.sub(A.a.from(t.vestedQuantity));return e[s].vestableAmount=e[s].vestableAmount.add(d.isNegative()?A.a.from(0):d),o||e[s].vestableIndexes.push(t.index),e}),{}),c=Object(U.g)(),a=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var n,r,s,a,d;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t[0].contract){e.next=3;break}return e.abrupt("return");case 3:return r=Object.keys(i),s=r.map((e=>i[e].vestableIndexes)),r=r.filter(((e,t)=>!!s[t].length)),s=s.filter((e=>!!e.length)),e.next=9,n.estimateGas.vestScheduleForMultipleTokensAtIndices(r,s);case 9:return a=e.sent,e.next=12,n.vestScheduleForMultipleTokensAtIndices(r,s,{gasLimit:Object(Y.b)(a)});case 12:(d=e.sent)&&(c({hash:d.hash,type:V.c.CLAIM_REWARD,extraInfo:{summary:"all rewards"}}),o(P.a.ELASTIC_ALL_REWARD_CLAIMED,{reward_tokens_and_qty:Object.assign({},...Object.keys(i).map((e=>({[e]:Object($.a)(i[e].vestableAmount,i[e].token.decimals)}))))}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(me.jsx)(Pe,{info:i,endTime:n,remainTime:s,onClaimAll:a})},Ue=()=>{var e=Object(pe.a)(),t=Object(Re.a)(),n=t.loading,r=t.schedulesByRewardLocker,s={value:0,amountByAddress:{}},i={value:0,amountByAddress:{}},c={value:0,amountByAddress:{}},a={value:0,amountByAddress:{}},d=Math.floor(+new Date/1e3);Object.values(r).forEach((e=>{e.forEach((e=>{var t=e.token.isNative?e.token.symbol:e.token.address,n=te.CurrencyAmount.fromRawAmount(e.token,e.quantity.toString()),r=e.tokenPrice*parseFloat(n.toExact());s.value+=r,s.amountByAddress[t]?s.amountByAddress[t]=s.amountByAddress[t].add(n):s.amountByAddress[t]=n;var o=te.CurrencyAmount.fromRawAmount(e.token,e.vestedQuantity.toString()),l=e.tokenPrice*parseFloat(o.toExact());a.value+=l,a.amountByAddress[t]?a.amountByAddress[t]=a.amountByAddress[t].add(o):a.amountByAddress[t]=o;var j=d>e.endTime,b=A.a.from(e.endTime-e.startTime),u=j?e.quantity:e.quantity.mul(A.a.from(d).sub(A.a.from(e.startTime)).div(b)),p=te.CurrencyAmount.fromRawAmount(e.token,u.sub(A.a.from(e.vestedQuantity)).toString()),x=e.tokenPrice*parseFloat(p.toExact());c.value+=x,c.amountByAddress[t]?c.amountByAddress[t]=c.amountByAddress[t].add(p):c.amountByAddress[t]=p;var m=te.CurrencyAmount.fromRawAmount(e.token,e.quantity.sub(u).toString());i.value+=e.tokenPrice*parseFloat(m.toExact()),i.amountByAddress[t]?i.amountByAddress[t]=i.amountByAddress[t].add(m):i.amountByAddress[t]=m}))}));var l=Object.keys(r).every((e=>{var t;return!(null!==(t=r[e])&&void 0!==t&&t.length)}));return Object(me.jsx)(me.Fragment,{children:l?n?Object(me.jsx)(S.a,{}):Object(me.jsx)(m.d,{textAlign:"center",color:e.subText,marginTop:"24px",children:Object(me.jsx)(o.b,{id:"No vesting schedule!"})}):Object(me.jsx)(ze,{children:Object.keys(r).map((e=>r[e].length?Object(me.jsx)(qe,{schedules:r[e]},e):null))})})},Ve=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Ye=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),Ge=n("./src/components/InfoHelper/index.tsx"),Je=n("./src/components/ShareModal/index.tsx"),Ze=(e,t)=>{var n,r,s,o;return{contract:null===e||void 0===e?void 0:e.id,tokenAddressIn:null===e||void 0===e||null===(n=e.token0)||void 0===n?void 0:n.id,tokenAddressOut:null===e||void 0===e||null===(r=e.token1)||void 0===r?void 0:r.id,tokenSymbolIn:null===e||void 0===e||null===(s=e.token0)||void 0===s?void 0:s.symbol,tokenSymbolOut:null===e||void 0===e||null===(o=e.token1)||void 0===o?void 0:o.symbol,rewards:t.map((e=>{var t;return{tokenSymbol:null!==(t=e.token.symbol)&&void 0!==t?t:"",tokenAmount:Object($.g)(e.amount,e.token.decimals),tokenAddress:e.token.address}}))}},Ke=e=>{var t=Object(U.g)(),n=Object(q.i)(e),r=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.poolLength();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),s=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var r;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.getPoolInfo(t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[n]),o=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.getRewardTokens();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),i=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s,o){var i,c,a,d=arguments;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>3&&void 0!==d[3]&&d[3],n){e.next=3;break}throw new Error(H.a);case 3:return e.next=5,n.estimateGas.deposit(r,s,i);case 5:return c=e.sent,e.next=8,n.deposit(r,s,i,{gasLimit:Object(Y.b)(c)});case 8:return a=e.sent,t({hash:a.hash,type:V.c.STAKE,extraInfo:{tokenAddress:"",tokenSymbol:"".concat(o," Tokens"),tokenAmount:Object($.g)(s)}}),e.abrupt("return",a.hash);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n]),c=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s,o){var i,c;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.withdraw(r,s);case 4:return i=e.sent,e.next=7,n.withdraw(r,s,{gasLimit:Object(Y.b)(i)});case 7:return c=e.sent,t({hash:c.hash,type:V.c.UNSTAKE,extraInfo:{tokenAddress:"",tokenSymbol:"".concat(o," Tokens"),tokenAmount:Object($.g)(s)}}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n]),d=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s,o){var i,c;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.harvest(r);case 4:return i=e.sent,e.next=7,n.harvest(r,{gasLimit:Object(Y.b)(i)});case 7:return c=e.sent,t({hash:c.hash,type:V.c.HARVEST,extraInfo:Ze(s,o)}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n]),l=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s){var o,i;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.harvestMultiplePools(r);case 4:return o=e.sent,e.next=7,n.harvestMultiplePools(r,{gasLimit:Object(Y.b)(o)});case 7:return i=e.sent,t({hash:i.hash,type:V.c.HARVEST,extraInfo:Ze(null,s)}),e.abrupt("return",i.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n]);return{masterChefContract:n,getPoolLength:r,getPoolInfo:s,getRewardTokens:o,deposit:i,withdraw:c,harvest:d,harvestMultiplePools:l}},Qe=n("./src/state/application/actions.ts"),Xe=n("./src/state/farms/classic/actions.ts"),$e=n("./src/state/user/hooks.tsx"),et=n("./src/state/user/reducer.ts"),tt=n("./src/theme/index.tsx"),nt=n("./src/utils/dmm.ts"),rt=n("./src/utils/formatTime.ts"),st=n("./node_modules/react-feather/dist/icons/x.js"),ot=n("./src/components/Column/index.tsx"),it=e=>{var t=e.width,n=e.height,r=e.color;return Object(me.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:[Object(me.jsx)("path",{d:"M10.5912 3.05122L8.23457 5.40789C8.10441 5.53804 8.10441 5.74907 8.23457 5.87922L10.1199 7.76456C10.2501 7.89471 10.4611 7.89471 10.5912 7.76456L12.9479 5.40789C13.0781 5.27773 13.0781 5.06671 12.9479 4.93655L11.0626 3.05122C10.9324 2.92106 10.7214 2.92106 10.5912 3.05122Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M9.85967 2.84091C7.5575 0.834737 5.7628 0.607004 5.68003 0.597737C5.61138 0.590119 5.54206 0.604016 5.48165 0.637505C5.42124 0.670995 5.37273 0.722424 5.34282 0.784683C5.3129 0.846941 5.30307 0.916954 5.31468 0.985044C5.32628 1.05313 5.35875 1.11594 5.4076 1.16477L8.47173 4.22891L9.85967 2.84091Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M15.4022 10.3203C15.3929 10.2375 15.1652 8.44301 13.1594 6.14111L11.7715 7.52908L14.8351 10.5927C14.884 10.6416 14.9468 10.6741 15.0149 10.6857C15.083 10.6973 15.153 10.6874 15.2152 10.6575C15.2775 10.6276 15.3289 10.5791 15.3624 10.5187C15.3959 10.4583 15.4098 10.389 15.4022 10.3203Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M8.00024 6.58594L0.693332 13.8927C0.630821 13.9552 0.595703 14.04 0.595703 14.1284C0.595703 14.2168 0.630821 14.3016 0.693332 14.3641L1.63627 15.3068C1.69878 15.3693 1.78356 15.4044 1.87197 15.4044C1.96037 15.4044 2.04515 15.3693 2.10767 15.3068L9.41444 8.00014L8.00024 6.58594Z",fill:r||"currentColor"})]})},ct=n("./src/components/Modal/index.tsx"),at=n("./src/hooks/useOnClickOutside.tsx"),dt=ae.default.div.withConfig({displayName:"styled__ModalContentWrapper",componentId:"sc-5x7u0u-0"})(["display:flex;flex-direction:column;width:100%;padding:24px 20px;background-color:",";"],(e=>e.theme.background)),lt=Object(ae.default)(m.d).withConfig({displayName:"styled__Title",componentId:"sc-5x7u0u-1"})(["font-size:20px;line-height:32px;font-weight:500;border-bottom:0.5px dashed ",";"],(e=>{var t=e.theme;return e.border?t.subText:"transparent"})),jt=ae.default.div.withConfig({displayName:"styled__TableHeader",componentId:"sc-5x7u0u-2"})(["display:grid;grid-template-columns:18px 90px 1.5fr repeat(3,1fr);border-top-left-radius:8px;border-top-right-radius:8px;background:",";gap:16px;font-size:12px;text-transform:uppercase;margin-top:16px;padding:16px;font-weight:500;color:",";align-items:center;",""],(e=>e.theme.tableHeader),(e=>e.theme.subText),(e=>e.theme.mediaWidth.upToSmall(Ne||(Ne=Object(ee.a)(["\n    grid-template-columns: 18px 1fr 1fr;\n   "]))))),bt=Object(ae.default)(jt).withConfig({displayName:"styled__TableRow",componentId:"sc-5x7u0u-3"})(["background:",";border-radius:0;text-transform:none;margin-top:0;font-weight:400;color:",";border-bottom:1px solid ",";"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.border)),ut=ae.default.div.withConfig({displayName:"styled__Select",componentId:"sc-5x7u0u-4"})(["cursor:pointer;width:180px;border-radius:4px;background:",";display:flex;justify-content:space-between;align-items:center;position:relative;font-size:12px;color:",";padding:12px;",""],(e=>e.theme.buttonBlack),(e=>e.theme.subText),(e=>e.theme.mediaWidth.upToSmall(Be||(Be=Object(ee.a)(["\n    width: 100%;\n    margin-top: 16px;\n  "]))))),pt=ae.default.div.withConfig({displayName:"styled__SelectMenu",componentId:"sc-5x7u0u-5"})(["position:absolute;top:40px;left:0;width:180px;border-radius:8px;filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.36));z-index:10;background:",";",""],(e=>e.theme.background),(e=>e.theme.mediaWidth.upToMedium(We||(We=Object(ee.a)(["\n    width: 100%;\n  "]))))),xt=ae.default.div.withConfig({displayName:"styled__SelectOption",componentId:"sc-5x7u0u-6"})(["padding:12px;cursor:pointer;font-size:12px;color:",";"],(e=>e.theme.subText)),mt=ae.default.div.withConfig({displayName:"styled__DropdownIcon",componentId:"sc-5x7u0u-7"})(["transform:rotate(",");height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid ",";transition:transform 300ms;transform:rotate(",");"],(e=>e.rotate?"-180deg":"0"),(e=>e.theme.text),(e=>e.rotate?"-180deg":"0")),ht=n("./src/components/YieldPools/styleds.tsx"),Ot=e=>{var t=e.totalRewards,n=e.onHarvestAll,r=Object(pe.a)(),i=Object(a.useRef)(),c=Object(a.useState)(!1),d=Object(s.a)(c,2),l=d[0],j=d[1],b=Object(nt.l)(t),u=Object(x.a)("(min-width:500px)"),p=Object(E.b)().chainId,h=t.some((e=>null===e||void 0===e?void 0:e.amount.gt(A.a.from("0"))));Object(at.a)(i,l?()=>{h&&j((e=>!e))}:void 0);var O=Object(a.useState)(!1),f=Object(s.a)(O,2),g=f[0],v=f[1];return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ct.b,{isOpen:g,onDismiss:()=>v(!1),children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(me.jsx)(m.d,{fontSize:"20px",fontWeight:"500",children:"Harvest All"}),Object(me.jsx)(de.d,{onClick:()=>v(!1),width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:r.text})})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",alignItems:"center",marginTop:"1rem",children:[Object(me.jsx)(m.d,{color:r.subText,fontSize:"0.75rem",children:Object(me.jsx)(o.b,{id:"My Rewards"})}),Object(me.jsx)(m.d,{fontSize:"0.75rem",fontWeight:"500",children:Object(Y.i)(b.toString(),!0)})]}),Object(me.jsx)(ht.u,{children:t.map(((e,n)=>Object(me.jsxs)(a.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[p&&e.token.wrapped.address&&Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),Object($.g)(e.amount,e.token.decimals)]}),n!==t.length-1&&Object(me.jsx)(m.d,{color:r.subText,children:"|"})]},e.token.wrapped.address)))}),Object(me.jsx)(de.i,{margin:"8px 0 0",onClick:()=>{null===n||void 0===n||n(),v(!1)},children:"Harvest"})]})}),u?Object(me.jsxs)(y.c,{children:[Object(me.jsxs)(y.c,{fontSize:"14px",gap:"4px",color:r.subText,width:"max-content",fontWeight:500,marginRight:"8px",children:[Object(me.jsx)(it,{width:16,height:16}),Object(me.jsx)(o.b,{id:"Rewards"})]}),Object(me.jsx)(je.a,{padding:"4px 0",content:Object(me.jsx)(m.d,{fontSize:"20px",fontWeight:500,children:Object(xe.a)(b)}),dropdownContent:t.some((e=>{var t;return null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.gt(0)}))?Object(me.jsx)(ot.c,{gap:"8px",children:t.map((e=>e&&e.amount&&!e.amount.lte(0)?Object(me.jsxs)(y.f,{children:[Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),Object(me.jsxs)(m.d,{marginLeft:"4px",fontSize:"12px",children:[Object($.a)(e.amount,e.token.decimals)," ",e.token.symbol]})]},e.token.address):null))}):"",style:{marginRight:"24px"}}),Object(me.jsxs)(de.i,{width:"160px",onClick:()=>v(!0),disabled:!h,padding:"10px 12px",height:"fit-content",children:[Object(me.jsx)(it,{}),Object(me.jsx)(m.d,{marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Harvest All"})})]})]}):Object(me.jsxs)(ot.c,{gap:"12px",style:{flex:"1",borderRadius:"20px",background:r.buttonBlack,padding:"16px",alignItems:"stretch"},children:[Object(me.jsxs)(y.b,{children:[Object(me.jsxs)(y.c,{fontSize:"14px",gap:"4px",color:r.subText,width:"max-content",fontWeight:500,marginRight:"8px",children:[Object(me.jsx)(it,{width:16,height:16}),Object(me.jsx)(o.b,{id:"Rewards"})]}),Object(me.jsx)(je.a,{padding:"4px 0",content:Object(me.jsx)(m.d,{fontSize:"20px",fontWeight:500,children:Object(xe.a)(b)}),dropdownContent:t.some((e=>{var t;return null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.gt(0)}))?Object(me.jsx)(ot.c,{gap:"8px",children:t.map((e=>e&&e.amount&&!e.amount.lte(0)?Object(me.jsxs)(y.f,{children:[Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),Object(me.jsxs)(m.d,{marginLeft:"4px",fontSize:"12px",children:[Object($.a)(e.amount,e.token.decimals)," ",e.token.symbol]})]},e.token.address):null))}):""})]}),Object(me.jsxs)(de.i,{onClick:()=>v(!0),disabled:!h,padding:"10px 12px",height:"fit-content",children:[Object(me.jsx)(it,{}),Object(me.jsx)(m.d,{marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Harvest All"})})]})]})]})},ft=n("./node_modules/@ethersproject/constants/lib.esm/bignumbers.js"),gt=n("./node_modules/ethers/lib.esm/index.js"),vt=n("./node_modules/jsbi/dist/jsbi-umd.js"),yt=n.n(vt),kt=n("./node_modules/react-feather/dist/icons/minus.js"),wt=n("./node_modules/react-feather/dist/icons/plus.js"),Ct=n("./src/components/Copy/index.tsx"),St=n("./src/components/CurrencyInputPanel/index.tsx"),Tt=n("./src/components/Divider/index.tsx"),It=n("./src/components/Dots.tsx"),At=n("./src/components/DoubleLogo/index.tsx"),_t=n("./src/components/Icons/index.ts"),Lt=n("./src/hooks/Tokens.ts"),Et=n("./src/hooks/useApproveCallback.ts"),Pt=n("./src/hooks/useParsedQueryString.ts"),Dt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,r=Object(a.useState)({value:A.a.from(0),decimals:18}),o=Object(s.a)(r,2),i=o[0],c=o[1],d=Object(E.b)(),l=d.account,j=Object(J.e)(),b=Object(q.i)(e),u=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var r,s;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(I.a)(Object(T.a)().mark((function e(t,r){var s,o;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===b||void 0===b?void 0:b.getUserInfo(t,r);case 3:return s=e.sent,o=s.amount,e.abrupt("return",{value:A.a.from(o),decimals:n});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{value:A.a.from(0),decimals:n});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),e.next=3,r(t,l);case 3:s=e.sent,c(s);case 5:case"end":return e.stop()}}),e)}))),[l,n,b,t]);return Object(a.useEffect)((()=>{l&&b&&u()}),[l,c,j,u,b]),i},zt=n("./src/hooks/useTokenBalance.ts"),Rt=n("./src/utils/currencyId.ts"),Mt=n("./src/components/YieldPools/FarmingPoolAPRCell.tsx"),Ft=(e,t)=>{var n=new te.Fraction(e.toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(t)));return n.equalTo(yt.a.BigInt(0))?"0":n.toFixed(18).replace(/\.?0+$/,"")},Nt=e=>{var t,n,r,c,j,b,u,h,O,f,g,v,k,w,C=e.farm,S=e.setSharedPoolAddress,L=Object(E.b)(),D=L.account,z=L.chainId,R=L.isEVM,M=Object(J.E)(),F=Math.floor(Date.now()/1e3),N=Object($e.z)(),B=Object(s.a)(N,1)[0],W=Object(P.c)().mixpanelHandler,H=Object(Pt.a)().type,q=void 0===H?"active":H,U=Object(x.a)("(min-width: 1200px)"),V=Object(K.a)(),G=Object(Lt.j)(null===(t=C.token0)||void 0===t?void 0:t.id),Z=Object(Lt.j)(null===(n=C.token1)||void 0===n?void 0:n.id),Q=Object(Y.t)(z,C.id),X=Object(zt.a)(Q),ee=X.value,ne=X.decimals,re=_.S[C.fairLaunchAddress],se=null!==(r=C.userData)&&void 0!==r&&r.stakedBalance?A.a.from(null===(c=C.userData)||void 0===c?void 0:c.stakedBalance):A.a.from(0),oe=Object(nt.k)([C]),ie=new te.Fraction(C.totalStake.toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne))).divide(new te.Fraction(gt.ethers.utils.parseUnits(C.totalSupply,ne).toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne)))),ce=new te.Fraction(ee.toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne))).divide(new te.Fraction(gt.ethers.utils.parseUnits(C.totalSupply,ne).toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne)))),ae=parseFloat(ce.toSignificant(6))*parseFloat(C.reserve0),je=parseFloat(ce.toSignificant(6))*parseFloat(C.reserve1),be=new te.Fraction(se.toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne))).divide(new te.Fraction(gt.ethers.utils.parseUnits(C.totalSupply,ne).toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne)))),he=parseFloat(be.toSignificant(6))*parseFloat(C.reserve0),Oe=parseFloat(be.toSignificant(6))*parseFloat(C.reserve1),fe=parseFloat(ce.toSignificant(6))*parseFloat(C.reserveUSD),ge=parseFloat(be.toSignificant(6))*parseFloat(C.reserveUSD),ve=parseFloat(ie.toSignificant(6))*parseFloat(C.reserveUSD),ye=Object(nt.j)(C,ve.toString()),ke=null!==C&&void 0!==C&&C.oneDayFeeUSD?null===C||void 0===C?void 0:C.oneDayFeeUSD:null===C||void 0===C?void 0:C.oneDayFeeUntracked,we=Object(nt.d)(null===C||void 0===C?void 0:C.reserveUSD,ke),Ce=ye;we<_.O&&(Ce+=we);var Se,Te,Ie=C.amp/1e4,Ae="".concat(C.token0.symbol,"-").concat(C.token1.symbol," LP"),_e=Object(a.useState)(""),Le=Object(s.a)(_e,2),Ee=Le[0],Pe=Le[1],De=Object(a.useState)(""),ze=Object(s.a)(De,2),Re=ze[0],Me=ze[1],Fe=Object(Y.t)(z,C.id),Ne=Object(zt.a)(Fe),Be=Dt(C.fairLaunchAddress,C.pid),We=Object(nt.l)(oe),He=!Be.value.gt(0),qe=Object(a.useMemo)((()=>te.TokenAmount.fromRawAmount(new te.Token(z,Fe,Ne.decimals,Ae,""),ft.b.toString())),[Ne.decimals,z,Fe,Ae]),Ue=Object(Et.b)(qe,R?C.fairLaunchAddress:void 0),Ve=Object(s.a)(Ue,2),Ye=Ve[0],Ge=Ve[1];try{Se=""===Ee||0===parseFloat(Ee)||gt.ethers.utils.parseUnits(Ee||"0",Ne.decimals).gt(Ne.value)}catch(Nt){Se=!0}try{Te=""===Re||0===parseFloat(Re)||gt.ethers.utils.parseUnits(Re||"0",Be.decimals).gt(Be.value)}catch(Nt){Te=!0}var Je=!oe.some((e=>null===e||void 0===e?void 0:e.amount.gt(A.a.from("0")))),Ze=Ke(C.fairLaunchAddress),Qe=Ze.deposit,at=Ze.withdraw,lt=Ze.harvest,jt=function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var n;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return V(Object(Xe.d)(!0)),V(Object(Xe.a)(!0)),V(Object(Xe.e)("")),e.prev=5,e.next=8,Qe(t,gt.ethers.utils.parseUnits(Ee,Ne.decimals),Ae,!1);case 8:n=e.sent,V(Object(Xe.e)(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),V(Object(Xe.f)(e.t0));case 16:V(Object(Xe.a)(!1));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var n;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return V(Object(Xe.d)(!0)),V(Object(Xe.a)(!0)),V(Object(Xe.e)("")),e.prev=5,e.next=8,at(t,gt.ethers.utils.parseUnits(Re,Be.decimals),Ae);case 8:n=e.sent,V(Object(Xe.e)(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),V(Object(Xe.f)(e.t0));case 16:V(Object(Xe.a)(!1));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var n;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return V(Object(Xe.d)(!0)),V(Object(Xe.a)(!0)),V(Object(Xe.e)("")),e.prev=5,e.next=8,lt(t,C,oe);case 8:(n=e.sent)&&W(P.a.INDIVIDUAL_REWARD_HARVESTED,{reward_tokens_and_amounts:JSON.stringify(oe&&Object.assign({},...oe.map((e=>{var t;return(null===e||void 0===e||null===(t=e.token)||void 0===t?void 0:t.symbol)&&{[e.token.symbol]:Object($.g)(e.amount,e.token.decimals)}}))))}),V(Object(Xe.e)(n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0),V(Object(Xe.f)(e.t0));case 17:V(Object(Xe.a)(!1));case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),pt=Object(pe.a)(),xt=Object(a.useState)(null),mt=Object(s.a)(xt,2),Ot=mt[0],vt=mt[1];return Object(me.jsxs)(me.Fragment,{children:[B===et.a.LIST&&U&&Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)(ht.C,{joined:!!ge,children:[Object(me.jsxs)(ot.c,{gap:"12px",children:[Object(me.jsxs)(y.f,{children:[Object(me.jsx)(At.b,{currency0:G,currency1:Z,size:16}),Object(me.jsxs)(p.b,{to:"/add/".concat(Object(Rt.b)(null===(j=C.token0)||void 0===j?void 0:j.id,z),"/").concat(Object(Rt.b)(null===(b=C.token1)||void 0===b?void 0:b.id,z),"/").concat(C.id),style:{textDecoration:"none",marginRight:"6px"},children:[null===(u=C.token0)||void 0===u?void 0:u.symbol," - ",null===(h=C.token1)||void 0===h?void 0:h.symbol]}),Object(me.jsxs)(m.d,{color:pt.subText,fontSize:"12px",lineHeight:"16px",style:{backgroundColor:pt.blue+"20",color:pt.blue,borderRadius:"16px",padding:"2px 4px",whiteSpace:"nowrap",flex:"0 0 71px"},children:["AMP = ",Ie]})]}),Object(me.jsxs)(y.f,{children:[Object(me.jsxs)(y.c,{color:pt.subText,gap:"6px",marginRight:"16px",children:[Object(me.jsx)(Ct.a,{toCopy:C.id}),Object(me.jsx)(m.d,{fontSize:"12px",lineHeight:"16px",children:Object(Y.A)(z,C.id,3)})]}),Object(me.jsxs)(y.c,{onClick:()=>{S(C.id)},sx:{cursor:"pointer"},role:"button",gap:"6px",children:[Object(me.jsx)(l.a,{size:"14px",color:pt.subText,fill:pt.subText}),Object(me.jsx)(m.d,{fontSize:"12px",lineHeight:"16px",color:pt.subText,children:Object(me.jsx)(o.b,{id:"Share"})})]})]})]}),Object(me.jsx)(y.f,{children:Object(me.jsx)(m.d,{fontSize:"14px",fontWeight:400,children:Object(xe.a)(ve)})}),Object(me.jsxs)(y.f,{color:pt.apr,gap:"4px",children:[Ce.toFixed(2),"%",0!==Ce&&Object(me.jsx)(ue.a,{width:"fit-content",placement:"right",text:Object(me.jsx)(Mt.a,{farmAPR:ye,poolAPR:we<_.O?we:0}),children:Object(me.jsx)(_t.w,{size:16,color:pt.apr})})]}),Object(me.jsx)(ot.c,{gap:"6px",children:C.startTime>F?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{fontSize:"12px",color:pt.warning,children:Object(me.jsx)(o.b,{id:"New phase will start in"})}),Object(me.jsx)(m.d,{color:pt.warning,children:Object(rt.a)(C.startTime-F)})]}):C.endTime>F?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{color:pt.subText,fontSize:"12px",children:Object(me.jsx)(o.b,{id:"Current phase will end in"})}),Object(rt.a)(C.endTime-F)]}):Object(me.jsx)(me.Fragment,{children:Object(me.jsx)(m.d,{color:pt.subText,fontSize:"12px",children:Object(me.jsx)(o.b,{id:"Farm Ended"})})})}),Object(me.jsx)(y.f,{children:Object(Y.i)(ge.toString(),!0)}),Object(me.jsx)(ot.c,{gap:"8px",style:{alignItems:"end"},children:oe.map((e=>Object(me.jsx)("div",{style:{marginTop:"2px"},children:Object(me.jsxs)(y.f,{gap:"4px",children:[z&&e.token.wrapped.address&&Object(me.jsx)(le.a,{currency:e.token,size:"16px",style:{marginLeft:"3px"}}),Object($.g)(e.amount,e.token.decimals)]})},e.token.wrapped.address)))}),Object(me.jsxs)(y.f,{gap:"4px",justify:"flex-end",children:[Object(me.jsx)(ht.a,{color:pt.primary,disabled:Je,onClick:()=>{vt("harvest")},children:Object(me.jsx)(ue.a,{text:i.a._("Harvest"),placement:"top",width:"fit-content",children:Object(me.jsx)(it,{})})}),Object(me.jsx)(ht.a,{disabled:He,color:pt.red,onClick:()=>{vt("unstake")},children:Object(me.jsx)(ue.a,{text:i.a._("Unstake"),placement:"top",width:"fit-content",children:Object(me.jsx)(kt.a,{size:16})})}),Object(me.jsx)(ht.a,{color:pt.primary,disabled:"ended"===q,onClick:()=>{vt("stake")},children:Object(me.jsx)(ue.a,{text:i.a._("Stake"),placement:"top",width:"fit-content",children:Object(me.jsx)(wt.a,{size:16})})})]})]})}),(B===et.a.GRID||!U)&&Object(me.jsxs)(ht.h,{joined:!!ge,children:[Object(me.jsxs)(y.f,{marginBottom:"12px",children:[Object(me.jsx)(At.b,{currency0:G,currency1:Z,size:20}),Object(me.jsxs)(m.d,{fontSize:"16px",fontWeight:"500",marginRight:"4px",color:pt.green,children:[null===G||void 0===G?void 0:G.symbol," - ",null===Z||void 0===Z?void 0:Z.symbol]}),Object(me.jsxs)(m.d,{fontSize:12,lineHeight:"16px",style:{backgroundColor:pt.blue+"20",color:pt.blue,borderRadius:"16px",padding:"2px 4px"},children:["AMP ",C.amp/1e4]})]}),Object(me.jsxs)(y.b,{marginBottom:"16px",children:[Object(me.jsxs)(y.c,{color:pt.subText,fontSize:12,gap:"4px",children:[Object(me.jsx)(Ct.a,{toCopy:C.id}),Object(Y.A)(z,C.id,3)]}),Object(me.jsx)(y.c,{children:Object(me.jsx)(l.a,{fill:pt.subText,size:"14px",color:pt.subText,style:{cursor:"pointer"},onClick:()=>{S(C.id)}})})]}),Object(me.jsx)(y.b,{marginBottom:"2px",children:Object(me.jsx)(ue.a,{text:Object(me.jsx)(Mt.a,{farmAPR:ye,poolAPR:we<_.O?we:0}),children:Object(me.jsx)(m.d,{width:"fit-content",lineHeight:"16px",fontSize:"12px",fontWeight:"500",color:pt.subText,sx:{borderBottom:"1px dashed ".concat(pt.border)},children:Object(me.jsx)(o.b,{id:"Avg APR"})})})}),Object(me.jsx)(y.b,{marginBottom:"16px",children:Object(me.jsx)(m.d,{fontSize:28,lineHeight:"32px",color:pt.apr,fontWeight:500,children:Ce?Ce.toFixed(2)+"%":"--"})}),Object(me.jsxs)(y.b,{marginBottom:"4px",children:[Object(me.jsx)(m.d,{fontSize:12,color:pt.subText,lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"Staked TVL"})}),C.startTime>F?Object(me.jsx)(m.d,{fontSize:12,lineHeight:"16px",color:pt.warning,children:Object(me.jsx)(o.b,{id:"New phase will start in"})}):C.endTime>F?Object(me.jsx)(m.d,{fontSize:12,color:pt.subText,lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"Current phase will end in"})}):Object(me.jsx)(m.d,{fontSize:12,color:pt.subText,lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"Farm ended"})})]}),Object(me.jsxs)(y.b,{marginBottom:"16px",children:[Object(me.jsx)(m.d,{fontSize:"16px",color:pt.text,lineHeight:"20px",children:Object(xe.a)(ve)}),void 0!==C.startTime?C.startTime>F?Object(me.jsx)(m.d,{color:pt.warning,children:Object(rt.a)(C.startTime-F)}):C.endTime>F?Object(me.jsx)(me.Fragment,{children:Object(rt.a)(C.endTime-F)}):Object(me.jsx)(me.Fragment,{}):"--"]}),Object(me.jsx)(Tt.a,{marginBottom:"16px"}),Object(me.jsx)(y.b,{marginBottom:"4px",children:Object(me.jsx)(m.d,{fontSize:12,color:pt.subText,lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"My Deposit"})})}),Object(me.jsx)(y.b,{marginBottom:"16px",children:Object(me.jsx)(m.d,{fontSize:"16px",color:pt.text,lineHeight:"20px",children:ge?Object(xe.a)(ge):"--"})}),Object(me.jsxs)(y.b,{marginBottom:"16px",children:[Object(me.jsxs)(ot.c,{gap:"4px",children:[Object(me.jsx)(m.d,{fontSize:12,color:pt.subText,lineHeight:"16px",marginBottom:"4px",children:Object(me.jsx)(o.b,{id:"My Rewards"})}),Object(me.jsx)(y.f,{gap:"8px",children:oe.map(((e,t,n)=>Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(y.c,{gap:"4px",fontSize:"12px",lineHeight:"16px",children:[z&&e.token.wrapped.address&&Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),!!e.amount&&Object($.g)(e.amount,e.token.decimals)]},e.token.wrapped.address),t!==n.length-1&&Object(me.jsx)("div",{style:{height:"10px",width:"1px",backgroundColor:pt.border}})]})))})]}),Object(me.jsxs)(ht.b,{color:pt.apr,flex:"0 0 fit-content",disabled:Je,onClick:()=>{ut(C.pid)},children:[Object(me.jsx)(it,{}),Object(me.jsx)(o.b,{id:"Harvest"})]})]}),Object(me.jsxs)(y.f,{gap:"16px",children:[Object(me.jsxs)(ht.b,{flex:1,disabled:He,onClick:()=>vt("unstake"),color:pt.red,children:[Object(me.jsx)(kt.a,{size:16}),Object(me.jsx)(o.b,{id:"Unstake"})]}),Object(me.jsxs)(ht.b,{disabled:"ended"===q,flex:1,onClick:()=>vt("stake"),color:pt.primary,children:[Object(me.jsx)(wt.a,{size:16}),Object(me.jsx)(o.b,{id:"Stake"})]})]})]},"".concat(C.fairLaunchAddress,"_").concat(C.stakeToken)),Object(me.jsx)(ct.b,{isOpen:!!Ot,onDismiss:()=>vt(null),children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(me.jsxs)(m.b,{children:[Object(me.jsx)(At.b,{currency0:G,currency1:Z,size:24}),Object(me.jsx)(m.d,{fontSize:"20px",fontWeight:"500",children:(()=>{switch(Ot){case"stake":return Object(me.jsx)(o.b,{id:"Stake"});case"unstake":return Object(me.jsx)(o.b,{id:"Unstake"});default:return Object(me.jsx)(o.b,{id:"Harvest"})}})()})]}),Object(me.jsx)(de.d,{onClick:()=>vt(null),width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:pt.text})})]}),"harvest"!==Ot&&Object(me.jsx)(Tt.a,{}),Object(me.jsxs)(m.b,{justifyContent:"space-between",alignItems:"center",marginTop:"1rem",children:[Object(me.jsx)(m.d,{color:pt.subText,fontSize:"0.75rem",children:"harvest"===Ot?Object(me.jsx)(o.b,{id:"My Rewards"}):Object(me.jsx)(o.b,{id:"Available Balance"})}),Object(me.jsx)(m.d,{fontSize:"0.75rem",fontWeight:"500",children:(()=>{switch(Ot){case"stake":return Object(Y.i)(fe.toString(),!0);case"unstake":return Object(Y.i)(ge.toString(),!0);default:return Object(Y.i)(We.toString(),!0)}})()})]}),Object(me.jsxs)(ht.u,{children:["harvest"===Ot&&oe.map(((e,t)=>Object(me.jsxs)(d.a.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[z&&e.token.wrapped.address&&Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),Object($.g)(e.amount,e.token.decimals)]}),t!==oe.length-1&&Object(me.jsx)(m.d,{color:pt.subText,children:"|"})]},e.token.wrapped.address))),Ot&&["stake","unstake"].includes(Ot)&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[Object(me.jsx)(le.a,{currency:G,size:"16px"}),Object(me.jsx)(m.d,{textAlign:"right",fontSize:"0.75rem",color:pt.subText,children:Object($.e)("stake"===Ot?ae:he)})]}),Object(me.jsx)(m.d,{color:pt.subText,children:"|"}),Object(me.jsxs)(m.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[Object(me.jsx)(le.a,{currency:Z,size:"16px"}),Object(me.jsx)(m.d,{textAlign:"right",fontSize:"0.75rem",color:pt.subText,children:Object($.e)("stake"===Ot?je:Oe)})]})]})]}),"harvest"!==Ot&&Object(me.jsx)(Tt.a,{}),"harvest"===Ot?Object(me.jsx)(de.i,{margin:"8px 0 0",onClick:()=>{ut(C.pid),vt(null)},children:"Harvest"}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{marginTop:"20px",children:[D?Ye===Et.a.UNKNOWN&&Object(me.jsx)(It.a,{}):Object(me.jsx)(de.g,{onClick:M,children:Object(me.jsx)(o.b,{id:"Connect Wallet"})}),(Ye===Et.a.NOT_APPROVED||Ye===Et.a.PENDING)&&Object(me.jsx)(de.i,{color:"blue",disabled:Ye===Et.a.PENDING,onClick:Ge,padding:"12px",children:Ye===Et.a.PENDING?Object(me.jsx)(It.a,{children:Object(me.jsx)(o.b,{id:"Approving"})}):Object(me.jsx)(o.b,{id:"Approve"})}),Ye===Et.a.APPROVED&&z&&Object(me.jsx)(me.Fragment,{children:"stake"===Ot?Object(me.jsx)(St.g,{value:Ee,onUserInput:e=>{Pe(e)},onMax:()=>{Pe(Ft(Ne.value,Ne.decimals))},onHalf:()=>{Pe(Ft(Ne.value.div(2),Ne.decimals))},currency:new te.Token(z,C.id,Ne.decimals,"".concat(Ae),"".concat(Ae)),id:"stake-lp-input",disableCurrencySelect:!0,positionMax:"top",hideLogo:!0,fontSize:"14px",customCurrencySelect:Object(me.jsx)(de.i,{disabled:Se,padding:"8px 12px",width:"max-content",style:{minWidth:"80px"},onClick:()=>jt(C.pid),children:Ee&&Se?"Invalid Amount":"Stake"})}):Object(me.jsx)(St.g,{value:Re,onUserInput:Me,onMax:()=>{Me(Ft(Be.value,Be.decimals))},onHalf:()=>{Me(Ft(Be.value.div(2),Be.decimals))},currency:new te.Token(z,C.id,Ne.decimals,"".concat(Ae),"".concat(Ae)),id:"unstake-lp-input",disableCurrencySelect:!0,customBalanceText:"".concat(Ft(Be.value,Be.decimals)),positionMax:"top",hideLogo:!0,fontSize:"14px",customCurrencySelect:Object(me.jsx)(de.i,{disabled:Te,padding:"8px 12px",width:"max-content",style:{minWidth:"80px"},onClick:()=>bt(C.pid),children:Re&&Te?"Invalid Amount":"Unstake"})})})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",sx:{gap:"8px"},alignItems:"center",marginTop:"20px",children:[Object(me.jsx)(tt.c,{href:re?re.poolInfoLink:"".concat(_.B[z],"/pool/").concat(C.id),children:Object(me.jsxs)(ht.i,{children:[Object(me.jsx)(o.b,{id:"Get pool {0} info",values:{0:re?"(".concat(re.name,")"):""}})," \u2197"]})}),re?Object(me.jsx)(tt.c,{href:re.getLPTokenLink,children:Object(me.jsx)(ht.i,{children:Object(me.jsx)(o.b,{id:"Get {0}-{1} {2} LP \u2197",values:{0:null===(O=C.token0)||void 0===O?void 0:O.symbol,1:null===(f=C.token1)||void 0===f?void 0:f.symbol,2:re?"(".concat(re.name,")"):""}})})}):Object(me.jsx)(p.b,{to:"/add/".concat(Object(Rt.b)(null===(g=C.token0)||void 0===g?void 0:g.id,z),"/").concat(Object(Rt.b)(null===(v=C.token1)||void 0===v?void 0:v.id,z),"/").concat(C.id),style:{textDecoration:"none"},children:Object(me.jsx)(ht.i,{style:{textAlign:"right"},children:Object(me.jsx)(o.b,{id:"Get {0}-{1} LP \u2197",values:{0:null===(k=C.token0)||void 0===k?void 0:k.symbol,1:null===(w=C.token1)||void 0===w?void 0:w.symbol}})})})]})]})]})})]})},Bt=e=>{var t=e.isOpen,n=e.onClick;return Object(me.jsx)(ht.D,{onClick:n,children:Object(me.jsx)(Ye.a,{style:{rotate:t?"180deg":"none"}})})},Wt=e=>{var t=e.fairLaunchAddress,n=e.farms,c=e.active,d=Object(K.a)(),l=Object($e.z)(),j=Object(s.a)(l,1)[0],b=Object(x.a)("(min-width:".concat(tt.i.upToLarge,"px)")),p=Object(x.a)("(min-width:".concat(tt.i.upToSmall,"px)")),h=Object(E.b)(),O=h.chainId,f=h.account,g=h.isEVM,v=h.networkInfo,k=v.route||void 0,w=Object(pe.a)(),C=Object(J.e)(),S=Object(nt.k)(n),L=Object(q.k)(t),D=Ke(t).harvestMultiplePools,z=Object(P.c)().mixpanelHandler,R=Object(a.useState)(""),M=Object(s.a)(R,2),F=M[0],N=M[1],B=Object(a.useState)(!0),W=Object(s.a)(B,2),H=W[0],U=W[1],V=Object(J.o)(Qe.a.SHARE),Y=Object(J.k)(Qe.a.SHARE);Object(a.useEffect)((()=>{F&&V()}),[V,F]),Object(a.useEffect)((()=>{N((e=>Y?e:""))}),[Y,N]);var G=F?window.location.origin+"/farms/".concat(k,"?search=")+F+"&tab=classic":void 0,Q=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var t,r;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return d(Object(Xe.d)(!0)),d(Object(Xe.a)(!0)),d(Object(Xe.e)("")),e.prev=5,t=(n||[]).filter((e=>{var t,n,r;return!(null===(t=e.userData)||void 0===t||!t.rewards)&&(null===(n=e.userData)||void 0===n||null===(r=n.rewards)||void 0===r?void 0:r.some((e=>A.a.from(e).gt(0))))})),e.next=9,D(t.map((e=>e.pid)),S);case 9:(r=e.sent)&&z(P.a.ALL_REWARDS_HARVESTED,{reward_tokens_and_amounts:S&&Object.assign({},...S.map((e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.token)&&void 0!==t&&t.symbol?{[e.token.symbol]:Object($.g)(e.amount,e.token.decimals)}:{}})))}),d(Object(Xe.e)(r)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0),d(Object(Xe.f)(e.t0));case 18:d(Object(Xe.a)(!1));case 19:case"end":return e.stop()}}),e,null,[[5,14]])}))),[f,d,n,D,z,S]),X=Math.floor(Date.now()/1e3),ee=(L===Z.a.V1?(n||[]).map((e=>{var t,n=e.fairLaunchAddress.toLowerCase()==="0xc0601973451d9369252Aee01397c0270CD2Ecd60".toLowerCase()&&O===te.ChainId.MAINNET,s=e&&C&&e.startBlock<C,o=e&&C&&e.endBlock<C,i=(t=s?e&&C&&e.endBlock-C:e&&C&&e.startBlock-C)&&t*v.averageBlockTimeInSeconds,c=i&&Object(rt.a)(i);return Object(r.a)(Object(r.a)({},e),{},{time:"".concat(n?"":o?"Ended":(s?"":"Starting in ")+c)})})):(n||[]).map((e=>{var t,n=e&&X&&e.startTime<X,s=e&&X&&e.endTime<X;return t=n?Object(rt.a)(e.endTime-X):Object(rt.a)(e.startTime-X),Object(r.a)(Object(r.a)({},e),{},{time:"".concat(s?"Ended":(n?"":"Starting in ")+t)})}))).sort(((e,t)=>t.endBlock-e.endBlock)),ne=_.S[t],re=j===et.a.LIST&&b?ht.n:ht.d;return g?Object(me.jsxs)(ht.e,{children:[!!ee.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(y.b,{gap:"16px",children:[Object(me.jsxs)(y.c,{style:{whiteSpace:"nowrap"},children:[Object(me.jsx)(m.d,{fontSize:16,lineHeight:"20px",color:w.subText,children:Object(me.jsx)(o.b,{id:"Farming Contract"})}),ne&&Object(me.jsx)(m.d,{fontSize:14,fontStyle:"italic",color:w.subText,children:Object(me.jsx)(o.b,{id:"This pool require {0} LP Tokens. Get the LP Tokens <0>here \u2197</0>",values:{0:ne.name},components:{0:Object(me.jsx)(tt.c,{href:ne.getLPTokenLink})}})})]}),p&&Object(me.jsx)(y.f,{justify:"flex-end",children:Object(me.jsx)(Ot,{totalRewards:S,onHarvestAll:Q})}),Object(me.jsx)(y.c,{flex:"0 0 36px",children:Object(me.jsx)(Bt,{isOpen:H,onClick:()=>U((e=>!e))})})]}),!p&&Object(me.jsx)(y.f,{justify:"flex-end",children:Object(me.jsx)(Ot,{totalRewards:S,onHarvestAll:Q})}),Object(me.jsx)(ht.g,{expanded:H,children:Object(me.jsxs)(re,{children:[j===et.a.LIST&&b&&Object(me.jsxs)(ht.B,{children:[Object(me.jsxs)(y.f,{children:[Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Pools | AMP"})}),Object(me.jsx)(Ge.a,{text:_.f})]}),Object(me.jsx)(y.f,{children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Staked TVL"})})}),Object(me.jsxs)(y.f,{children:[Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"AVG APR"})}),Object(me.jsx)(Ge.a,{text:c?i.a._("Total estimated return based on yearly fees and bonus rewards of the pool"):i.a._("Estimated return based on yearly fees of the pool")})]}),Object(me.jsxs)(y.f,{children:[Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Ending in"})}),Object(me.jsx)(Ge.a,{text:i.a._("After harvesting, your rewards will unlock linearly over the indicated time period")})]}),Object(me.jsx)(y.f,{children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"My Deposit | Target Volume"})})}),Object(me.jsx)(y.f,{justify:"flex-end",children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"My Rewards"})})}),Object(me.jsx)(y.f,{justify:"flex-end",children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Actions"})})})]}),ee.map((e=>Object(me.jsx)(Nt,{farm:e,setSharedPoolAddress:N},"".concat(e.fairLaunchAddress,"_").concat(e.stakeToken))))]})})]}),Object(me.jsx)(Je.b,{title:i.a._("Share this farm with your friends!"),url:G})]}):Object(me.jsx)(u.a,{to:"/"})},Ht=n("./src/hooks/useDebounce.ts"),qt=n("./src/state/farms/classic/hooks.ts");function Ut(){var e=Object(b.e)((e=>e.farms.showConfirm)),t=Object(b.e)((e=>e.farms.attemptingTxn)),n=Object(b.e)((e=>e.farms.txHash)),r=Object(b.e)((e=>e.farms.error)),s=Object(K.a)(),o=Object(a.useCallback)((()=>{s(Object(Xe.d)(!1)),s(Object(Xe.a)(!1)),s(Object(Xe.e)("")),s(Object(Xe.f)(null))}),[s]),i=Object(a.useCallback)((()=>r?Object(me.jsx)(Me.c,{onDismiss:o,message:r}):null),[o,r]);return Object(me.jsx)(Me.e,{hash:n||"",isOpen:e,onDismiss:o,attemptingTxn:t,content:i,pendingText:""})}var Vt,Yt,Gt=["search"],Jt=e=>{var t=e.loading,n=e.active,i=Object(pe.a)(),c=Object(J.e)(),d=Object(a.useRef)(c);d.current=c;var l=Object(Pt.a)(),j=l.search,b=void 0===j?"":j,u=Object(Ve.a)(l,Gt),p=Object(E.b)().chainId,x=Object(qt.b)().data,h=Object(a.useState)({active:!1,ended:!1}),O=Object(s.a)(h,2),f=O[0],g=O[1],v=Object(a.useState)(!1),y=Object(s.a)(v,2),k=y[0],w=y[1],C=Object(a.useState)(!1),T=Object(s.a)(C,2),I=T[0],L=T[1],P=Object(a.useRef)();Object(at.a)(P,I?()=>L((e=>!e)):void 0);var D=n?"active":"ended",z=Object(a.useRef)(0);z.current=Math.floor(Date.now()/1e3);var R=Object(Ht.a)(b.trim().toLowerCase(),200),M=Object(a.useCallback)((e=>{var t,r,s,o,i,c,a=e.fairLaunchAddress.toLowerCase()==="0xc0601973451d9369252Aee01397c0270CD2Ecd60".toLowerCase()&&p===te.ChainId.MAINNET;return e.rewardPerSeconds?z.current&&(u.type===_.J.MY_FARMS||(n?e.endTime>=z.current:e.endTime<z.current))&&(!R||((null===(t=e.token0)||void 0===t?void 0:t.symbol.toLowerCase().includes(R))||(null===(r=e.token1)||void 0===r?void 0:r.symbol.toLowerCase().includes(R))||e.id===R))&&(!f[D]&&u.type!==_.J.MY_FARMS||(null===(s=e.userData)||void 0===s?void 0:s.stakedBalance)&&A.a.from(e.userData.stakedBalance).gt(0)):d.current&&(u.type===_.J.MY_FARMS||(a?n:n?e.endBlock>=d.current:e.endBlock<d.current))&&(!R||((null===(o=e.token0)||void 0===o?void 0:o.symbol.toLowerCase().includes(R))||(null===(i=e.token1)||void 0===i?void 0:i.symbol.toLowerCase().includes(R))||e.id===R))&&(!f[D]&&u.type!==_.J.MY_FARMS||(null===(c=e.userData)||void 0===c?void 0:c.stakedBalance)&&A.a.from(e.userData.stakedBalance).gt(0))}),[n,D,R,f,p,u.type]),F=Object(a.useMemo)((()=>Object.keys(x).reduce(((e,t)=>{var n=x[t].filter((e=>M(e)));return n.length&&(e[t]=n),e}),{})),[x,M]),N=!Object.keys(F).length;return Object(a.useEffect)((()=>{n||f.ended||k||Object.keys(x).filter((e=>!!x[e].filter((e=>{var t,n;return e.rewardPerSeconds?z.current&&e.endTime<z.current&&(null===(t=e.userData)||void 0===t?void 0:t.stakedBalance)&&A.a.from(e.userData.stakedBalance).gt(0):d.current&&e.endBlock<d.current&&(null===(n=e.userData)||void 0===n?void 0:n.stakedBalance)&&A.a.from(e.userData.stakedBalance).gt(0)})).length)).length&&(w(!0),g((e=>Object(r.a)(Object(r.a)({},e),{},{ended:!0}))))}),[n,f,x,k]),Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Ut,{}),t&&N?Object(me.jsx)(m.b,{backgroundColor:i.background,children:Object(me.jsx)(S.a,{})}):N?Object(me.jsx)(m.b,{backgroundColor:i.background,justifyContent:"center",padding:"32px",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},children:Object(me.jsx)(m.d,{color:i.subText,children:f[D]||R?Object(me.jsx)(o.b,{id:"No Farms found"}):Object(me.jsx)(o.b,{id:"Currently there are no Farms."})})}):Object.keys(F).map((e=>Object(me.jsx)(Wt,{fairLaunchAddress:e,farms:F[e],active:n},e)))]})},Zt=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),Kt=Object(ae.default)(Ye.a).withConfig({displayName:"FarmIssueAnnouncement__DropdownIcon",componentId:"sc-zj85iy-0"})(["transition:transform 300ms;color:",";&[data-flip='true']{transform:rotate(180deg);}"],(e=>e.theme.subText)),Qt=ae.default.div.withConfig({displayName:"FarmIssueAnnouncement__Wrapper",componentId:"sc-zj85iy-1"})(["border-radius:20px;padding:16px;font-size:14px;border:1px solid ",";margin-bottom:16px;color:",";li{line-height:20px;}"],(e=>e.theme.warning),(e=>e.theme.subText)),Xt=ae.default.ul.withConfig({displayName:"FarmIssueAnnouncement__StyledUL",componentId:"sc-zj85iy-2"})(["flex-shrink:0;display:flex;flex-direction:column;margin:0;padding-left:24px;padding-right:8px;width:100%;row-gap:8px;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;list-style-type:disc;list-style-position:outside;color:",";font-weight:400;font-size:14px;line-height:20px;"],(e=>e.theme.subText)),$t=ae.default.span.withConfig({displayName:"FarmIssueAnnouncement__Highlighted",componentId:"sc-zj85iy-3"})(["font-weight:500;color:",";"],(e=>e.theme.text)),en=()=>{var e=Object(pe.a)();return Object(me.jsxs)(Xt,{style:{marginTop:"8px"},children:[Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"We recently discovered an issue in our Elastic farming contract where you might not be able to harvest your rewards or withdraw your liquidity positions like you <0>normally</0> would.",components:{0:Object(me.jsx)($t,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"Don't worry, your funds are <0>100% safe</0>. And you are still earning farming rewards.",components:{0:Object(me.jsx)($t,{})}})}),Object(me.jsxs)("li",{children:[Object(me.jsx)(o.b,{id:"If you still wish to withdraw your liquidity positions from the farm, you can use the <0>Force Withdraw</0> button as an emergency option. Note:",components:{0:Object(me.jsx)($t,{style:{color:e.red}})}}),Object(me.jsxs)(Xt,{style:{marginTop:"8px",listStyleType:"circle"},children:[Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"If you do this, your farming rewards will <0>not</0> be automatically harvested but we can <1>manually transfer</1> your farming rewards to you.",components:{0:Object(me.jsx)($t,{}),1:Object(me.jsx)($t,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"After force withdrawing your liquidity position from the farm, remember <0>not</0> to re-stake this in the farm.",components:{0:Object(me.jsx)($t,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"If you wish to continue participating in the farm, you should remove liquidity from the <0>pool</0>, create a <1>new</1> liquidity position by adding liquidity into the pool, and then stake this new liquidity position into the farm.",components:{0:Object(me.jsx)($t,{}),1:Object(me.jsx)($t,{})}})})]})]}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"You can get in touch with us by joining our <0>Discord channel \u2197</0> and we will assist you with your questions or transfer of rewards.",components:{0:Object(me.jsx)(tt.c,{href:"https://discord.gg/H8AQVhwBz9"})}})})]})},tn=()=>{var e=Object(pe.a)();return Object(me.jsxs)(Xt,{style:{marginTop:"8px"},children:[Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"We recently discovered an issue in our Elastic farming contract where you might not be able to harvest your rewards or withdraw your liquidity positions like you <0>normally</0> would.",components:{0:Object(me.jsx)($t,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"Don't worry, your funds are <0>100% safe</0>.",components:{0:Object(me.jsx)($t,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"You can use the <0>Force Withdraw</0> button as an emergency option. If you do this, your farming rewards will <1>not</1> be automatically harvested but we can <2>manually transfer</2> your farming rewards to you.",components:{0:Object(me.jsx)($t,{style:{color:e.red}}),1:Object(me.jsx)($t,{}),2:Object(me.jsx)($t,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"You can get in touch with us by joining our <0>Discord channel \u2197</0> and we will assist you with your questions or transfer of rewards.",components:{0:Object(me.jsx)(tt.c,{href:"https://discord.gg/H8AQVhwBz9"})}})})]})},nn=e=>{var t=e.isEnded,n=Object(pe.a)(),r=Object(a.useState)(!0),i=Object(s.a)(r,2),c=i[0],d=i[1];return Object(me.jsxs)(Qt,{children:[Object(me.jsxs)(m.b,{justifyContent:"space-between",onClick:()=>d((e=>!e)),sx:{cursor:"pointer"},children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(me.jsx)("path",{d:"M4.83333 16.6667H8.16667C8.16667 17.5833 7.41667 18.3333 6.5 18.3333C5.58333 18.3333 4.83333 17.5833 4.83333 16.6667ZM3.16667 15C3.16667 15.4583 3.54167 15.8333 4 15.8333H9C9.45833 15.8333 9.83333 15.4583 9.83333 15C9.83333 14.5417 9.45833 14.1667 9 14.1667H4C3.54167 14.1667 3.16667 14.5417 3.16667 15ZM12.75 7.91667C12.75 11.1 10.5333 12.8 9.60833 13.3333H3.39167C2.46667 12.8 0.25 11.1 0.25 7.91667C0.25 4.46667 3.05 1.66667 6.5 1.66667C9.95 1.66667 12.75 4.46667 12.75 7.91667ZM16.8083 6.14167L15.6667 6.66667L16.8083 7.19167L17.3333 8.33333L17.8583 7.19167L19 6.66667L17.8583 6.14167L17.3333 5L16.8083 6.14167ZM14.8333 5L15.6167 3.28333L17.3333 2.5L15.6167 1.71667L14.8333 0L14.05 1.71667L12.3333 2.5L14.05 3.28333L14.8333 5Z",fill:"#FF9901"})}),Object(me.jsx)(m.d,{fontWeight:"500",color:n.warning,marginLeft:"8px",children:Object(me.jsx)(o.b,{id:"Important Announcement"})})]}),Object(me.jsx)(m.b,{sx:{flex:"0 0 24px",justifyContent:"center",alignItems:"center"},children:Object(me.jsx)(Kt,{"data-flip":c})})]}),c&&Object(me.jsxs)(me.Fragment,{children:[t?Object(me.jsx)(tn,{}):Object(me.jsx)(en,{}),Object(me.jsx)(m.d,{fontStyle:"italic",marginTop:"16px",children:Object(me.jsx)(o.b,{id:"We really apologize for the trouble."})})]})]})},rn=n("./src/constants/v2.ts"),sn=n("./src/state/farms/elastic/hooks.ts"),on=n("./node_modules/react-feather/dist/icons/info.js"),cn=n("./node_modules/react-feather/dist/icons/arrow-down.js"),an=n("./node_modules/react-feather/dist/icons/arrow-up.js"),dn=n("./src/components/Icons/Deposit.tsx"),ln=n("./src/constants/networks.ts"),jn=n("./src/pages/Pool/styleds.tsx"),bn=n("./src/state/multicall/hooks.ts"),un=n("./src/components/HoverInlineText/index.tsx"),pn=n("./src/utils/tokenInfo.ts"),xn=d.a.createContext((()=>{})),mn=()=>Object(a.useContext)(xn),hn=n("./node_modules/polished/dist/polished.esm.js"),On=["title","titleId"];function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fn.apply(this,arguments)}function gn(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function vn(e,t){var n=e.title,r=e.titleId,s=gn(e,On);return a.createElement("svg",fn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),n?a.createElement("title",{id:r},n):null,Vt||(Vt=a.createElement("g",{clipPath:"url(#clip0_1341_44633)"},a.createElement("path",{d:"M8.44008 1.71999C8.18675 1.49999 7.80675 1.49999 7.55341 1.71999C4.30008 4.58666 2.66675 7.07999 2.66675 9.19999C2.66675 12.52 5.20008 14.6667 8.00008 14.6667C10.8001 14.6667 13.3334 12.52 13.3334 9.19999C13.3334 7.07999 11.7001 4.58666 8.44008 1.71999ZM5.22008 9.33333C5.46675 9.33333 5.66675 9.50666 5.71341 9.74666C5.98675 11.2267 7.23341 11.7333 8.14008 11.66C8.42675 11.6467 8.66675 11.8733 8.66675 12.16C8.66675 12.4267 8.45341 12.6467 8.18675 12.66C6.76675 12.7467 5.10675 11.9333 4.72675 9.91333C4.67341 9.61333 4.91341 9.33333 5.22008 9.33333Z",fill:"currentColor"}))),Yt||(Yt=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1341_44633"},a.createElement("rect",{width:16,height:16,fill:"currentColor"})))))}var yn,kn,wn,Cn=a.forwardRef(vn),Sn=(n.p,ae.default.div.withConfig({displayName:"FeeTarget__FeeTargetWrapper",componentId:"sc-1krv0ez-0"})(["border-radius:999px;display:flex;font-size:12px;background:",";position:relative;color:",";height:4px;align-items:center;min-width:140px;max-width:200px;position:relative;margin-top:4px;overflow:hidden;"],(e=>{var t=e.theme;return e.fullUnlock?t.primary:t.subText}),(e=>e.theme.textReverse))),Tn=ae.default.div.withConfig({displayName:"FeeTarget__FeeArchive",componentId:"sc-1krv0ez-1"})(["width:",";height:100%;background:",";border-radius:999px;"],(e=>{var t=e.width;return"".concat(t,"%")}),(e=>{var t=e.theme;return 100===e.width?t.primary:t.warning})),In=e=>{var t=e.percent,n=e.style,r=void 0===n?{}:n,s=Number(t),i=Object(pe.a)();return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{justifyContent:"space-between",fontSize:"12px",color:i.subText,marginTop:"4px",maxWidth:"200px",style:r,children:[Object(me.jsx)(o.b,{id:"Target Volume"}),s>=100?Object(me.jsx)(m.d,{color:i.primary,children:"\u2713"}):Object(me.jsxs)("div",{children:[s.toFixed(2),"%"]})]}),Object(me.jsx)(Sn,{fullUnlock:s>=100,style:r,children:Object(me.jsx)(Tn,{width:s})})]})},An=n("./src/components/Badge/RangeBadge.tsx"),_n=n("./src/components/ProAmm/PriceVisualize.tsx"),Ln=n("./src/hooks/useIsTickAtLimit.ts"),En=n("./src/state/mint/proamm/type.ts"),Pn=n("./src/utils/formatTickPrice.ts"),Dn=n("./src/components/Icons/Withdraw.tsx"),zn=["disabled","onClick","style"],Rn=["disabled","onClick","style"],Mn=["disabled","onClick","style"],Fn=["onClick","style"],Nn=["onClick","style"];!function(e){e.Red="Red",e.Gray="Gray",e.Green="Green",e.APR="APR"}(wn||(wn={}));var Bn,Wn,Hn=Object(ae.default)(de.g).withConfig({displayName:"buttons__BtnLight",componentId:"sc-18ir6ml-0"})(["padding:8px 12px;width:fit-content;",";"],(e=>e.theme.mediaWidth.upToSmall(yn||(yn=Object(ee.a)(["\n    padding: 8px;\n  "]))))),qn=Object(ae.default)(de.g).withConfig({displayName:"buttons__ButtonOutlined",componentId:"sc-18ir6ml-1"})(["padding:8px 12px;width:fit-content;white-space:nowrap;"," ",";"],(e=>((e,t,n)=>{var r={[wn.Red]:e.red,[wn.Gray]:e.subText,[wn.Green]:e.primary,[wn.APR]:e.apr};t||(t=wn.Green);var s=r[t];return Object(ae.css)(["border-color:",";background-color:",";color:",";&:hover{background-color:",";}&:active{box-shadow:",";background-color:",";}"],s,"".concat(s,"20"),s,n?void 0:Object(hn.a)(.03,"".concat(s,"20")),n?void 0:"0 0 0 1pt ".concat(Object(hn.a)(.05,"".concat(s,"20"))),n?void 0:Object(hn.a)(.05,"".concat(s,"20")))})(e.theme,e.colorScheme,e.disabled)),(e=>e.theme.mediaWidth.upToSmall(kn||(kn=Object(ee.a)(["\n    padding: 8px;\n  "]))))),Un=e=>{var t=e.disabled,n=e.onClick,s=e.style,c=Object(Ve.a)(e,zn),a=Object(x.a)("(max-width: ".concat(tt.i.upToExtraSmall,"px)")),d=()=>Object(me.jsxs)(qn,Object(r.a)(Object(r.a)({disabled:t,onClick:n,style:Object(r.a)({width:a?"100%":"max-content",height:"38px",padding:"12px"},s)},c),{},{children:[Object(me.jsx)(dn.a,{width:20,height:20}),Object(me.jsx)(m.d,{fontSize:"14px",marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Deposit"})})]}));return t?d():Object(me.jsx)(ue.b,{text:i.a._("Deposit your liquidity positions (i.e. your NFT tokens) into the farming contract. Then stake them into the farm"),style:{flex:1},children:d()})},Vn=e=>{var t=e.disabled,n=e.onClick,s=e.style,c=Object(Ve.a)(e,Rn),a=Object(x.a)("(max-width: ".concat(tt.i.upToExtraSmall,"px)")),d=()=>Object(me.jsxs)(qn,Object(r.a)(Object(r.a)({colorScheme:wn.Red,onClick:n,disabled:t,style:Object(r.a)({width:a?"100%":"max-content",height:"38px",padding:"12px"},s)},c),{},{children:[Object(me.jsx)(Dn.a,{width:20,height:20}),Object(me.jsx)(m.d,{fontSize:"14px",marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Withdraw"})})]}));return t?d():Object(me.jsx)(ue.b,{text:i.a._("Withdraw your liquidity positions (i.e. your NFT tokens) from the farming contract"),style:{flex:1},children:d()})},Yn=e=>{var t=e.disabled,n=e.onClick,s=e.style,i=Object(Ve.a)(e,Mn),c=Object(x.a)("(max-width: ".concat(tt.i.upToExtraSmall,"px)"));return Object(me.jsxs)(de.i,Object(r.a)(Object(r.a)({onClick:n,disabled:t,style:Object(r.a)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.16)",whiteSpace:"nowrap",width:c?"100%":"max-content",height:"38px"},s)},i),{},{children:[Object(me.jsx)(it,{width:20,height:20}),Object(me.jsx)(m.d,{fontSize:"14px",marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Harvest All"})})]}))},Gn=e=>{var t=e.onClick,n=(e.style,Object(Ve.a)(e,Fn));return Object(me.jsx)(Hn,Object(r.a)(Object(r.a)({style:{flex:1,height:"38px",padding:"8px 16px"},onClick:t},n),{},{children:Object(me.jsx)(o.b,{id:"Connect Wallet"})}))},Jn=Object(ae.default)(de.g).withConfig({displayName:"buttons__MinimalActionButton",componentId:"sc-18ir6ml-2"})(["background-color:",";min-width:28px;min-height:28px;width:28px;height:28px;padding:0;",":disabled{background:",";cursor:not-allowed;}"],(e=>{var t=e.theme;return Object(hn.d)(t.primary,.2)}),(e=>((e,t,n)=>{var r={[wn.Red]:e.red,[wn.Gray]:e.subText,[wn.Green]:e.primary,[wn.APR]:e.apr};t||(t=wn.Green);var s=r[t];return Object(ae.css)(["background-color:",";color:",";&:hover{background-color:",";}&:active{box-shadow:",";background-color:",";}"],"".concat(s,"20"),s,n?void 0:Object(hn.a)(.03,"".concat(s,"20")),n?void 0:"0 0 0 1pt ".concat(Object(hn.a)(.05,"".concat(s,"20"))),n?void 0:Object(hn.a)(.05,"".concat(s,"20")))})(e.theme,e.colorScheme,e.disabled)),(e=>e.theme.buttonGray)),Zn=e=>{var t=e.onClick,n=e.style,s=Object(Ve.a)(e,Nn),i=Object(r.a)({padding:"8px"},n);return Object(me.jsxs)(qn,Object(r.a)(Object(r.a)({colorScheme:wn.Red,style:i,onClick:t},s),{},{children:[Object(me.jsx)(Dn.a,{width:20,height:20}),Object(me.jsx)(m.d,{fontSize:"14px",marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Force Withdraw"})})]}))},Kn=n("./src/components/YieldPools/ElasticFarmGroup/styleds.tsx"),Qn=e=>{var t,n,r=e.price,s=e.isRevertPrice,c=e.farmAddress,a=e.pool,d=e.targetPercent,l=e.nftInfo,j=e.tokenPrices,b=Object(pe.a)(),u=Object(sn.b)().userFarmInfo,p=(null===u||void 0===u||null===(t=u[c])||void 0===t?void 0:t.joinedPositions[a.pid])||[],x=Object(sn.d)(c).unstake,h=p.find((e=>e.nftId.toString()===l.nftId.toString())),O=!!h,f=(j[l.amount0.currency.address]||0)*+l.amount0.toExact()+(j[l.amount1.currency.address]||0)*+l.amount1.toExact(),g=l.pool.tickCurrent<l.tickLower||l.pool.tickCurrent>=l.tickUpper,v=Object(Ln.a)(l.pool.fee,l.tickLower,l.tickUpper),y=s?l.token0PriceUpper.invert():l.token0PriceLower,k=s?l.token0PriceLower.invert():l.token0PriceUpper,w=null===u||void 0===u||null===(n=u[c])||void 0===n?void 0:n.rewardByNft,C=(null===w||void 0===w?void 0:w[a.pid+"_"+l.nftId.toString()])||[],S=C.reduce(((e,t)=>e+ +t.toExact()*(j[t.currency.wrapped.address]||0)),0);return Object(me.jsxs)(Kn.i,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",color:b.subText,children:[Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},fontSize:"14px",fontWeight:"500",children:["NFT ID ",Object(me.jsx)(m.d,{color:g?b.warning:b.primary,children:l.nftId.toString()}),Object(me.jsx)(An.a,{size:12,hideText:!0,removed:!1,inRange:!g})]}),O?Object(me.jsx)(ue.b,{text:i.a._("Unstake your liquidity positions (i.e. your NFT tokens) from the farm"),placement:"top",width:"300px",children:Object(me.jsx)(Jn,{colorScheme:wn.Red,onClick:()=>x(A.a.from(a.pid),[{nftId:l.nftId,position:l,stakedLiquidity:h.liquidity.toString(),poolAddress:a.poolAddress}]),children:Object(me.jsx)(kt.a,{size:16})})}):Object(me.jsx)(Jn,{colorScheme:wn.Red,disabled:!O,children:Object(me.jsx)(kt.a,{size:16})})]}),Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",marginTop:"12px",color:b.subText,fontSize:"12px",fontWeight:"500",children:[Object(me.jsx)(m.d,{children:Object(me.jsx)(o.b,{id:"My Deposit"})}),Object(me.jsx)(m.d,{children:Object(me.jsx)(o.b,{id:"My Rewards"})})]}),Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",marginTop:"4px",marginBottom:d?"12px":"0",children:[Object(me.jsx)(je.a,{style:{padding:"0"},content:Object(me.jsx)(m.d,{as:"span",fontSize:"16px",fontWeight:"500",children:Object(xe.a)(f)}),dropdownContent:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:l.amount0.currency,size:"16px"}),Object(me.jsxs)(m.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[l.amount0.toSignificant(8)," ",l.amount0.currency.symbol]})]},l.amount0.currency.address),Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:l.amount1.currency,size:"16px"}),Object(me.jsxs)(m.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[l.amount1.toSignificant(8)," ",l.amount1.currency.symbol]})]},l.amount1.currency.address)]})}),Object(me.jsx)(je.a,{style:{padding:"0"},content:S?Object(me.jsx)(m.d,{as:"span",fontSize:"16px",fontWeight:"500",children:Object(xe.a)(S)}):"--",hideIcon:!S,dropdownContent:C.map((e=>Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:e.currency,size:"16px"}),Object(me.jsxs)(m.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.wrapped.symbol]})]},e.currency.wrapped.address)))})]}),d&&Object(me.jsx)(In,{percent:d,style:{maxWidth:"100%"}}),Object(me.jsx)(_n.a,{priceLower:y,priceUpper:k,price:r}),Object(me.jsxs)(m.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",marginTop:"8px",children:[Object(me.jsxs)(m.d,{children:[Object(me.jsxs)(m.d,{as:"span",color:b.subText,children:[Object(me.jsx)(o.b,{id:"Min Price"}),":"]})," ",Object(Pn.a)(y,v,En.a.LOWER)]}),Object(me.jsxs)(m.d,{children:[Object(me.jsxs)(m.d,{as:"span",color:b.subText,children:[Object(me.jsx)(o.b,{id:"Max Price"}),":"]})," ",Object(Pn.a)(k,v,En.a.UPPER)]})]})]},l.nftId.toString())},Xn=ae.default.div.withConfig({displayName:"FarmCard__Range",componentId:"sc-1ijs4cs-0"})(["align-self:flex-end;align-items:center;color:",";padding:3px 4px;gap:4px;font-size:12px;font-weight:500;display:flex;border-radius:999px;background:",";"],(e=>{var t=e.theme;return e.inrange?t.primary:t.warning}),(e=>{var t=e.theme,n=e.inrange;return Object(hn.d)(n?t.primary:t.warning,.3)})),$n=e=>{var t,n,r,i,c=e.disableUnstake,d=e.onUnstake,j=e.disableStake,b=e.onStake,u=e.onHarvest,x=e.pool,h=e.rewardValue,O=e.rewardPendings,f=e.depositedPositions,g=e.farmAddress,v=e.tokenPrices,y=e.targetPercent,k=e.targetPercentByNFT,w=Object(E.b)().chainId,C=Object(a.useState)(!1),S=Object(s.a)(C,2),T=S[0],I=S[1],A=Object(pe.a)(),L=Math.floor(Date.now()/1e3),P=x.endTime<L,D=O.some((e=>e.greaterThan(0))),z=P?0:x.depositedUsd-x.stakedUsd,R=mn(),M=Object(a.useState)(!1),F=Object(s.a)(M,2),N=F[0],B=F[1],W="".concat(_.h.ELASTIC_CREATE_POOL,"/").concat(x.token0.isNative?x.token0.symbol:x.token0.address,"/").concat(x.token1.isNative?x.token1.symbol:x.token1.address,"/").concat(x.pool.fee),H=null===f||void 0===f?void 0:f[0],q=H&&(T?H.pool.priceOf(H.pool.token1):H.pool.priceOf(H.pool.token0)),U=f.filter((e=>e.pool.tickCurrent<e.tickLower||e.pool.tickCurrent>=e.tickUpper)).length,V=f.filter((e=>e.pool.tickCurrent>=e.tickLower&&e.pool.tickCurrent<e.tickUpper)).length,G=Object(pn.d)(w,null===x||void 0===x||null===(t=x.token0)||void 0===t||null===(n=t.wrapped)||void 0===n?void 0:n.address,x.token0.symbol),J=Object(pn.d)(w,null===x||void 0===x||null===(r=x.token1)||void 0===r||null===(i=r.wrapped)||void 0===i?void 0:i.address,x.token1.symbol);return Object(me.jsxs)(Kn.e,{flip:N,joined:!!f.length,children:[!N&&Object(me.jsxs)(Kn.g,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(At.b,{currency0:x.token0,currency1:x.token1,size:20}),Object(me.jsx)(p.b,{to:W,style:{textDecoration:"none"},children:Object(me.jsxs)(m.d,{fontSize:16,fontWeight:500,children:[G," - ",J]})}),Object(me.jsxs)(Kn.d,{style:{fontSize:"12px"},children:["FEE ",100*x.pool.fee/_.D,"%"]})]}),Object(me.jsxs)(m.b,{sx:{gap:"4px"},children:[!!U&&Object(me.jsx)(ue.a,{text:Object(me.jsx)(m.d,{fontSize:"12px",fontStyle:"italic",children:Object(me.jsx)(o.b,{id:"You have {numberOutRangePos} out-of-range position(s)",values:{numberOutRangePos:U}})}),children:Object(me.jsxs)(Xn,{children:[U," ",Object(me.jsx)(on.a,{size:12})]})}),!!V&&Object(me.jsx)(ue.a,{text:Object(me.jsx)(m.d,{fontSize:"12px",fontStyle:"italic",children:Object(me.jsx)(o.b,{id:"You have {numberInRangePos} in-range position(s)",values:{numberInRangePos:V}})}),children:Object(me.jsxs)(Xn,{inrange:!0,children:[V," ",Object(me.jsx)(on.a,{size:12})]})})]})]}),Object(me.jsxs)(m.b,{marginTop:"0.75rem",alignItems:"center",sx:{gap:"6px"},fontSize:"12px",color:A.subText,width:"max-content",fontWeight:"500",children:[Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(Ct.a,{toCopy:x.poolAddress}),Object(me.jsx)(m.d,{children:Object(Y.A)(w,x.poolAddress,2)})]}),Object(me.jsxs)(m.b,{marginLeft:"12px",onClick:()=>{R(x.poolAddress)},sx:{cursor:"pointer",gap:"4px"},role:"button",color:A.subText,children:[Object(me.jsx)(l.a,{size:"14px",color:A.subText}),Object(me.jsx)(o.b,{id:"Share"})]})]}),Object(me.jsx)(m.d,{width:"fit-content",lineHeight:"16px",fontSize:"12px",fontWeight:"500",color:A.subText,sx:{borderBottom:"1px dashed ".concat(A.border)},marginTop:"16px",children:Object(me.jsx)(ue.a,{width:"fit-content",placement:"right",text:Object(me.jsx)(Mt.a,{farmAPR:x.farmAPR,poolAPR:x.poolAPR}),children:Object(me.jsx)(o.b,{id:"Avg APR"})})}),Object(me.jsxs)(m.d,{fontSize:"28px",fontWeight:"500",color:A.apr,children:[(x.farmAPR+x.poolAPR).toFixed(2),"%"]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"16px",fontSize:"12px",fontWeight:"500",color:A.subText,children:[Object(me.jsx)(m.d,{children:Object(me.jsx)(o.b,{id:"Staked TVL"})}),x.startTime>L?Object(me.jsx)(m.d,{color:A.warning,children:Object(me.jsx)(o.b,{id:"New phase will start in"})}):x.endTime>L?Object(me.jsx)(o.b,{id:"Current phase will end in"}):rn.b.includes(x.poolAddress.toLowerCase())?Object(me.jsx)(o.b,{id:"To be extended soon"}):Object(me.jsx)(o.b,{id:"Ended at"})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"4px",fontSize:"16px",fontWeight:"500",marginBottom:"16px",children:[Object(me.jsx)(m.d,{fontWeight:"500",children:Object(xe.a)(x.tvl)}),x.startTime>L?Object(me.jsx)(m.d,{color:A.warning,children:Object(rt.a)(x.startTime-L)}):x.endTime>L?Object(me.jsx)(me.Fragment,{children:Object(rt.a)(x.endTime-L)}):rn.b.includes(x.poolAddress.toLowerCase())?Object(me.jsx)(o.b,{id:"To be extended soon"}):Object(me.jsx)(me.Fragment,{children:re()(1e3*x.endTime).format("DD-MM-YYYY HH:mm")})]}),Object(me.jsx)(Tt.a,{}),Object(me.jsxs)(m.b,{marginTop:"16px",justifyContent:"space-between",fontSize:"12px",fontWeight:"500",color:A.subText,children:[Object(me.jsx)(m.d,{children:Object(me.jsx)(o.b,{id:"My Deposit"})}),Object(me.jsx)(m.d,{children:Object(me.jsx)(o.b,{id:"My Rewards"})})]}),Object(me.jsxs)(m.b,{marginTop:"4px",justifyContent:"space-between",children:[z?Object(me.jsxs)(m.b,{justifyContent:"flex-start",color:A.warning,fontWeight:"500",fontSize:"16px",children:[Object(xe.a)(x.depositedUsd),Object(me.jsx)(Ge.a,{placement:"top",color:A.warning,width:"270px",text:Object(me.jsxs)(m.b,{sx:{flexDirection:"column",gap:"6px",fontSize:"12px",lineHeight:"16px",fontWeight:400},children:[Object(me.jsx)(m.d,{as:"span",color:A.subText,children:Object(me.jsx)(o.b,{id:"You still have {0} in liquidity to stake to earn even more farming rewards",values:{0:Object(xe.a)(z)}})}),Object(me.jsxs)(m.d,{as:"span",color:A.text,children:["Staked: ",Object(xe.a)(x.stakedUsd)]}),Object(me.jsxs)(m.d,{as:"span",color:A.warning,children:["Not staked: ",Object(xe.a)(z)]})]})})]}):Object(me.jsx)(m.b,{justifyContent:"flex-start",color:A.text,fontWeight:"500",fontSize:"16px",children:x.depositedUsd?Object(xe.a)(x.depositedUsd):"--"}),Object(me.jsx)(je.a,{style:{padding:"0"},content:h?Object(me.jsx)(m.d,{fontSize:"16px",fontWeight:"500",textAlign:"right",children:Object(xe.a)(h)}):"--",hideIcon:!h,dropdownContent:Object(me.jsx)(m.b,{flexDirection:"column",sx:{gap:"8px"},children:O.map(((e,t)=>Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(le.a,{currency:e.currency,size:"16px"}),e.toSignificant(6)," ",e.currency.symbol]},e.currency.symbol||t)))})})]}),"0"!==x.feeTarget&&Object(me.jsx)(In,{percent:y,style:{maxWidth:"100%"}}),Object(me.jsxs)(m.b,{marginTop:"20px",justifyContent:"space-between",children:[Object(me.jsxs)(m.b,{sx:{gap:"12px"},children:[Object(me.jsxs)(Kn.a,{color:A.primary,disabled:j,onClick:b,children:[Object(me.jsx)(wt.a,{size:16})," Stake"]}),Object(me.jsxs)(Kn.a,{color:A.red,disabled:c,onClick:d,children:[Object(me.jsx)(kt.a,{size:16})," Unstake"]})]}),Object(me.jsxs)(Kn.a,{color:A.apr,disabled:!D,onClick:u,children:[Object(me.jsx)(it,{})," Harvest"]})]}),Object(me.jsxs)(m.b,{justifyContent:"center",alignItems:"center",marginTop:"auto",paddingTop:"16px",fontSize:"12px",fontWeight:"500",role:"button",color:A.subText,opacity:f.length?1:.4,sx:{cursor:f.length?"pointer":"not-allowed"},onClick:()=>f.length&&B((e=>!e)),children:[Object(me.jsx)(m.d,{as:"span",style:{transform:"rotate(90deg)"},children:Object(me.jsx)(_t.J,{})}),Object(me.jsx)(m.d,{marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"View Positions"})})]})]}),N&&Object(me.jsxs)(Kn.f,{children:[Object(me.jsxs)(m.b,{alignItems:"center",height:"36px",children:[Object(me.jsx)(At.b,{currency0:x.token0,currency1:x.token1,size:20}),Object(me.jsx)(p.b,{to:"".concat(_.h.ELASTIC_CREATE_POOL,"/").concat(x.token0.isNative?x.token0.symbol:x.token0.address,"/").concat(x.token1.isNative?x.token1.symbol:x.token1.address,"/").concat(x.pool.fee),style:{textDecoration:"none"},children:Object(me.jsxs)(m.d,{fontSize:16,fontWeight:500,children:[G," - ",J]})}),Object(me.jsxs)(Kn.d,{children:["FEE ",100*x.pool.fee/_.D,"%"]})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",alignItems:"center",children:[Object(me.jsxs)(m.d,{color:A.subText,children:[Object(me.jsx)(o.b,{id:"Current Price"}),":"]}),Object(me.jsxs)(de.d,{padding:"0",as:p.b,to:"".concat(_.h.MY_POOLS),style:{width:"max-content",color:A.subText,fontSize:"12px",fontWeight:"500",gap:"4px"},children:[Object(me.jsx)(Cn,{}),Object(me.jsx)(o.b,{id:"My Pools"})," \u2197"]})]}),Object(me.jsxs)(m.b,{marginTop:"4px",alignItems:"center",children:[q&&Object(me.jsx)(m.d,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:Object(me.jsx)(o.b,{id:"{0} {1} per {2}",values:{0:q.toSignificant(10),1:q.quoteCurrency.symbol,2:q.baseCurrency.symbol}})}),Object(me.jsx)("span",{onClick:()=>I((e=>!e)),style:{marginLeft:"2px",cursor:"pointer",transform:"rotate(90deg)"},children:Object(me.jsx)(_t.J,{size:14})})]}),Object(me.jsx)(m.b,{maxHeight:"200px",flex:1,marginTop:"20px",sx:{overflowY:"scroll",gap:"12px"},flexDirection:"column",children:q&&f.map((e=>Object(me.jsx)(Qn,{farmAddress:g,isRevertPrice:T,price:q,pool:x,nftInfo:e,tokenPrices:v,targetPercent:k[e.nftId.toString()]},e.nftId.toString())))}),Object(me.jsxs)(m.b,{justifyContent:"center",alignItems:"center",marginTop:"auto",paddingTop:"16px",fontSize:"12px",fontWeight:"500",role:"button",color:A.subText,sx:{cursor:"pointer"},onClick:()=>B((e=>!e)),children:[Object(me.jsx)(m.d,{as:"span",style:{transform:"rotate(90deg)"},children:Object(me.jsx)(_t.J,{})}),Object(me.jsx)(m.d,{marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"View Farm"})})]})]})]})},er=e=>{var t,n,r,c=e.isApprovedForAll,d=e.fairlaunchAddress,j=e.pool,b=e.onOpenModal,u=e.onHarvest,h=e.isUserAffectedByFarmIssue,O=e.tokenPrices,f=Object(E.b)().chainId,g=Object(pe.a)(),v=Math.floor(Date.now()/1e3),y=Object($e.z)(),k=Object(s.a)(y,1)[0],w=Object(x.a)("(min-width: 1000px)"),C=Object(a.useState)(!1),S=Object(s.a)(C,2),L=S[0],P=S[1],D=Object(sn.b)().userFarmInfo,z=(null===D||void 0===D||null===(t=D[d])||void 0===t?void 0:t.joinedPositions[j.pid])||[],R=(null===D||void 0===D||null===(n=D[d])||void 0===n?void 0:n.depositedPositions.filter((e=>j.poolAddress.toLowerCase()===Object(Zt.computePoolAddress)({factoryAddress:ln.h[Object(ln.q)(f)?f:te.ChainId.MAINNET].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:ln.h[Object(ln.q)(f)?f:te.ChainId.MAINNET].elastic.initCodeHash}).toLowerCase())))||[],M=(null===D||void 0===D||null===(r=D[d])||void 0===r?void 0:r.rewardPendings[j.pid])||j.rewardTokens.map((e=>te.CurrencyAmount.fromRawAmount(e,0))),F=M.reduce(((e,t)=>e+(O[t.currency.wrapped.address]||0)*+t.toExact()),0),N=Object(q.r)(d),B=Object(a.useState)(""),W=Object(s.a)(B,2),H=W[0],U=W[1],V=Object(a.useState)({}),G=Object(s.a)(V,2),J=G[0],Z=G[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),X=Q[0],$=Q[1];Object(a.useEffect)((()=>{var e=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t,n,r,s,o,i;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&"0"!==j.feeTarget){e.next=2;break}return e.abrupt("return");case 2:if((t=(null===D||void 0===D?void 0:D[d].joinedPositions[j.pid])||[]).length){e.next=6;break}return U(""),e.abrupt("return");case 6:return e.next=8,Promise.all(t.map(function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var n;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getRewardCalculationData(t.nftId,j.pid);case 2:return n=e.sent,e.abrupt("return",new te.Fraction(n.vestingVolume.toString(),A.a.from(1e12).toString()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:n=e.sent,r=t.reduce(((e,t,r)=>(e[t.nftId.toString()]=n[r].multiply(100).toFixed(2),e)),{}),Z(r),s=t.reduce(((e,t)=>e.add(t.liquidity.toString())),A.a.from(0))||A.a.from(0),o=t.reduce(((e,t,r)=>e.add(n[r].multiply(t.liquidity.toString()))),new te.Fraction(0,1)),s.gt(0)&&(i=o.multiply(100).divide(s.toString()),U(i.toFixed(2)));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[N,j.feeTarget,d,j.pid,D]);var ee=j.endTime>v&&R.some((e=>{var t=z.find((t=>t.nftId.toString()===e.nftId.toString()));return!t||A.a.from(e.liquidity.toString()).gt(A.a.from(t.liquidity.toString()))})),ne=M.some((e=>e.greaterThan(0))),se=!!z.length,oe=j.startTime<=v,ie=mn(),ce=j.endTime<v?0:j.depositedUsd-j.stakedUsd,ae=null===R||void 0===R?void 0:R[0],de=ae&&(L?ae.pool.priceOf(ae.pool.token1):ae.pool.priceOf(ae.pool.token0));return k!==et.a.GRID&&w?Object(me.jsxs)(Kn.n,{isOpen:X&&!!R.length,children:[Object(me.jsxs)(ht.t,{isOpen:X&&!!R.length,children:[Object(me.jsxs)("div",{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(At.b,{currency0:j.token0,currency1:j.token1}),Object(me.jsx)(p.b,{to:"".concat(_.h.ELASTIC_CREATE_POOL,"/").concat(j.token0.isNative?j.token0.symbol:j.token0.address,"/").concat(j.token1.isNative?j.token1.symbol:j.token1.address,"/").concat(j.pool.fee),style:{textDecoration:"none"},children:Object(me.jsxs)(m.d,{fontSize:14,fontWeight:500,children:[Object(pn.d)(f,j.token0.wrapped.address,j.token0.symbol)," -"," ",Object(pn.d)(f,j.token1.wrapped.address,j.token1.symbol)]})}),Object(me.jsxs)(Kn.d,{children:["FEE ",100*j.pool.fee/_.D,"%"]})]}),Object(me.jsxs)(m.b,{marginTop:"0.5rem",alignItems:"center",sx:{gap:"3px"},fontSize:"12px",color:g.subText,width:"max-content",fontWeight:"500",children:[Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(Ct.a,{toCopy:j.poolAddress}),Object(me.jsx)(m.d,{children:Object(Y.A)(f,j.poolAddress,2)})]}),Object(me.jsxs)(m.b,{marginLeft:"12px",onClick:()=>{ie(j.poolAddress)},sx:{cursor:"pointer",gap:"4px"},role:"button",color:g.subText,children:[Object(me.jsx)(l.a,{size:"14px",color:g.subText}),Object(me.jsx)(o.b,{id:"Share"})]})]})]}),Object(me.jsx)(m.d,{textAlign:"left",children:Object(xe.a)(j.tvl)}),Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"flex-start",color:g.apr,sx:{gap:"4px"},children:[(j.farmAPR+j.poolAPR).toFixed(2),"%",Object(me.jsx)(ue.a,{width:"fit-content",placement:"right",text:Object(me.jsx)(Mt.a,{farmAPR:j.farmAPR,poolAPR:j.poolAPR}),children:Object(me.jsx)(_t.w,{size:16,color:g.apr})})]}),Object(me.jsx)(m.b,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",sx:{gap:"8px"},children:j.startTime>v?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{fontSize:"12px",color:g.warning,children:Object(me.jsx)(o.b,{id:"New phase will start in"})}),Object(me.jsx)(m.d,{color:g.warning,children:Object(rt.a)(j.startTime-v)})]}):j.endTime>v?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{color:g.subText,fontSize:"12px",children:Object(me.jsx)(o.b,{id:"Current phase will end in"})}),Object(rt.a)(j.endTime-v)]}):rn.b.includes(j.poolAddress.toLowerCase())?Object(me.jsx)(o.b,{id:"To be extended soon"}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{color:g.subText,fontSize:"12px",children:Object(me.jsx)(o.b,{id:"Ended at"})}),re()(1e3*j.endTime).format("DD-MM-YYYY HH:mm")]})}),Object(me.jsxs)("div",{children:[ce?Object(me.jsxs)(m.b,{justifyContent:"flex-start",color:g.warning,children:[Object(xe.a)(j.depositedUsd),Object(me.jsx)(Ge.a,{placement:"top",color:g.warning,width:"270px",text:Object(me.jsxs)(m.b,{sx:{flexDirection:"column",gap:"6px",fontSize:"12px",lineHeight:"16px",fontWeight:400},children:[Object(me.jsx)(m.d,{as:"span",color:g.subText,children:Object(me.jsx)(o.b,{id:"You still have {0} in liquidity to stake to earn even more farming rewards",values:{0:Object(xe.a)(ce)}})}),Object(me.jsxs)(m.d,{as:"span",color:g.text,children:["Staked: ",Object(xe.a)(j.stakedUsd)]}),Object(me.jsxs)(m.d,{as:"span",color:g.warning,children:["Not staked: ",Object(xe.a)(ce)]})]})})]}):Object(me.jsx)(m.b,{justifyContent:"flex-start",color:g.text,children:j.depositedUsd?Object(xe.a)(j.depositedUsd):"--"}),"0"!==j.feeTarget&&Object(me.jsx)(In,{percent:H})]}),Object(me.jsx)(m.b,{flexDirection:"column",alignItems:"flex-end",sx:{gap:"8px"},children:M.map(((e,t)=>Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(un.a,{text:e.toSignificant(6),maxCharacters:10}),Object(me.jsx)(ue.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(me.jsx)(le.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol||t)))}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},children:[h?Object(me.jsx)(ue.b,{text:i.a._("This farm is currently under maintenance. You can deposit your liquidity into the new farms instead. Your withdrawals are not affected."),placement:"top",width:"300px",children:Object(me.jsx)(Jn,{style:{cursor:"not-allowed",backgroundColor:g.buttonGray,opacity:.4},children:Object(me.jsx)(wt.a,{size:16})})}):c&&ee?oe?Object(me.jsx)(ue.b,{text:i.a._("Stake your liquidity positions (i.e. your NFT tokens) into the farm to start earning rewards"),placement:"top",width:"300px",children:Object(me.jsx)(Jn,{onClick:()=>b("stake",j),children:Object(me.jsx)(wt.a,{size:16})})}):Object(me.jsx)(ue.b,{text:i.a._("Farm has not started"),placement:"top",width:"fit-content",children:Object(me.jsx)(Jn,{style:{cursor:"not-allowed",backgroundColor:g.buttonGray,color:g.border},children:Object(me.jsx)(wt.a,{size:16})})}):Object(me.jsx)(Jn,{disabled:!0,children:Object(me.jsx)(wt.a,{size:16})}),se?Object(me.jsx)(ue.b,{text:i.a._("Unstake your liquidity positions (i.e. your NFT tokens) from the farm"),placement:"top",width:"300px",children:Object(me.jsx)(Jn,{colorScheme:wn.Red,onClick:()=>b("unstake",j),children:Object(me.jsx)(kt.a,{size:16})})}):Object(me.jsx)(Jn,{colorScheme:wn.Red,disabled:!se,children:Object(me.jsx)(kt.a,{size:16})}),ne?Object(me.jsx)(ue.b,{text:i.a._("Harvest"),placement:"top",width:"fit-content",children:Object(me.jsx)(Jn,{colorScheme:wn.APR,onClick:u,children:Object(me.jsx)(it,{})})}):Object(me.jsx)(Jn,{colorScheme:wn.Gray,disabled:!0,children:Object(me.jsx)(it,{})}),!!R.length&&Object(me.jsx)(Jn,{colorScheme:wn.Gray,onClick:()=>$((e=>!e)),children:Object(me.jsx)(Ye.a,{style:{transform:"rotate(".concat(X?"-180deg":"0",")"),transition:"transform 0.2s"}})})]})]}),X&&!!R.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{fontSize:"12px",fontWeight:"500",padding:"0 16px 12px",sx:{gap:"4px"},children:[Object(me.jsxs)(m.d,{color:g.subText,children:[Object(me.jsx)(o.b,{id:"Current Price"}),":"]}),Object(me.jsx)(m.d,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:de?Object(me.jsx)(o.b,{id:"{0} {1} per {2}",values:{0:de.toSignificant(10),1:de.quoteCurrency.symbol,2:de.baseCurrency.symbol}}):"--"}),Object(me.jsx)("span",{onClick:()=>P((e=>!e)),style:{marginLeft:"2px",cursor:"pointer"},children:Object(me.jsx)(_t.K,{size:14})})]}),Object(me.jsx)(Kn.h,{children:de&&R.map((e=>Object(me.jsx)(Qn,{farmAddress:d,pool:j,price:de,isRevertPrice:L,nftInfo:e,tokenPrices:O,targetPercent:J[e.nftId.toString()]},e.nftId.toString())))})]})]}):Object(me.jsx)($n,{pool:j,rewardValue:F,rewardPendings:M,onHarvest:u,onStake:()=>b("stake",j),disableStake:!c||!ee||!oe,onUnstake:()=>b("unstake",j),disableUnstake:!se,farmAddress:d,tokenPrices:O,targetPercent:H,targetPercentByNFT:J,depositedPositions:R})},tr=ae.default.div.withConfig({displayName:"ElasticFarmGroup__FarmContent",componentId:"sc-1rlnedo-0"})(["background:",";border:1px solid ",";border-radius:20px;overflow:hidden;"],(e=>e.theme.background),(e=>e.theme.border));!function(e){e.PID="pid",e.STAKED_TVL="staked_tvl",e.APR="apr",e.END_TIME="end_time",e.MY_DEPOSIT="my_deposit",e.MY_REWARD="my_reward"}(Bn||(Bn={})),function(e){e.ASC="asc",e.DESC="desc"}(Wn||(Wn={}));var nr=e=>{var t,n=e.address,c=e.onOpenModal,d=e.pools,l=e.userInfo,j=Object(pe.a)(),b=Object(E.b)(),u=b.account,h=b.chainId,O=Object(x.a)("(min-width: 1000px)"),f=Object(p.d)(),g=Object(s.a)(f,2),v=g[0],y=g[1],k=v.get("orderBy")||Bn.MY_DEPOSIT,w=v.get("orderDirection")||Wn.DESC,C=Object(sn.b)().poolFeeLast24h,S=d.map((e=>[e.token0.wrapped.address,e.token1.wrapped.address,...e.rewardTokens.map((e=>e.wrapped.address))])).flat(),A=Object(Q.a)([...new Set(S)]),L=(null===l||void 0===l?void 0:l.depositedPositions.reduce(((e,t)=>e+Number(t.amount0.toExact())*(A[t.amount0.currency.wrapped.address]||0)+Number(t.amount1.toExact())*(A[t.amount1.currency.wrapped.address]||0)),0))||0,P=(null===l||void 0===l?void 0:l.depositedPositions.reduce(((e,t)=>{var n=t.amount0.currency.address,r=t.amount1.currency.address;return e[n]?e[n]=e[n].add(t.amount0):e[n]=t.amount0,e[r]?e[r]=e[r].add(t.amount1):e[r]=t.amount1,e}),{}))||{},D=Object.values((null===l||void 0===l?void 0:l.rewardPendings)||{}).flat(),z=D.reduce(((e,t)=>e+Number(t.toExact())*(A[t.currency.wrapped.address]||0)),0)||0,R=D.reduce(((e,t)=>{var n=t.currency.wrapped.address;return e[n]?e[n]=e[n].add(t):e[n]=t,e}),{})||{},M=d.map((e=>{var t=e.stakedTvl?e.stakedTvl:A[e.token0.wrapped.address]*Number(e.tvlToken0.toExact())+A[e.token1.wrapped.address]*Number(e.tvlToken1.toExact()),n=e.totalRewards.reduce(((e,t)=>e+Number(t.toExact())*A[t.currency.wrapped.address]),0),s=(e.endTime-e.startTime)/86400,o=e.apr?e.apr:36500*(n||0)/s/e.poolTvl,i=e.poolAPR||0;!i&&e.feesUSD&&C[e.poolAddress]&&(i=100*(e.feesUSD-C[e.poolAddress])*365/e.poolTvl);var c=(null===l||void 0===l?void 0:l.joinedPositions[e.pid])||[],a=((null===l||void 0===l?void 0:l.depositedPositions.filter((t=>e.poolAddress.toLowerCase()===Object(Zt.computePoolAddress)({factoryAddress:ln.h[Object(ln.q)(h)?h:te.ChainId.MAINNET].elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:ln.h[Object(ln.q)(h)?h:te.ChainId.MAINNET].elastic.initCodeHash}).toLowerCase())))||[]).reduce(((e,t)=>e+Number(t.amount1.toExact())*(A[t.pool.token1.address.toLowerCase()]||0)+Number(t.amount0.toExact())*(A[t.pool.token0.address.toLowerCase()]||0)),0),d=c.reduce(((e,t)=>e+Number(t.amount1.toExact())*(A[t.pool.token1.address.toLowerCase()]||0)+Number(t.amount0.toExact())*(A[t.pool.token0.address.toLowerCase()]||0)),0),j=((null===l||void 0===l?void 0:l.rewardPendings[e.pid])||e.rewardTokens.map((e=>te.CurrencyAmount.fromRawAmount(e,0)))).reduce(((e,t)=>e+ +t.toExact()*A[t.currency.wrapped.address]),0);return Object(r.a)({tvl:t,poolAPR:i,farmAPR:o,depositedUsd:a,stakedUsd:d,rewardUSD:j},e)})).sort(((e,t)=>{switch(k){case Bn.PID:return w===Wn.DESC?+t.pid-+e.pid:+e.pid-+t.pid;case Bn.STAKED_TVL:return w===Wn.DESC?t.tvl-e.tvl:e.tvl-t.tvl;case Bn.APR:return w===Wn.DESC?t.farmAPR+t.poolAPR-e.farmAPR-e.poolAPR:e.farmAPR+e.poolAPR-t.farmAPR-t.poolAPR;case Bn.END_TIME:return w===Wn.DESC?t.endTime-e.endTime:e.endTime-t.endTime;case Bn.MY_DEPOSIT:return w===Wn.DESC?t.depositedUsd===e.depositedUsd?t.farmAPR+t.poolAPR-e.farmAPR-e.poolAPR:t.depositedUsd-e.depositedUsd:e.depositedUsd-t.depositedUsd;case Bn.MY_REWARD:return w===Wn.DESC?t.rewardUSD-e.rewardUSD:e.rewardUSD-t.rewardUSD;default:return w===Wn.DESC?+t.pid-+e.pid:+e.pid-+t.pid}})),F=Object(sn.c)(),N=((null===l||void 0===l?void 0:l.depositedPositions.map((e=>e.nftId.toString())))||[]).some((e=>F.includes(e))),B=Object(J.E)(),W=Object(q.p)(),H=Object(bn.c)(W,"isApprovedForAll",[u||_.eb,n]),V=null===H||void 0===H||null===(t=H.result)||void 0===t?void 0:t[0],Y=Object(sn.d)(n).approve,G=Object(a.useState)(""),Z=Object(s.a)(G,2),K=Z[0],X=Z[1],$=Object(U.e)(K),ee=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=5;break}return e.next=3,Y();case 3:t=e.sent,X(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=v.get("type")||"active",re=Object(x.a)("(max-width: ".concat(tt.i.upToExtraSmall,"px)")),se=Object($e.z)(),oe=Object(s.a)(se,1)[0];if(!d)return null;var ie=Object.values((null===l||void 0===l?void 0:l.rewardPendings)||{}).some((e=>e.some((e=>e.greaterThan("0"))))),ce=!(null===l||void 0===l||!l.depositedPositions.length),ae=e=>{var t=k!==e?Wn.DESC:w===Wn.DESC?Wn.ASC:Wn.DESC;v.set("orderDirection",t),v.set("orderBy",e),y(v)},be=()=>Object(me.jsxs)(ht.s,{children:[Object(me.jsx)(m.b,{"grid-area":"token_pairs",alignItems:"center",justifyContent:"flex-start",children:Object(me.jsxs)(ht.f,{children:[Object(me.jsx)(o.b,{id:"Pool"}),k===Bn.PID&&(w===Wn.DESC?Object(me.jsx)(cn.a,{size:12}):w===Wn.ASC?Object(me.jsx)(an.a,{size:12}):null)]})}),Object(me.jsx)(m.b,{"grid-area":"liq",alignItems:"center",justifyContent:"flex-start",children:Object(me.jsxs)(ht.f,{onClick:()=>{ae(Bn.STAKED_TVL)},children:[Object(me.jsx)(o.b,{id:"Staked TVL"}),k===Bn.STAKED_TVL&&(w===Wn.DESC?Object(me.jsx)(cn.a,{size:12}):w===Wn.ASC?Object(me.jsx)(an.a,{size:12}):null)]})}),Object(me.jsxs)(m.b,{"grid-area":"apy",alignItems:"center",justifyContent:"flex-start",children:[Object(me.jsxs)(ht.f,{onClick:()=>{ae(Bn.APR)},children:[Object(me.jsx)(o.b,{id:"AVG APR"}),k===Bn.APR&&(w===Wn.DESC?Object(me.jsx)(cn.a,{size:12}):w===Wn.ASC?Object(me.jsx)(an.a,{size:12}):null)]}),Object(me.jsx)(Ge.a,{text:i.a._("Average estimated return based on yearly trading fees from the pool & additional bonus rewards if you participate in the farm")})]}),Object(me.jsxs)(m.b,{"grid-area":"end",alignItems:"center",justifyContent:"flex-start",children:[Object(me.jsxs)(ht.f,{onClick:()=>{ae(Bn.END_TIME)},children:[Object(me.jsx)(o.b,{id:"Ending In"}),k===Bn.END_TIME&&(w===Wn.DESC?Object(me.jsx)(cn.a,{size:12}):w===Wn.ASC?Object(me.jsx)(an.a,{size:12}):null)]}),Object(me.jsx)(Ge.a,{text:i.a._("Once a farm has ended, you will continue to receive returns through LP Fees")})]}),Object(me.jsx)(m.b,{"grid-area":"staked_balance",alignItems:"center",justifyContent:"flex-start",onClick:()=>{ae(Bn.MY_DEPOSIT)},children:Object(me.jsx)(je.a,{padding:"8px 0",hideIcon:!0,content:Object(me.jsxs)(ht.f,{children:[Object(me.jsx)(m.b,{flex:1,children:"My Deposit | Target Volume"})," ",k===Bn.MY_DEPOSIT&&(w===Wn.DESC?Object(me.jsx)(cn.a,{size:12}):w===Wn.ASC?Object(me.jsx)(an.a,{size:12}):null),Object(me.jsx)(on.a,{size:12,style:{marginLeft:"4px"}})]}),dropdownContent:Object(me.jsx)(m.d,{color:j.subText,fontSize:"12px",maxWidth:"400px",lineHeight:1.5,children:Object(me.jsx)(o.b,{id:"Some farms have a target trading volume (represented by the progress bar) to determine the amount of reward you will earn. The more trading volume your liquidity positions support, the more rewards per second you will make.<0/><1/>Once you have fully unlocked the target volume, you will start earning the maximum rewards per second. Adjusting the staked amount will recalculate the target volume.<2/>Learn more <3>here.</3>",components:{0:Object(me.jsx)("br",{}),1:Object(me.jsx)("br",{}),2:Object(me.jsx)("br",{}),3:Object(me.jsx)(tt.c,{href:"https://docs.kyberswap.com/guides/farming-mechanisms"})}})})})}),Object(me.jsx)(m.b,{"grid-area":"reward",alignItems:"center",justifyContent:"flex-end",onClick:()=>{ae(Bn.MY_REWARD)},children:Object(me.jsxs)(ht.f,{children:[Object(me.jsx)(o.b,{id:"My Rewards"}),k===Bn.MY_REWARD&&(w===Wn.DESC?Object(me.jsx)(cn.a,{size:12}):w===Wn.ASC?Object(me.jsx)(an.a,{size:12}):null)]})}),Object(me.jsx)(m.b,{"grid-area":"action",alignItems:"center",justifyContent:"flex-end",children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Actions"})})})]}),he=Math.floor(Date.now()/1e3),Oe=M.filter((e=>e.endTime>=he)),fe=M.filter((e=>e.endTime<he)),ge=M.filter((e=>e.startTime>he)),ve=Oe.filter((e=>e.startTime<=he)),ye=e=>e.map((e=>Object(me.jsx)(er,{isUserAffectedByFarmIssue:N,isApprovedForAll:V,pool:e,onOpenModal:c,fairlaunchAddress:n,onHarvest:()=>{c("harvest",e)},tokenPrices:A},e.id)));return Object(me.jsxs)(tr,{"data-testid":"farm-block",children:[Object(me.jsxs)(m.b,{justifyContent:"space-between",alignItems:"center",padding:re?"1rem":"1.25rem 24px",children:[Object(me.jsx)(m.d,{fontSize:"16px",fontWeight:"500",color:j.subText,children:Object(me.jsx)(o.b,{id:"Farming Contract"})}),!V&&null!==H&&void 0!==H&&H.loading?Object(me.jsx)(jn.a,{}):Object(me.jsxs)(m.b,{sx:{gap:"12px"},alignItems:"center",children:[u?V||"ended"===ne?null:K&&$?Object(me.jsxs)(de.i,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:ee,disabled:!0,children:[Object(me.jsx)(on.a,{width:"16px"}),Object(me.jsx)(m.d,{fontSize:"14px",marginLeft:"8px",children:Object(me.jsx)(jn.a,{children:Object(me.jsx)(o.b,{id:"Approving"})})})]}):Object(me.jsx)(ue.b,{text:Object(me.jsx)(m.d,{color:j.subText,as:"span",children:Object(me.jsx)(o.b,{id:"Authorize the farming contract so it can access your liquidity positions (i.e. your NFT tokens). Then deposit your liquidity positions using the <0>Deposit</0> button",components:{0:Object(me.jsx)(m.d,{as:"span",color:j.text})}})}),width:"400px",placement:"top",children:Object(me.jsxs)(de.i,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:ee,children:[Object(me.jsx)(on.a,{width:"16px"}),Object(me.jsx)(m.d,{fontSize:"14px",marginLeft:"8px",children:K&&$?Object(me.jsx)(jn.a,{children:Object(me.jsx)(o.b,{id:"Approving"})}):O?Object(me.jsx)(o.b,{id:"Approve Farming Contract"}):Object(me.jsx)(o.b,{id:"Approve"})})]})}):Object(me.jsx)(Gn,{onClick:B}),!!N&&Object(me.jsx)(Zn,{onClick:()=>c("forcedWithdraw")})]})]}),Object(me.jsxs)(Kn.j,{children:[Object(me.jsxs)(Kn.b,{children:[Object(me.jsxs)(Kn.m,{children:[!re&&Object(me.jsx)(dn.a,{width:36,height:36,color:j.subText}),Object(me.jsxs)(Kn.l,{children:[Object(me.jsxs)(m.d,{fontSize:"12px",color:j.subText,children:[Object(me.jsx)(o.b,{id:"Deposited Liquidity"}),Object(me.jsx)(Ge.a,{text:i.a._("Total value of liquidity positions (i.e. NFT tokens) you've deposited into the farming contract"),placement:"top"})]}),Object(me.jsx)(je.a,{style:{padding:"0",color:j.text},content:u?Object(me.jsx)(m.d,{as:"span",fontSize:"20px",fontWeight:"500",children:Object(xe.a)(L)}):"--",hideIcon:!u||!L,dropdownContent:Object.values(P).some((e=>e.greaterThan(0)))?Object(me.jsx)(ot.a,{children:Object.values(P).map((e=>e.greaterThan(0)&&Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:e.currency,size:"16px"}),Object(me.jsxs)(m.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.address)))}):""})]})]}),Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"16px"},width:re?"100%":void 0,children:[Object(me.jsx)(Un,{style:{flex:1},disabled:!u||!V||"ended"===ne,onClick:()=>c("deposit")}),Object(me.jsx)(Vn,{style:{flex:1},disabled:!u||!ce||!V,onClick:()=>c("withdraw")})]})]}),Object(me.jsxs)(Kn.k,{children:[Object(me.jsxs)(Kn.m,{children:[!re&&Object(me.jsx)(it,{width:36,height:36,color:j.subText}),Object(me.jsxs)(Kn.l,{children:[Object(me.jsx)(m.d,{fontSize:re?"14px":"12px",color:j.subText,fontWeight:"500",children:Object(me.jsx)(o.b,{id:"Available Rewards"})}),Object(me.jsx)(je.a,{style:{padding:"0"},content:u&&z?Object(me.jsx)(m.d,{as:"span",fontSize:"20px",fontWeight:"500",color:j.text,children:Object(xe.a)(z)}):"--",hideIcon:!u||!z,dropdownContent:Object.values(R).length?Object(me.jsx)(ot.a,{children:Object.values(R).map((e=>e.greaterThan(0)&&Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:e.currency,size:"16px"}),Object(me.jsxs)(m.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.wrapped.address)))}):""})]})]}),Object(me.jsx)(Yn,{onClick:()=>c("harvest"),disabled:!u||!ie})]})]}),ne===_.J.MY_FARMS?Object(me.jsxs)(me.Fragment,{children:[!!Oe.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{fontSize:"16px",fontWeight:"500",color:j.subText,marginTop:"24px",paddingX:re?"1rem":"24px",children:Object(me.jsx)(o.b,{id:"Active"})}),Object(me.jsxs)(Kn.c,{gridMode:oe===et.a.GRID||!O,children:[O&&oe===et.a.LIST&&be(),ye(Oe)]})]}),!!fe.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{fontSize:"16px",fontWeight:"500",color:j.subText,marginTop:"24px",paddingX:re?"1rem":"24px",children:Object(me.jsx)(o.b,{id:"Ended"})}),Object(me.jsxs)(Kn.c,{gridMode:oe===et.a.GRID||!O,children:[O&&oe===et.a.LIST&&be(),ye(fe)]})]})]}):Object(me.jsxs)(me.Fragment,{children:[!!ge.length&&Object(me.jsx)(m.d,{fontSize:"16px",fontWeight:"500",color:j.subText,marginTop:"24px",paddingX:re?"1rem":"24px",children:Object(me.jsx)(o.b,{id:"Active Farms"})}),Object(me.jsxs)(Kn.c,{gridMode:oe===et.a.GRID||!O,children:[O&&oe===et.a.LIST&&be(),ye(ne===_.J.ACTIVE?ve:fe)]}),!!ge.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{fontSize:"16px",fontWeight:"500",color:j.warning,marginTop:"24px",paddingX:re?"1rem":"24px",children:Object(me.jsx)(o.b,{id:"Upcoming Farms"})}),Object(me.jsxs)(Kn.c,{gridMode:oe===et.a.GRID||!O,children:[O&&oe===et.a.LIST&&be(),ye(ge)]})]})]})]})},rr=n("./src/components/CheckBox.tsx"),sr=n("./src/hooks/usePools.ts"),or=n("./src/hooks/useProAmmPositions.ts"),ir=n("./src/utils/wrappedCurrency.ts"),cr=e=>{var t=e.position,n=e.onChange,r=e.selected,o=t.token0,i=t.token1,c=t.fee,d=t.liquidity,l=t.tickLower,j=t.tickUpper,b=Object(Lt.j)(o),u=Object(Lt.j)(i),p=b?Object(ir.a)(b):void 0,h=u?Object(ir.a)(u):void 0,O=Object(Q.a)([o,i]),f=Object(sr.b)(null!==p&&void 0!==p?p:void 0,null!==h&&void 0!==h?h:void 0,c),g=Object(s.a)(f,2)[1],v=Object(a.useMemo)((()=>{if(g)return new Zt.Position({pool:g,liquidity:d.toString(),tickLower:l,tickUpper:j})}),[d,g,l,j]),y=A.a.from(t.liquidity.toString()).eq(0),k=v&&(v.pool.tickCurrent<t.tickLower||v.pool.tickCurrent>=t.tickUpper),w=((null===O||void 0===O?void 0:O[o])||0)*parseFloat((null===v||void 0===v?void 0:v.amount0.toExact())||"0")+((null===O||void 0===O?void 0:O[i])||0)*parseFloat((null===v||void 0===v?void 0:v.amount1.toExact())||"0"),C=Object(x.a)("(min-width: 768px)");return Object(me.jsxs)(bt,{children:[Object(me.jsx)(rr.a,{onChange:e=>{n(e.currentTarget.checked,v)},checked:r}),C?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.b,{alignItems:"center",children:Object(me.jsx)(m.d,{children:t.tokenId.toString()})}),Object(me.jsx)(m.d,{children:Object(xe.a)(w)}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===v||void 0===v?void 0:v.amount0.toSignificant(6),Object(me.jsx)(le.a,{size:"16px",currency:p})]}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===v||void 0===v?void 0:v.amount1.toSignificant(6),Object(me.jsx)(le.a,{size:"16px",currency:h})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(An.a,{removed:y,inRange:!k})})]}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(m.d,{marginRight:"4px",children:t.tokenId.toString()}),Object(me.jsx)(At.b,{currency0:p,currency1:h,size:16}),Object(me.jsx)(An.a,{removed:y,inRange:!k,hideText:!0})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(je.a,{content:Object(me.jsx)(m.d,{children:Object(xe.a)(w)}),dropdownContent:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(me.jsx)(le.a,{size:"16px",currency:p}),null===v||void 0===v?void 0:v.amount0.toSignificant(6)," ",null===v||void 0===v?void 0:v.amount0.currency.symbol]}),Object(me.jsxs)(m.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(me.jsx)(le.a,{size:"16px",currency:h}),null===v||void 0===v?void 0:v.amount1.toSignificant(6)," ",null===v||void 0===v?void 0:v.amount1.currency.symbol]})]})})})]})]})};var ar,dr=function(e){var t,n=e.selectedFarmAddress,r=e.onDismiss,i=Object(Pt.a)().type,c=void 0===i?"active":i,d=Object(E.b)(),l=d.account,j=d.networkInfo,b=Object(pe.a)(),u=Object(a.useRef)(),p=Object(x.a)("(min-width: 768px)"),h=Object(sn.b)().farms,O=null===h||void 0===h?void 0:h.find((e=>e.id.toLowerCase()===n.toLowerCase())),f=(null===O||void 0===O?void 0:O.pools.filter((e=>"active"===c?e.endTime>+new Date/1e3:e.endTime<+new Date/1e3)).map((e=>e.poolAddress.toLowerCase())))||[],g=Object(a.useState)([]),v=Object(s.a)(g,2),y=v[0],k=v[1],w=Object(a.useRef)({}),C=Object(sn.d)(n).deposit,A=Object(or.b)(l),L=A.positions,D=A.loading,z=Object(sn.e)(L||[],f),R=z.filterOptions,M=z.activeFilter,F=z.setActiveFilter,N=z.eligiblePositions,B=Object(a.useState)(!1),W=Object(s.a)(B,2),H=W[0],q=W[1],U=Object(a.useRef)(null);Object(at.a)(U,(()=>q(!1))),Object(a.useEffect)((()=>{u.current&&(0===y.length?(u.current.checked=!1,u.current.indeterminate=!1):y.length>0&&null!==N&&void 0!==N&&N.length&&y.length<(null===N||void 0===N?void 0:N.length)?(u.current.checked=!1,u.current.indeterminate=!0):(u.current.checked=!0,u.current.indeterminate=!1))}),[y.length,N]);var V=Object(P.c)().mixpanelHandler;if(!n)return null;var Y=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(y,y.map((e=>w.current[e.tokenId.toString()])));case 2:e.sent&&N.filter((e=>y.find((t=>t.tokenId.toString()===e.tokenId.toString())))).forEach((e=>{V(P.a.ELASTIC_DEPOSIT_LIQUIDITY_COMPLETED,{token_1:e.token0,token_2:e.token1})})),r();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=Object(me.jsxs)(ut,{role:"button",onClick:()=>q((e=>!e)),children:[null===(t=R.find((e=>e.code===M)))||void 0===t?void 0:t.value,Object(me.jsx)(mt,{rotate:H}),H&&Object(me.jsx)(pt,{ref:U,children:R.map((e=>Object(me.jsx)(xt,{role:"button",onClick:t=>{t.stopPropagation(),t.preventDefault(),F(e.code),q((e=>!e))},children:e.value},e.code)))})]});return Object(me.jsx)(ct.b,{isOpen:!!O,onDismiss:r,maxHeight:80,width:"80vw",maxWidth:"808px",children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsx)(lt,{children:Object(me.jsx)(o.b,{id:"Deposit your liquidity"})}),Object(me.jsxs)(m.b,{sx:{gap:"12px"},children:[p&&G,Object(me.jsx)(de.d,{onClick:r,width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:b.text})})]})]}),Object(me.jsx)(m.d,{fontSize:"12px",marginTop:"20px",color:b.subText,children:Object(me.jsx)(o.b,{id:"Deposit your liquidity positions (NFT tokens) first to enable farming. Only your in range liquidity positions (NFT tokens) will earn you farming rewards"})}),!p&&G,D?Object(me.jsx)(S.a,{}):null!==N&&void 0!==N&&N.length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(jt,{children:[Object(me.jsx)(rr.a,{ref:u,onChange:e=>{e.currentTarget.checked?k(N||[]):k([])}}),Object(me.jsx)(m.d,{textAlign:"left",children:p?"ID":"ID | Token | Status"}),Object(me.jsx)(m.d,{textAlign:p?"left":"right",children:Object(me.jsx)(o.b,{id:"Your liquidity"})}),p&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{textAlign:"right",children:"Token 1"}),Object(me.jsx)(m.d,{textAlign:"right",children:"Token 2"}),Object(me.jsx)(m.d,{textAlign:"right",children:"Status"})]})]}),Object(me.jsx)("div",{style:{overflowY:"scroll",minHeight:"100px"},children:N.map((e=>Object(me.jsx)(cr,{selected:y.some((t=>t.tokenId.toString()===e.tokenId.toString())),position:e,onChange:(t,n)=>{var r=e.tokenId.toString();n&&(w.current[r]=n),k(t?t=>[...t,e]:e=>e.filter((e=>e.tokenId.toString()!==r)))}},e.tokenId.toString())))}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(me.jsx)("div",{}),Object(me.jsx)(de.i,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:Y,disabled:!y.length,children:Object(me.jsx)(o.b,{id:"Deposit Selected"})})]})]}):Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"center",padding:"16px",color:b.subText,marginTop:"40px",flexDirection:"column",children:[Object(me.jsx)(on.a,{size:"48px"}),Object(me.jsx)(m.d,{fontSize:14,textAlign:"center",marginTop:"16px",maxWidth:"480px",lineHeight:1.5,children:Object(me.jsx)(o.b,{id:"You dont have any relevant liquidity positions yet.<0/> Add liquidity to the farming pools first. Check out our <1>Pools.</1>",components:{0:Object(me.jsx)("br",{}),1:Object(me.jsx)(tt.k,{to:"".concat(_.h.POOLS,"/").concat(j.route)})}})})]})]})})},lr=n("./src/state/farms/elastic/types.ts"),jr=e=>Object(ae.css)([""," ",""],e?"grid-template-columns: 18px 120px repeat(2, 1fr);":"grid-template-columns: 18px 120px repeat(3, 1fr);",(e=>e.theme.mediaWidth.upToSmall(ar||(ar=Object(ee.a)(["\n        grid-template-columns: 18px 120px 1fr;\n      "]))))),br=Object(ae.default)(Ye.a).withConfig({displayName:"StakeModal__DropdownIcon",componentId:"sc-1r43t1n-0"})(["transition:transform 300ms;color:",";&:hover{transform:rotate(180deg);}"],(e=>e.theme.text)),ur=ae.default.div.withConfig({displayName:"StakeModal__ScrollContainer",componentId:"sc-1r43t1n-1"})(["display:flex;flex-direction:column;width:100%;min-height:90px;overflow-y:auto;overflow-x:hidden;::-webkit-scrollbar{display:unset;width:8px;border-radius:999px;}::-webkit-scrollbar-track{background:transparent;border-radius:999px;}::-webkit-scrollbar-thumb{background:",";border-radius:999px;}"],(e=>e.theme.disableText)),pr=Object(ae.default)(jt).withConfig({displayName:"StakeModal__StakeTableHeader",componentId:"sc-1r43t1n-2"})(["",""],(e=>{var t=e.isUnstake;return jr(t)})),xr=Object(ae.default)(bt).withConfig({displayName:"StakeModal__StakeTableRow",componentId:"sc-1r43t1n-3"})(["",""],(e=>{var t=e.isUnstake;return jr(t)})),mr=e=>{var t=e.position,n=e.onChange,r=e.selected,s=e.type,o=Object(x.a)("(min-width: 768px)"),i=Object(Q.a)([t.available.pool.token0.address,t.available.pool.token1.address]),c=t.available.pool.tickCurrent<t.available.tickLower||t.available.pool.tickCurrent>=t.available.tickUpper,a=i[t.available.pool.token0.address]||0,d=i[t.available.pool.token1.address]||0,l=a*parseFloat(t.available.amount0.toExact()||"0")+d*parseFloat(t.available.amount1.toExact()||"0"),j=a*parseFloat(t.staked.amount0.toExact()||"0")+d*parseFloat(t.staked.amount1.toExact()||"0");return Object(me.jsxs)(xr,{isUnstake:"unstake"===s,children:[Object(me.jsx)(rr.a,{onChange:e=>{n(e.currentTarget.checked)},checked:r}),o?Object(me.jsx)(m.b,{alignItems:"center",children:Object(me.jsx)(m.d,{children:t.available.nftId.toString()})}):Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(m.d,{marginRight:"4px",children:t.available.nftId.toString()}),Object(me.jsx)(At.b,{currency0:t.available.pool.token0,currency1:t.available.pool.token1,size:16}),Object(me.jsx)(An.a,{removed:!1,inRange:!c,hideText:!0})]}),"stake"===s&&Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",fontSize:"12px",children:[Object(xe.a)(l),Object(me.jsx)(ue.a,{noArrow:!0,placement:"bottom",width:"fit-content",text:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:t.available.amount0.currency,size:"16px"}),Object(me.jsx)(m.d,{fontSize:12,marginLeft:"4px",children:t.available.amount0.toSignificant(8)})]}),Object(me.jsxs)(m.b,{alignItems:"center",marginTop:"8px",children:[Object(me.jsx)(le.a,{currency:t.available.amount1.currency,size:"16px"}),Object(me.jsx)(m.d,{fontSize:12,marginLeft:"4px",children:t.available.amount1.toSignificant(8)})]})]}),children:Object(me.jsx)(br,{})})]}),("unstake"===s||o)&&Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",fontSize:"12px",children:[Object(xe.a)(j),Object(me.jsx)(ue.a,{noArrow:!0,placement:"bottom",width:"fit-content",text:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:t.available.amount0.currency,size:"16px"}),Object(me.jsx)(m.d,{fontSize:12,marginLeft:"4px",children:t.staked.amount0.toSignificant(8)})]}),Object(me.jsxs)(m.b,{alignItems:"center",marginTop:"8px",children:[Object(me.jsx)(le.a,{currency:t.available.amount1.currency,size:"16px"}),Object(me.jsx)(m.d,{fontSize:12,marginLeft:"4px",children:t.staked.amount1.toSignificant(8)})]})]}),children:Object(me.jsx)(br,{})})]}),o&&Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(An.a,{removed:!1,inRange:!c})})]})};var hr=function(e){var t=e.selectedFarmAddress,n=e.onDismiss,r=e.poolId,i=e.poolAddress,c=e.type,d=Object(pe.a)(),l=Object(a.useRef)(),j=Object(E.b)(),b=j.chainId,u=j.networkInfo,p=Object(sn.b)(),h=p.farms,O=p.userFarmInfo,f=null===h||void 0===h?void 0:h.find((e=>e.id.toLowerCase()===t.toLowerCase())),g=Object(sn.d)(t),v=g.stake,y=g.unstake,k=null===f||void 0===f?void 0:f.pools.find((e=>Number(e.pid)===Number(r))),w=k||{},C=w.token0,S=w.token1,L=Object(a.useMemo)((()=>{var e,n;if(!Object(ln.q)(b))return[];var s=(null===O||void 0===O||null===(e=O[t])||void 0===e||null===(n=e.joinedPositions)||void 0===n?void 0:n[r])||[];return((null===O||void 0===O?void 0:O[t].depositedPositions.filter((e=>(null===k||void 0===k?void 0:k.poolAddress.toLowerCase())===Object(Zt.computePoolAddress)({factoryAddress:ln.h[b].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:ln.h[b].elastic.initCodeHash}).toLowerCase())))||[]).map((e=>{var t,n=A.a.from((null===(t=s.find((t=>t.nftId.toString()===e.nftId.toString())))||void 0===t?void 0:t.liquidity.toString())||0),r=A.a.from(e.liquidity.toString()).sub(n);return{available:new lr.a({nftId:e.nftId,pool:e.pool,liquidity:r.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper}),poolAddress:i,staked:new lr.a({nftId:e.nftId,pool:e.pool,liquidity:n.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper})}})).filter((e=>"stake"===c?A.a.from(e.available.liquidity.toString()).gt(A.a.from(0)):A.a.from(e.staked.liquidity.toString()).gt(A.a.from(0))))}),[c,k,b,r,i,t,O]),D=Object(a.useState)([]),z=Object(s.a)(D,2),R=z[0],M=z[1],F=Object(P.c)().mixpanelHandler;Object(a.useEffect)((()=>{l.current&&(0===R.length?(l.current.checked=!1,l.current.indeterminate=!1):R.length>0&&null!==L&&void 0!==L&&L.length&&R.length<(null===L||void 0===L?void 0:L.length)?(l.current.checked=!1,l.current.indeterminate=!0):(l.current.checked=!0,l.current.indeterminate=!1))}),[R.length,L]);var N=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=R.map((e=>({nftId:e.available.nftId,position:e.available,poolAddress:e.poolAddress,stakedLiquidity:e.staked.liquidity.toString()}))),"stake"!==c){e.next=8;break}return e.next=4,v(A.a.from(r),t);case 4:e.sent&&F(P.a.ELASTIC_STAKE_LIQUIDITY_COMPLETED,{token_1:null===C||void 0===C?void 0:C.symbol,token_2:null===S||void 0===S?void 0:S.symbol}),e.next=12;break;case 8:return e.next=10,y(A.a.from(r),t);case 10:e.sent&&F(P.a.ELASTIC_UNSTAKE_LIQUIDITY_COMPLETED,{token_1:null===C||void 0===C?void 0:C.symbol,token_2:null===S||void 0===S?void 0:S.symbol});case 12:n();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object(x.a)("(min-width: 768px)");return Object(me.jsx)(ct.b,{isOpen:!!f,onDismiss:n,maxHeight:80,maxWidth:"808px",children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsxs)(lt,{display:"flex",children:[Object(me.jsx)(At.b,{size:24,currency0:C,currency1:S}),"stake"===c?Object(me.jsx)(o.b,{id:"Stake your liquidity"}):Object(me.jsx)(o.b,{id:"Unstake your liquidity"})]}),Object(me.jsx)(m.b,{sx:{gap:"12px"},children:Object(me.jsx)(de.d,{onClick:n,width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:d.text})})})]}),Object(me.jsx)(m.d,{fontSize:"12px",marginTop:"20px",color:d.subText,children:"stake"===c?Object(me.jsx)(o.b,{id:"Stake your deposited liquidity positions (NFT tokens) into the farms to start earning rewards. Only your in-range positions will earn rewards"}):Object(me.jsx)(o.b,{id:"Unstake your liquidity positions (NFT tokens) from the farm. You will no longer earn rewards on these positions once unstaked"})}),L.length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(pr,{isUnstake:"unstake"===c,children:[Object(me.jsx)(rr.a,{ref:l,onChange:e=>{e.currentTarget.checked?M(L||[]):M([])}}),Object(me.jsx)(m.d,{textAlign:"left",children:B?"ID":"ID | Token | Status"}),"stake"===c&&Object(me.jsx)(m.d,{textAlign:"right",children:Object(me.jsx)(o.b,{id:"Available Balance"})}),("unstake"===c||B)&&Object(me.jsx)(m.d,{textAlign:"right",children:Object(me.jsx)(o.b,{id:"Staked Balance"})}),B&&Object(me.jsx)(m.d,{textAlign:"right",children:Object(me.jsx)(o.b,{id:"Status"})})]}),Object(me.jsx)(ur,{children:L.map((e=>Object(me.jsx)(mr,{type:c,selected:R.map((e=>e.available.nftId.toString())).includes(e.available.nftId.toString()),position:e,onChange:t=>{M(t?t=>[...t,e]:t=>t.filter((t=>t.available.nftId.toString()!==e.available.nftId.toString())))}},e.available.nftId.toString())))}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(me.jsx)("div",{}),Object(me.jsx)(de.i,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:N,disabled:!R.length,children:"stake"===c?Object(me.jsx)(o.b,{id:"Stake Selected"}):Object(me.jsx)(o.b,{id:"Unstake Selected"})})]})]}):"stake"===c?Object(me.jsxs)(m.b,{sx:{flexDirection:"column",justifyContent:"center",alignItems:"center"},fontSize:14,color:d.subText,padding:"16px",marginTop:"20px",children:[Object(me.jsx)(on.a,{size:"48px"}),Object(me.jsx)(m.d,{marginTop:"16px",textAlign:"center",lineHeight:1.5,children:Object(me.jsx)(o.b,{id:"You haven't deposited any liquidity positions (NFT tokens) for this farming pair yet.<0/><1/>Add liquidity to this pool first in our <2>Pools</2> page. If you've done that, deposit your liquidity position (NFT tokens) before you stake",components:{0:Object(me.jsx)("br",{}),1:Object(me.jsx)("br",{}),2:Object(me.jsx)(tt.k,{to:"".concat(_.h.POOLS,"/").concat(u.route)})}})})]}):Object(me.jsx)(m.d,{fontSize:14,color:d.subText,textAlign:"center",padding:"16px",marginTop:"20px",children:Object(me.jsx)(o.b,{id:"You don't have any available position, Please deposit and stake first"})})]})})},Or=ae.default.div.withConfig({displayName:"HarvestModal__HarvestInfo",componentId:"sc-1y7e2ro-0"})(["padding:16px;border-radius:4px;background:",";margin-top:18px;font-size:12px;line-height:20px;"],(e=>e.theme.primary+"33")),fr=ae.default.div.withConfig({displayName:"HarvestModal__RewardRow",componentId:"sc-1y7e2ro-1"})(["border-radius:999px;padding:8px;background:",";display:flex;justify-content:center;align-items:center;gap:8px;margin-top:20px;margin-bottom:24px;"],(e=>e.theme.buttonBlack));var gr=function(e){var t,n=e.farmsAddress,r=e.poolId,s=e.onDismiss,i=Object(E.b)().networkInfo,c=Object(pe.a)(),a=Object(sn.b)(),d=a.farms,l=a.userFarmInfo,j=null===d||void 0===d?void 0:d.find((e=>e.id.toLowerCase()===n.toLowerCase())),b=Object(sn.d)(n).harvest,u=null!==r?null===j||void 0===j?void 0:j.pools.find((e=>Number(e.pid)===Number(r))):void 0,p=Object(P.c)().mixpanelHandler,x={},h=(null===l||void 0===l?void 0:l[n])||{},O=h.rewardPendings,f=void 0===O?{}:O,g=h.joinedPositions,v=void 0===g?{}:g;null===r?Object.values(f||{}).flat().forEach((e=>{var t=e.currency.wrapped.address;x[t]?x[t]=x[t].add(e):x[t]=e})):null===f||void 0===f||null===(t=f[r.toString()])||void 0===t||t.forEach((e=>{var t=e.currency.wrapped.address;x[t]?x[t]=x[t].add(e):x[t]=e}));var y=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t,n,o;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],o=[],null===r?Object.keys(v).forEach((e=>{v[e].forEach((t=>{A.a.from(t.liquidity.toString()).gt(A.a.from(0))&&(n.push(t.nftId),o.push(A.a.from(e)))}))})):null===(t=v[r.toString()])||void 0===t||t.forEach((e=>{A.a.from(e.liquidity.toString()).gt(A.a.from(0))&&(n.push(e.nftId),o.push(A.a.from(r)))})),e.next=5,b(n,o,u,Object.values(x));case 5:e.sent&&(s(),p(null===r?P.a.ELASTIC_ALLS_REWARD_HARVESTED:P.a.ELASTIC_INDIVIDUAL_REWARD_HARVESTED));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object.keys(x),w=Object(Q.a)(k),C=Object.values(x).reduce(((e,t)=>e+Number(t.toExact())*(w[t.currency.wrapped.address]||0)),0);return Object(me.jsx)(ct.b,{isOpen:!!j,onDismiss:s,maxHeight:80,maxWidth:"392px",children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsx)(lt,{children:null===r?Object(me.jsx)(o.b,{id:"Harvest All"}):Object(me.jsxs)(m.b,{children:[Object(me.jsx)(At.b,{size:24,currency0:null===u||void 0===u?void 0:u.token0,currency1:null===u||void 0===u?void 0:u.token1})," ",Object(me.jsx)(m.d,{children:Object(me.jsx)(o.b,{id:"Harvest"})})]})}),Object(me.jsx)(m.b,{sx:{gap:"12px"},children:Object(me.jsx)(de.d,{onClick:s,width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:c.text})})})]}),Object(me.jsx)(Or,{children:Object(me.jsx)(o.b,{id:"After harvesting, your rewards will begin vesting linearly (only if the farm has a vesting duration).<0/><1/>Vesting means that your reward tokens will be locked initially but released gradually. You can claim the reward tokens to your wallet as and when they are released.<2/><3/>To claim your rewards, go to the <4>Vesting</4> tab and click 'Claim'.",components:{0:Object(me.jsx)("br",{}),1:Object(me.jsx)("br",{}),2:Object(me.jsx)("br",{}),3:Object(me.jsx)("br",{}),4:Object(me.jsx)(tt.k,{to:"".concat(_.h.FARMS,"/").concat(i.route,"?type=vesting&tab=elastic")})}})}),Object(me.jsxs)(m.b,{marginTop:"20px",justifyContent:"space-between",children:[Object(me.jsx)(m.d,{children:Object(me.jsx)(o.b,{id:"My Rewards"})}),Object(me.jsx)(m.d,{children:Object(xe.a)(C)})]}),Object(me.jsx)(fr,{children:Object.values(x).map((e=>Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(un.a,{text:e.toSignificant(6)||"0",maxCharacters:10}),Object(me.jsx)(ue.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(me.jsx)(le.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol)))}),Object(me.jsx)(de.i,{onClick:y,children:null===r?Object(me.jsx)(o.b,{id:"Harvest All"}):Object(me.jsx)(o.b,{id:"Harvest"})})]})})},vr=e=>{var t,n=e.position,r=e.onChange,o=e.selected,i=e.forced,c=e.farmAddress,d=n.token0,l=n.token1,j=n.fee,b=n.liquidity,u=n.tickLower,p=n.tickUpper,h=Object(sn.d)(c).unstake,O=Object(sn.b)().userFarmInfo,f=null===O||void 0===O||null===(t=O[c])||void 0===t?void 0:t.joinedPositions,g=null;f&&Object.keys(f).forEach((e=>{f[e].forEach((t=>{t.nftId.toString()===n.tokenId.toString()&&(g=e)}))}));var v=Object(Lt.j)(d),y=Object(Lt.j)(l),k=v?Object(ir.a)(v):void 0,w=y?Object(ir.a)(y):void 0,C=Object(Q.a)([d,l]),S=Object(sr.b)(null!==k&&void 0!==k?k:void 0,null!==w&&void 0!==w?w:void 0,j),T=Object(s.a)(S,2)[1],I=Object(a.useMemo)((()=>{if(T)return new Zt.Position({pool:T,liquidity:b.toString(),tickLower:u,tickUpper:p})}),[b,T,u,p]),_=A.a.from(n.liquidity.toString()).eq(0),L=I&&(I.pool.tickCurrent<n.tickLower||I.pool.tickCurrent>=n.tickUpper),E=Object(pe.a)(),P=((null===C||void 0===C?void 0:C[d])||0)*parseFloat((null===I||void 0===I?void 0:I.amount0.toExact())||"0")+((null===C||void 0===C?void 0:C[l])||0)*parseFloat((null===I||void 0===I?void 0:I.amount1.toExact())||"0"),D=Object(x.a)("(min-width: 768px)"),z=Object(me.jsx)(m.b,{width:"17.5px",height:"17.5px",backgroundColor:E.disableText,sx:{borderRadius:"2px"},alignItems:"center",justifyContent:"center",children:Object(me.jsx)(st.a,{size:14,color:"#333"})});return Object(me.jsxs)(bt,{children:[i?Object(me.jsx)(rr.a,{disabled:!0,checked:!0}):n.stakedLiquidity.gt(A.a.from(0))?Object(me.jsx)(ue.a,{text:"You will need to unstake this position first before you can withdraw it",children:z}):Object(me.jsx)(rr.a,{onChange:e=>{r(e.currentTarget.checked,I)},checked:o}),D?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(m.d,{children:n.tokenId.toString()}),Object(me.jsx)(An.a,{removed:_,inRange:!L,hideText:!0,size:12})]}),Object(me.jsx)(m.d,{children:Object(xe.a)(P)}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===I||void 0===I?void 0:I.amount0.toSignificant(6),Object(me.jsx)(le.a,{size:"16px",currency:k})]}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===I||void 0===I?void 0:I.amount1.toSignificant(6),Object(me.jsx)(le.a,{size:"16px",currency:w})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsxs)(Kn.a,{color:E.red,style:{height:"28px"},disabled:n.stakedLiquidity.eq(A.a.from(0)),onClick:()=>{g&&I&&h(A.a.from(g),[{nftId:n.tokenId,stakedLiquidity:n.stakedLiquidity.toString(),poolAddress:n.poolId,position:I}])},children:[Object(me.jsx)(kt.a,{size:16})," Unstake"]})})]}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(m.d,{marginRight:"4px",children:n.tokenId.toString()}),Object(me.jsx)(At.b,{currency0:k,currency1:w,size:16}),Object(me.jsx)(An.a,{removed:_,inRange:!L,hideText:!0})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(je.a,{content:Object(me.jsx)(m.d,{children:Object(xe.a)(P)}),dropdownContent:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(me.jsx)(le.a,{size:"16px",currency:k}),null===I||void 0===I?void 0:I.amount0.toSignificant(6)," ",null===I||void 0===I?void 0:I.amount0.currency.symbol]}),Object(me.jsxs)(m.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(me.jsx)(le.a,{size:"16px",currency:w}),null===I||void 0===I?void 0:I.amount1.toSignificant(6)," ",null===I||void 0===I?void 0:I.amount1.currency.symbol]})]})})})]})]})};var yr=function(e){var t,n=e.selectedFarmAddress,r=e.onDismiss,i=e.forced,c=void 0!==i&&i,d=Object(pe.a)(),l=Object(E.b)().chainId,j=Object(x.a)("(min-width: 768px)"),b=Object(Pt.a)().type,u=void 0===b?"active":b,p=Object(a.useRef)(),h=Object(sn.b)(),O=h.farms,f=h.userFarmInfo,g=null===O||void 0===O?void 0:O.find((e=>e.id.toLowerCase()===n.toLowerCase())),v=(null===g||void 0===g?void 0:g.pools.filter((e=>"active"===u?e.endTime>+new Date/1e3:e.endTime<+new Date/1e3)).map((e=>e.poolAddress.toLowerCase())))||[],y=Object(sn.c)(),k=(null===f||void 0===f?void 0:f[(null===g||void 0===g?void 0:g.id)||""])||{},w=k.depositedPositions,C=void 0===w?[]:w,S=k.joinedPositions,_=void 0===S?{}:S,L=Object(a.useMemo)((()=>Object(ln.q)(l)?C.map((e=>{var t,n,r=null===(t=Object.values(_).flat().filter((t=>e.nftId.toString()===t.nftId.toString()&&A.a.from(t.liquidity.toString()).gt("0"))))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.liquidity;return{nonce:A.a.from(0),poolId:Object(Zt.computePoolAddress)({factoryAddress:ln.h[l].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:ln.h[l].elastic.initCodeHash}),feeGrowthInsideLast:A.a.from(0),operator:"",rTokenOwed:A.a.from(0),fee:e.pool.fee,tokenId:e.nftId,tickLower:e.tickLower,tickUpper:e.tickUpper,liquidity:A.a.from(e.liquidity.toString()),token0:e.amount0.currency.address,token1:e.amount1.currency.address,stakedLiquidity:r?A.a.from(r.toString()):A.a.from(0)}})):[]),[l,C,_]),D=Object(sn.e)(L,v),z=D.filterOptions,R=D.activeFilter,M=D.setActiveFilter,F=D.eligiblePositions,N=Object(a.useMemo)((()=>F.filter((e=>e.stakedLiquidity.eq(0)))),[F]),B=Object(a.useState)([]),W=Object(s.a)(B,2),H=W[0],q=W[1],U=Object(a.useRef)({}),V=Object(sn.d)(n),Y=V.withdraw,G=V.emergencyWithdraw;Object(a.useEffect)((()=>{if(p.current)return c?(p.current.checked=!0,void(p.current.indeterminate=!1)):void(0===H.length?(p.current.checked=!1,p.current.indeterminate=!1):H.length>0&&null!==N&&void 0!==N&&N.length&&H.length<(null===N||void 0===N?void 0:N.length)?(p.current.checked=!1,p.current.indeterminate=!0):(p.current.checked=!0,p.current.indeterminate=!1))}),[H.length,N,c]);var J=Object(a.useState)(!1),Z=Object(s.a)(J,2),K=Z[0],Q=Z[1],X=Object(a.useRef)(null);Object(at.a)(X,(()=>Q(!1)));var $=Object(P.c)().mixpanelHandler;if(!n)return null;var ee=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=5;break}return e.next=3,G(y.map(A.a.from));case 3:return r(),e.abrupt("return");case 5:return e.next=7,Y(H,H.map((e=>U.current[e.tokenId.toString()])));case 7:e.sent&&F.filter((e=>H.find((t=>t.tokenId.toString()===e.tokenId.toString())))).forEach((e=>{$(P.a.ELASTIC_WITHDRAW_LIQUIDITY_COMPLETED,{token_1:e.token0,token_2:e.token1})})),r();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=Object(me.jsxs)(ut,{role:"button",onClick:()=>Q((e=>!e)),children:[null===(t=z.find((e=>e.code===R)))||void 0===t?void 0:t.value,Object(me.jsx)(mt,{rotate:K}),K&&Object(me.jsx)(pt,{ref:X,children:z.map((e=>Object(me.jsx)(xt,{role:"button",onClick:t=>{t.stopPropagation(),t.preventDefault(),M(e.code),Q((e=>!e))},children:e.value},e.code)))})]});return Object(me.jsx)(ct.b,{isOpen:!!g,onDismiss:r,width:"80vw",maxHeight:80,maxWidth:"808px",children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsx)(lt,{children:c?Object(me.jsx)(o.b,{id:"Force Withdraw"}):Object(me.jsx)(o.b,{id:"Withdraw your liquidity"})}),Object(me.jsxs)(m.b,{sx:{gap:"12px"},children:[j&&!c&&te,Object(me.jsx)(de.d,{onClick:r,width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:d.text})})]})]}),Object(me.jsx)(m.d,{fontSize:"12px",marginTop:"20px",color:d.subText,children:c?Object(me.jsx)(o.b,{id:"Below is a list of your affected liquidity positions"}):Object(me.jsx)(o.b,{id:"You will need to unstake your liquidity positions (NFT tokens) first before withdrawing it back to your wallet"})}),!j&&!c&&te,Object(me.jsxs)(jt,{children:[Object(me.jsx)(rr.a,{disabled:c,ref:p,onChange:e=>{e.currentTarget.checked?q(N||[]):q([])}}),Object(me.jsx)(m.d,{textAlign:"left",children:j?"ID":"ID | Token | Status"}),Object(me.jsx)(m.d,{textAlign:j?"left":"right",children:Object(me.jsx)(o.b,{id:"Your liquidity"})}),j&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.d,{textAlign:"right",children:"Token 1"}),Object(me.jsx)(m.d,{textAlign:"right",children:"Token 2"}),Object(me.jsx)(m.d,{textAlign:"right",children:"Action"})]})]}),Object(me.jsx)("div",{style:{overflowY:"auto"},children:F.filter((e=>!c||y.includes(e.tokenId.toString()))).map((e=>Object(me.jsx)(vr,{selected:H.some((t=>t.tokenId.toString()===e.tokenId.toString())),position:e,farmAddress:n,forced:c,onChange:(t,n)=>{var r=e.tokenId.toString();n&&(U.current[r]=n),q(t?t=>[...t,e]:e=>e.filter((e=>e.tokenId.toString()!==r)))}},e.tokenId.toString())))}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(me.jsx)("div",{}),Object(me.jsx)(de.i,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:ee,disabled:!c&&!H.length,style:c?{background:d.red,color:d.textReverse}:void 0,children:c?Object(me.jsx)(o.b,{id:"Force Withdraw"}):Object(me.jsx)(o.b,{id:"Withdraw Selected"})})]})]})})};var kr=function(e){var t,n,c=e.stakedOnly,d=Object(pe.a)(),l=Object(E.b)(),j=l.isEVM,b=l.networkInfo,u=l.chainId,x=Object(p.d)(),h=Object(s.a)(x,1)[0],O=h.get("token0")||void 0,f=h.get("token1")||void 0,g=Object(sn.b)(),v=g.farms,y=g.loading,k=g.userFarmInfo,w=Object(sn.c)(),C=Object(a.useRef)(),T=Object(a.useState)(!1),I=Object(s.a)(T,2),A=I[0],L=I[1];Object(at.a)(C,A?()=>L((e=>!e)):void 0);var P=Object(Pt.a)(),D=h.get("type"),z=D||_.J.ACTIVE,R=z===_.J.ACTIVE?"active":"ended",M=h.get("tab"),F=(null===(t=h.get("search"))||void 0===t?void 0:t.toLowerCase())||"",N=Object(a.useMemo)((()=>{var e,t,n,s,o=Date.now()/1e3,i=null===v||void 0===v?void 0:v.map((e=>{var t=e.pools.filter((e=>z===_.J.MY_FARMS||(z===_.J.ACTIVE?e.endTime>=o:e.endTime<o)));return Object(r.a)(Object(r.a)({},e),{},{pools:t})})).filter((e=>!!e.pools.length)),a=Object(Y.t)(u,F);a?j&&(i=null===(t=i)||void 0===t?void 0:t.map((e=>(e.pools=e.pools.filter((e=>[Object(Zt.computePoolAddress)({factoryAddress:b.elastic.coreFactory,tokenA:e.token0.wrapped,tokenB:e.token1.wrapped,fee:e.pool.fee,initCodeHashManualOverride:b.elastic.initCodeHash}),e.pool.token1.address,e.pool.token0.address].includes(a))),e)))):i=null===(n=i)||void 0===n?void 0:n.map((e=>(e.pools=e.pools.filter((e=>{var t,n,r,s;return(null===(t=e.token0.symbol)||void 0===t?void 0:t.toLowerCase().includes(F))||(null===(n=e.token1.symbol)||void 0===n?void 0:n.toLowerCase().includes(F))||(null===(r=e.token0.name)||void 0===r?void 0:r.toLowerCase().includes(F))||(null===(s=e.token1.name)||void 0===s?void 0:s.toLowerCase().includes(F))})),e)));if(O||f)if(f&&O){var d;i=null===(d=i)||void 0===d?void 0:d.map((e=>(e.pools=e.pools.filter((e=>e.token0.wrapped.address.toLowerCase()===O.toLowerCase()&&e.token1.wrapped.address.toLowerCase()===f.toLowerCase()||e.token1.wrapped.address.toLowerCase()===O.toLowerCase()&&e.token0.wrapped.address.toLowerCase()===f.toLowerCase())),e)))}else{var l,p=f||O;i=null===(l=i)||void 0===l?void 0:l.map((e=>(e.pools=e.pools.filter((e=>e.token0.wrapped.address.toLowerCase()===(null===p||void 0===p?void 0:p.toLowerCase())||e.token1.wrapped.address.toLowerCase()===(null===p||void 0===p?void 0:p.toLowerCase()))),e)))}(c[R]||z===_.J.MY_FARMS)&&j&&(i=null===(s=i)||void 0===s?void 0:s.map((e=>{if(null===k||void 0===k||!k[e.id].depositedPositions.length)return Object(r.a)(Object(r.a)({},e),{},{pools:[]});var t=null===k||void 0===k?void 0:k[e.id].depositedPositions.map((e=>Object(Zt.computePoolAddress)({factoryAddress:b.elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:b.elastic.initCodeHash}).toLowerCase())),n=e.pools.filter((e=>t.includes(e.poolAddress.toLowerCase())));return Object(r.a)(Object(r.a)({},e),{},{pools:n})})));return(null===(e=i)||void 0===e?void 0:e.filter((e=>!!e.pools.length)))||[]}),[v,F,c,R,z,u,k,j,b,O,f]),B=!N.length,W=Object(a.useState)(null),H=Object(s.a)(W,2),q=H[0],U=H[1],V=Object(a.useState)(null),G=Object(s.a)(V,2),Z=G[0],K=G[1],Q=Object(a.useState)(),X=Object(s.a)(Q,2),$=X[0],ee=X[1],te=null===$||void 0===$?void 0:$.pid,ne=Number.isNaN(Number(te))?null:Number(te),re=Object(J.o)(Qe.a.SHARE),se=Object(J.k)(Qe.a.SHARE),oe=Object(a.useState)(""),ie=Object(s.a)(oe,2),ce=ie[0],ae=ie[1],de=b.route||void 0,le=ce?"".concat(window.location.origin,"/farms/").concat(de,"?search=").concat(ce,"&tab=elastic&type=").concat(z):void 0,je=()=>{U(null),K(null),ee(void 0)};return Object(a.useEffect)((()=>{ce&&re()}),[re,ce]),Object(a.useEffect)((()=>{ae((e=>se?e:""))}),[se,ae]),Object(me.jsxs)(xn.Provider,{value:ae,children:[q&&"deposit"===Z&&Object(me.jsx)(dr,{selectedFarmAddress:q,onDismiss:je}),q&&null!==ne&&["stake","unstake"].includes(Z||"")&&Object(me.jsx)(hr,{type:Z,poolId:ne,poolAddress:null!==(n=null===$||void 0===$?void 0:$.poolAddress)&&void 0!==n?n:"",selectedFarmAddress:q,onDismiss:je}),q&&"withdraw"===Z&&Object(me.jsx)(yr,{selectedFarmAddress:q,onDismiss:je}),q&&"forcedWithdraw"===Z&&Object(me.jsx)(yr,{selectedFarmAddress:q,onDismiss:je,forced:!0}),q&&"harvest"===Z&&Object(me.jsx)(gr,{farmsAddress:q,poolId:ne,onDismiss:je}),(()=>{var e=Date.now()/1e3;if("ended"===z){var t=null===v||void 0===v?void 0:v.filter((t=>t.pools.every((t=>t.endTime<e))));return(null===t||void 0===t?void 0:t.some((e=>null===k||void 0===k?void 0:k[e.id].depositedPositions.map((e=>e.nftId.toString())).some((e=>w.includes(e))))))?Object(me.jsx)(nn,{isEnded:!0}):null}return null})(),D===_.J.ENDED&&M!==rn.c.CLASSIC&&Object(me.jsx)(m.d,{fontStyle:"italic",fontSize:12,marginBottom:"1rem",color:d.subText,children:Object(me.jsx)(o.b,{id:"Your rewards may be automatically harvested a few days after the farm ends. Please check the <0>Vesting</0> tab to see your rewards",components:{0:Object(me.jsx)(tt.k,{to:"".concat(_.h.FARMS,"/").concat(b.route,"?type=vesting")})}})}),(!D||D===_.J.ACTIVE)&&P.tab!==rn.c.CLASSIC&&Object(me.jsx)(m.d,{fontSize:12,marginBottom:"1.25rem",color:d.subText,children:Object(me.jsx)(o.b,{id:"Note: Farms will run in <0>multiple phases</0>. Once the current phase ends, you can harvest your rewards from the farm in the <1>Ended</1> tab. To continue earning rewards in the new phase, you must restake your NFT position into the active farm",components:{0:Object(me.jsx)(m.d,{as:"span",color:d.warning}),1:Object(me.jsx)(tt.k,{to:"".concat(_.h.FARMS,"/").concat(b.route,"?type=").concat(_.J.ENDED)})}})}),y&&B?Object(me.jsx)(m.b,{sx:{borderRadius:"16px"},backgroundColor:d.background,children:Object(me.jsx)(S.a,{})}):B?Object(me.jsx)(m.b,{backgroundColor:d.background,justifyContent:"center",padding:"32px",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},children:Object(me.jsx)(m.d,{color:d.subText,children:c[R]||F?Object(me.jsx)(o.b,{id:"No Farms found"}):Object(me.jsx)(o.b,{id:"Currently there are no Farms."})})}):Object(me.jsx)(m.b,{sx:{flexDirection:"column",rowGap:"48px"},children:N.map((e=>Object(me.jsx)(nr,{address:e.id,onOpenModal:(t,n)=>{K(t),U(e.id),ee(n)},pools:e.pools,userInfo:null===k||void 0===k?void 0:k[e.id]},e.id)))}),Object(me.jsx)(Je.b,{title:ce?i.a._("Share this farm with your friends!"):i.a._("Share farms with your friends"),url:le})]})},wr=n("./node_modules/react-feather/dist/icons/eye.js"),Cr=n("./node_modules/react-feather/dist/icons/edit-2.js"),Sr=e=>{var t=e.width,n=e.height,r=e.color;return Object(me.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||24,height:n||24,viewBox:"0 0 24 24",children:[Object(me.jsx)("path",{d:"M19.5 11.9702C20.43 11.9702 21.28 12.2502 22 12.7302V7.97023C22 6.87023 21.1 5.97023 20 5.97023H13.71L12.65 4.91023L13.71 3.85023C13.91 3.65023 13.91 3.34023 13.71 3.14023C13.51 2.94023 13.2 2.94023 13 3.14023L10.17 5.97023C9.97002 6.17023 9.97002 6.48023 10.17 6.68023C10.37 6.88023 10.68 6.88023 10.88 6.68023L11.94 5.62023L13 6.68023V8.97023C13 10.0702 12.1 10.9702 11 10.9702H10.46C11.41 12.0302 12 13.4302 12 14.9702C12 15.3102 11.96 15.6402 11.91 15.9702H15.05C15.3 13.7302 17.19 11.9702 19.5 11.9702Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M19.5 12.9707C17.57 12.9707 16 14.5407 16 16.4707C16 18.4007 17.57 19.9707 19.5 19.9707C21.43 19.9707 23 18.4007 23 16.4707C23 14.5407 21.43 12.9707 19.5 12.9707ZM19.5 17.9707C18.67 17.9707 18 17.3007 18 16.4707C18 15.6407 18.67 14.9707 19.5 14.9707C20.33 14.9707 21 15.6407 21 16.4707C21 17.3007 20.33 17.9707 19.5 17.9707Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M4 8.9707H9C9 7.8707 8.1 6.9707 7 6.9707H4C3.45 6.9707 3 7.4207 3 7.9707C3 8.5307 3.45 8.9707 4 8.9707Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M9.83 13.7907L9.65 13.3207L10.58 12.9707C10.12 11.9107 9.3 11.0607 8.27 10.5407L7.87 11.4307L7.41 11.2207L7.81 10.3207C7.26 10.1107 6.64 9.9707 6 9.9707C5.47 9.9707 4.96 10.0807 4.48 10.2307L4.82 11.1407L4.35 11.3207L4 10.4007C2.94 10.8607 2.09 11.6807 1.57 12.7107L2.46 13.1107L2.25 13.5707L1.35 13.1707C1.13 13.7207 1 14.3307 1 14.9707C1 15.5007 1.11 16.0107 1.26 16.4907L2.17 16.1507L2.35 16.6207L1.42 16.9707C1.88 18.0307 2.7 18.8807 3.73 19.4007L4.13 18.5107L4.59 18.7207L4.19 19.6207C4.76 19.8407 5.37 19.9707 6.01 19.9707C6.54 19.9707 7.05 19.8607 7.53 19.7107L7.18 18.8007L7.65 18.6207L8 19.5507C9.06 19.0907 9.91 18.2707 10.43 17.2407L9.54 16.8407L9.75 16.3807L10.65 16.7807C10.87 16.2107 11 15.6007 11 14.9607C11 14.4307 10.89 13.9207 10.74 13.4407L9.83 13.7907ZM7.15 17.7507C5.62 18.3807 3.86 17.6607 3.23 16.1307C2.6 14.6007 3.32 12.8407 4.85 12.2107C6.38 11.5807 8.14 12.3007 8.77 13.8307C9.41 15.3607 8.68 17.1107 7.15 17.7507Z",fill:r||"currentColor"})]})},Tr=ae.default.div.withConfig({displayName:"FarmGuide__IconWrapper",componentId:"sc-lr7ao9-0"})(["width:20px;height:20px;display:flex;justify-content:center;align-items:center;color:",";"],(e=>e.theme.primary)),Ir=ae.default.span.withConfig({displayName:"FarmGuide__Highlight",componentId:"sc-lr7ao9-1"})(["color:",";font-weight:500;"],(e=>e.theme.text)),Ar={[rn.c.ELASTIC]:[{content:Object(me.jsx)(o.b,{id:"<0>Identify</0> the Elastic farm you would like to participate in",components:{0:Object(me.jsx)(Ir,{})}}),icon:Object(me.jsx)(wr.a,{size:20}),title:"Step 1"},{content:Object(me.jsx)(o.b,{id:"<0>Add liquidity</0> to the corresponding <1>Elastic pool</1> and receive a NFT token for your liquidity position",components:{0:Object(me.jsx)(Ir,{}),1:Object(me.jsx)(tt.k,{to:"/pools?tab=elastic"})}}),icon:Object(me.jsx)(_t.m,{size:20}),title:"Step 2"},{content:Object(me.jsx)(o.b,{id:"<0>Approve</0> the farming contract (if you haven't) to let it access your liquidity positions (NFT tokens)",components:{0:Object(me.jsx)(Ir,{})}}),icon:Object(me.jsx)(Cr.a,{size:18}),title:"Step 3"},{content:Object(me.jsx)(o.b,{id:"<0>Deposit</0> your liquidity position (NFT token) into the farming contract. Then <1>stake</1> it into the farm",components:{0:Object(me.jsx)(Ir,{}),1:Object(me.jsx)(Ir,{})}}),icon:Object(me.jsx)(dn.a,{width:20,height:20}),title:"Step 4"},{content:Object(me.jsx)(o.b,{id:"<0>Harvest</0> your farming rewards whenever you want",components:{0:Object(me.jsx)(Ir,{})}}),icon:Object(me.jsx)(Sr,{width:20,height:20}),title:"Step 5"},{content:Object(me.jsx)(o.b,{id:"<0>Claim</0> your farming rewards from the <1>Vesting</1> tab! Note: some farms may have a vesting period",components:{0:Object(me.jsx)(Ir,{}),1:Object(me.jsx)(tt.k,{to:"/farms?type=vesting&tab=elastic"})}}),icon:Object(me.jsx)(_t.x,{size:20}),title:"Step 6"}],[rn.c.CLASSIC]:[{content:Object(me.jsx)(o.b,{id:"Identify the Classic farm you would like to participate in"}),icon:Object(me.jsx)(wr.a,{size:20}),title:"Step 1"},{content:Object(me.jsx)(o.b,{id:"Add liquidity to the corresponding <0>Classic pool</0> to receive Liquidity Provider (LP) tokens",components:{0:Object(me.jsx)(tt.k,{to:"/pools?tab=classic"})}}),icon:Object(me.jsx)(_t.m,{size:20}),title:"Step 2"},{content:Object(me.jsx)(o.b,{id:"Stake your LP tokens in the farm you identified earlier"}),icon:Object(me.jsx)(dn.a,{width:20,height:20}),title:"Step 3"},{content:Object(me.jsx)(o.b,{id:"Harvest your farming rewards whenever you want"}),icon:Object(me.jsx)(Sr,{width:20,height:20}),title:"Step 4"},{content:Object(me.jsx)(o.b,{id:"Claim your farming rewards! (Note: some farms may have a vesting period)"}),icon:Object(me.jsx)(_t.x,{size:20}),title:"Step 5"}]};var _r=function(e){var t=e.farmType,n=Object(a.useState)(!1),r=Object(s.a)(n,2),i=r[0],c=r[1],d=Object(pe.a)(),l=Object(x.a)("(max-width: 992px)"),j=Ar[t];return Object(me.jsxs)(ht.r,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(ht.q,{children:t===rn.c.ELASTIC?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(o.b,{id:"Deposit your liquidity from the Elastic Pools here, and then stake it to earn even more attractive farming rewards. Learn about our farming mechanisms"})," ",Object(me.jsx)(tt.c,{href:"https://docs.kyberswap.com/guides/farming-mechanisms",children:Object(me.jsx)(o.b,{id:"here \u2197"})})]}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(o.b,{id:"Deposit your liquidity from the Classic Pools here to earn even more attractive farming rewards."})," ",Object(me.jsx)(tt.c,{href:"https://docs.kyberswap.com/classic/guides/yield-farming-guide",children:Object(me.jsx)(o.b,{id:"Learn More \u2197"})})]})}),Object(me.jsx)(ht.x,{onClick:()=>c((e=>!e)),show:i,children:Object(me.jsx)(Ye.a,{})})]}),Object(me.jsx)(ht.k,{show:i,numOfSteps:j.length,children:j.map(((e,t)=>Object(me.jsxs)(a.Fragment,{children:[0!==t&&Object(me.jsx)(ht.c,{}),Object(me.jsxs)(ht.j,{children:[Object(me.jsxs)(m.b,{marginBottom:"0.5rem",alignItems:"center",sx:{gap:"8px"},children:[Object(me.jsx)(Tr,{children:e.icon}),Object(me.jsxs)(m.d,{flex:1,children:[Object(me.jsx)(m.d,{color:d.text,fontWeight:"500",as:"span",sx:{textTransform:"uppercase"},children:e.title}),l&&Object(me.jsxs)(me.Fragment,{children:[": ",e.content," "]})]})]}),!l&&e.content]})]},t)))})]})},Lr=n("./src/components/YieldPools/FarmPoolSort.tsx"),Er=n("./src/components/YieldPools/ListGridViewGroup.tsx"),Pr=n("./src/hooks/useSyncNetworkParamWithStore.ts"),Dr=n("./src/pages/Pools/styleds.tsx"),zr=n("./src/state/farms/classic/updater.ts"),Rr=n("./src/utils/string.ts");t.default=()=>{var e=Object(E.b)(),t=e.isEVM,n=e.chainId,d=Object(qt.b)(),S=d.loading,T=d.data,I=Object(pe.a)(),A=Object(Pt.a)(),L=Object(u.m)(),D=Object(p.d)(),z=Object(s.a)(D,2),R=z[0],M=z[1],F=R.get("type")||_.J.ACTIVE,N=R.get("tab")||rn.c.ELASTIC,B=R.get("search")||"",W=Object(Rr.d)(N,rn.c)?N:rn.c.ELASTIC,H=Object(x.a)("(min-width: 1000px)"),q=Object(J.o)(Qe.a.SHARE),U=Object(b.e)((e=>e.vesting.loading)),V=Object(a.useState)({active:!1,ended:!0}),Y=Object(s.a)(V,2),G=Y[0],Z=Y[1],K=F===_.J.ACTIVE?"active":"ended",Q=e=>{var t=Object(r.a)(Object(r.a)({},A),{},{type:e});L({search:Object(c.stringify)(t)})},X=Object(u.k)(),$=Object(a.useCallback)((e=>{var t=Object(r.a)(Object(r.a)({},X),{},{search:Object(c.stringify)(Object(r.a)(Object(r.a)({},A),{},{search:e}))});L(t,{replace:!0})}),[L,X,A]),ee=Object(P.c)().mixpanelHandler;Object(Pr.a)();var te=Object(x.a)("(max-width: 992px)"),ne=Object(x.a)("(max-width: 1500px)"),re=Object(J.e)(),se=Object(sn.b)().farms,oe=Object(a.useMemo)((()=>{var e={},t=Math.floor(Date.now()/1e3);return Object.values(T).flat().filter((e=>e.endTime&&e.endTime>t||re&&e.endBlock&&e.endBlock>re)).forEach((t=>{t.rewardTokens.forEach((t=>{t&&t.chainId===n&&!e[t.wrapped.address]&&(e[t.wrapped.address]=t)}))})),null===se||void 0===se||se.forEach((t=>{t.pools.forEach((t=>{t.endTime>Date.now()/1e3&&t.totalRewards.forEach((t=>{e[t.currency.wrapped.address]=t.currency}))}))})),Object.values(e)}),[T,re,se,n]),ie=!!oe.length&&Object(me.jsx)(m.b,{flex:1,width:ne?"calc(100vw - 706px)":"796px",sx:{gap:"4px"},alignItems:"center",justifyContent:"flex-end",children:Object(me.jsx)(v.b,{rewardTokens:oe,style:{display:"flex",width:"100%",overflow:"hidden",flex:1}})}),ce=R.get("token0")||void 0,ae=R.get("token1")||void 0,de=Object(Lt.f)(ce),le=Object(Lt.f)(ae);if(!t)return Object(me.jsx)(u.a,{to:"/"});var je=Object(me.jsxs)(Dr.b,{children:[Object(me.jsx)(g.a,{onCurrencySelect:e=>{R.set("token0",e.wrapped.address),M(R)},onClearCurrency:()=>{R.set("token0",""),M(R)},currency:de,id:"input-tokena",showCommonBases:!0}),Object(me.jsx)(m.d,{marginX:"6px",children:"-"}),Object(me.jsx)(g.a,{onCurrencySelect:e=>{R.set("token1",e.wrapped.address),M(R)},onClearCurrency:()=>{R.set("token1",""),M(R)},currency:le,id:"input-tokenb",showCommonBases:!0})]});return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(zr.a,{isInterval:!0}),Object(me.jsx)(sn.a,{}),Object(me.jsxs)(ht.o,{gap:"24px",children:[Object(me.jsxs)("div",{children:[Object(me.jsxs)(ht.E,{children:[Object(me.jsx)(O.a,{}),!te&&Object(me.jsxs)(me.Fragment,{children:[ie,Object(me.jsxs)(m.b,{sx:{gap:"24px"},width:"max-content",children:[Object(me.jsx)(C.b,{type:W===rn.c.ELASTIC?C.a.ELASTIC_FARMS:C.a.CLASSIC_FARMS,customIcon:Object(me.jsxs)(m.b,{sx:{gap:"4px",cursor:"pointer"},fontSize:"14px",alignItems:"center",fontWeight:"500",color:I.subText,role:"button",children:[Object(me.jsx)(h.a,{}),Object(me.jsx)(o.b,{id:"Video Tutorial"})]})}),Object(me.jsxs)(m.b,{sx:{gap:"4px",cursor:"pointer"},fontSize:"14px",alignItems:"center",fontWeight:"500",color:I.subText,onClick:()=>q(),children:[Object(me.jsx)(l.a,{size:20}),"Share"]})]})]})]}),Object(me.jsx)(_r,{farmType:W})]}),te&&Object(me.jsxs)(m.b,{sx:{gap:"1rem"},children:[ie,Object(me.jsx)(m.b,{alignItems:"center",sx:{gap:"6px"},children:Object(me.jsxs)(m.b,{sx:{gap:"16px"},alignItems:"center",children:[Object(me.jsx)(C.b,{type:W===rn.c.ELASTIC?C.a.ELASTIC_FARMS:C.a.CLASSIC_FARMS,customIcon:Object(me.jsx)(h.a,{color:I.subText,style:{width:"20px",height:"20px"}})}),Object(me.jsx)(l.a,{color:I.subText,size:20,onClick:()=>q()})]})})]}),Object(me.jsxs)("div",{children:[Object(me.jsxs)(ht.A,{children:[Object(me.jsxs)(m.b,{sx:{gap:"8px"},children:[Object(me.jsx)(Dr.f,{onClick:()=>{F&&"active"!==F&&ee(P.a.FARMS_ACTIVE_VIEWED),Q(_.J.ACTIVE)},active:!F||"active"===F,children:Object(me.jsx)(ht.p,{children:Object(me.jsx)(o.b,{id:"Active"})})}),Object(me.jsx)(Dr.f,{onClick:()=>{"ended"!==F&&ee(P.a.FARMS_ENDING_VIEWED),Q(_.J.ENDED)},active:F===_.J.ENDED,children:Object(me.jsx)(ht.p,{children:Object(me.jsx)(o.b,{id:"Ended"})})}),Object(me.jsx)(Dr.f,{onClick:()=>{Q(_.J.MY_FARMS)},active:F===_.J.MY_FARMS,children:Object(me.jsx)(y.f,{children:Object(me.jsx)(o.b,{id:"My Farms"})})}),Object(me.jsx)(Dr.f,{onClick:()=>{"vesting"!==F&&ee(P.a.FARMS_MYVESTING_VIEWED),Q(_.J.VESTING)},active:F===_.J.VESTING,children:Object(me.jsxs)(y.f,{children:[Object(me.jsx)(m.d,{children:Object(me.jsx)(o.b,{id:"Vesting"})}),U&&Object(me.jsx)(f.a,{style:{marginLeft:"4px"}})]})})]}),Object(me.jsxs)(ht.l,{children:[Object(me.jsx)(ht.z,{children:Object(me.jsxs)(y.f,{gap:"12px",children:[H&&Object(me.jsx)(y.c,{children:Object(me.jsx)(Er.a,{})}),F!==_.J.MY_FARMS&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ht.y,{children:Object(me.jsx)(o.b,{id:"Staked Only"})}),Object(me.jsx)(w.a,{isActive:G[K],toggle:()=>Z((e=>Object(r.a)(Object(r.a)({},e),{},{[F]:!e[K]})))})]}),Object(me.jsx)(Lr.a,{})]})}),Object(me.jsxs)(ht.m,{children:[je,Object(me.jsxs)(ht.v,{children:[Object(me.jsx)(ht.w,{placeholder:i.a._("Search by token name or pool address"),maxLength:255,value:B,onChange:e=>$(e.target.value)}),Object(me.jsx)(j.a,{color:I.subText,size:16})]})]})]})]}),(()=>{switch(F){case _.J.ACTIVE:return W===rn.c.ELASTIC?Object(me.jsx)(kr,{stakedOnly:G}):Object(me.jsx)(Jt,{loading:S,active:!0});case _.J.ENDED:return W===rn.c.ELASTIC?Object(me.jsx)(kr,{stakedOnly:G}):Object(me.jsx)(Jt,{loading:S,active:!1});case _.J.VESTING:return W===rn.c.ELASTIC?Object(me.jsx)(Ue,{}):Object(me.jsx)(He,{loading:U});case _.J.MY_FARMS:return W===rn.c.ELASTIC?Object(me.jsx)(kr,{stakedOnly:G}):Object(me.jsx)(Jt,{loading:S,active:!1});default:return Object(me.jsx)(Jt,{loading:S,active:!0})}})()]})]}),Object(me.jsx)(k.a,{})]})}},"./src/pages/Pool/styleds.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("./node_modules/rebass/dist/index.esm.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=s.default.div.withConfig({displayName:"styleds__Wrapper",componentId:"sc-qs1q00-0"})(["position:relative;"]),i=(Object(s.default)(r.d).withConfig({displayName:"styleds__ClickableText",componentId:"sc-qs1q00-1"})([":hover{cursor:pointer;}color:",";"],(e=>e.theme.primary)),s.default.span.withConfig({displayName:"styleds__Dots",componentId:"sc-qs1q00-2"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]))},"./src/state/farms/classic/updater.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),o=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),a=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),l=n("./src/constants/index.ts"),j=n("./src/constants/tokens.ts"),b=n("./src/hooks/index.ts"),u=n("./src/hooks/Tokens.ts"),p=n("./src/hooks/useContract.ts"),x=n("./src/state/application/hooks.ts"),m=n("./src/state/farms/classic/actions.ts"),h=n("./src/state/farms/classic/types.ts"),O=n("./src/state/hooks.ts"),f=n("./src/state/pools/hooks.ts");function g(e){var t=e.isInterval,n=void 0===t||t,g=Object(O.a)(),v=Object(b.b)(),y=v.chainId,k=v.account,w=v.isEVM,C=v.networkInfo,S=Object(p.j)(!1),T=Object(x.h)(),I=Object(a.useRef)(T.currentPrice);I.current=T.currentPrice;var A=Object(u.e)(),_=Object(x.j)(),L=_.classicClient,E=_.blockClient,P=Object(d.e)((e=>e.farms.data)),D=Object(a.useRef)(P);D.current=P;var z=Object(a.useRef)(y);return z.current=y,Object(a.useEffect)((()=>{if(w){console.count("running farm updater");var e=!1;b();var t=n&&setInterval((()=>{b()}),3e4);return()=>{e=!0,t&&clearInterval(t)}}function a(e){return d.apply(this,arguments)}function d(){return d=Object(i.a)(Object(s.a)().mark((function t(n){var a,d,b,u,p,x,m,O,g,v,S,T,_,P,D,z,R,M;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,null===n||void 0===n?void 0:n.getRewardTokens();case 4:if(a=t.sent,!e){t.next=7;break}throw new Error("canceled");case 7:return t.next=9,null===n||void 0===n?void 0:n.poolLength();case 9:if(d=t.sent,!e){t.next=12;break}throw new Error("canceled");case 12:return b=[...Array(c.a.from(d).toNumber()).keys()],u=C.classic.fairlaunchV2.includes(n.address),t.next=16,Promise.all(b.map(function(){var t=Object(i.a)(Object(s.a)().mark((function t(r){var i;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===n||void 0===n?void 0:n.getPoolInfo(r);case 2:if(i=t.sent,!e){t.next=5;break}throw new Error("canceled");case 5:if(!u){t.next=7;break}return t.abrupt("return",Object(o.a)(Object(o.a)({},i),{},{accRewardPerShares:i.accRewardPerShares.map(((e,t)=>e.div(i.rewardMultipliers[t]))),rewardPerSeconds:i.rewardPerSeconds.map(((e,t)=>e.div(i.rewardMultipliers[t]))),pid:r,fairLaunchVersion:h.a.V2}));case 7:return t.abrupt("return",Object(o.a)(Object(o.a)({},i),{},{pid:r,fairLaunchVersion:h.a.V1}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 16:return p=t.sent,t.next=19,Promise.all(b.map(function(){var t=Object(i.a)(Object(s.a)().mark((function t(r){var o;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k){t.next=6;break}return t.next=3,null===n||void 0===n?void 0:n.getUserInfo(r,k);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0={amount:0};case 7:if(o=t.t0,!e){t.next=10;break}throw new Error("canceled");case 10:return t.abrupt("return",o.amount);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 19:if(x=t.sent,!e){t.next=22;break}throw new Error("canceled");case 22:return t.next=24,Promise.all(b.map(function(){var t=Object(i.a)(Object(s.a)().mark((function t(r){var o;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k){t.next=6;break}return t.next=3,null===n||void 0===n?void 0:n.pendingRewards(r,k);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:if(o=t.t0,!e){t.next=10;break}throw new Error("canceled");case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 24:if(m=t.sent,!e){t.next=27;break}throw new Error("canceled");case 27:return O=p.map((e=>e.stakeToken.toLowerCase())),t.next=30,Object(f.a)(O,L,E,y,I.current);case 30:if(g=t.sent,!e){t.next=33;break}throw new Error("canceled");case 33:if(v=a.map((e=>e.toLowerCase()===l.eb.toLowerCase()?j.j[y]:A[e])).filter(Boolean),S=p.map(((e,t)=>Object(o.a)(Object(o.a)(Object(o.a)({},g.find((t=>t&&t.id.toLowerCase()===e.stakeToken.toLowerCase()))),e),{},{rewardTokens:v,fairLaunchAddress:n.address,userData:{stakedBalance:x[t],rewards:e.fairLaunchVersion===h.a.V2?m[t]&&m[t].map(((t,n)=>t.div(e.rewardMultipliers[n]))):m[t]}}))),!(T=l.S[n.address])){t.next=46;break}return t.next=39,fetch(T.subgraphAPI,{method:"POST",body:JSON.stringify({query:T.query})}).then((e=>e.json()));case 39:if(_=t.sent,!e){t.next=42;break}throw new Error("canceled");case 42:P=_.data.pair.totalSupply,D=P.split("."),z=Object(r.a)(D,2),R=z[0],M=z[1],P=R+"."+M.slice(0,18),S.push(Object(o.a)(Object(o.a)(Object(o.a)({},_.data.pair),{},{amp:1e4,vReserve0:_.data.pair.reserve0,vReserve1:_.data.pair.reserve1,token0:Object(o.a)(Object(o.a)({},_.data.pair.token0),{},{derivedETH:_.data.pair.token0.derivedBNB}),token1:Object(o.a)(Object(o.a)({},_.data.pair.token1),{},{derivedETH:_.data.pair.token1.derivedBNB}),trackedReserveETH:_.data.pair.trackedReserveBNB,totalSupply:P},p[0]),{},{rewardTokens:v,fairLaunchAddress:n.address,userData:{stakedBalance:x[0],rewards:m[0]}}));case 46:return t.abrupt("return",S.filter((e=>!!e.totalSupply)));case 47:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function b(){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(Object(s.a)().mark((function t(){var n,r,o,i;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,S){t.next=4;break}return g(Object(m.b)({})),t.abrupt("return");case 4:return g(Object(m.c)(!0)),n={},r=Object.keys(S),o=r.map((e=>a(S[e]))),t.next=10,Promise.all(o);case 10:if(i=t.sent,!e){t.next=13;break}throw new Error("canceled");case 13:r.forEach(((e,t)=>{n[e]=i[t]})),z.current!==y||0!==Object.keys(D.current).length&&e||g(Object(m.b)(n)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),e||(console.error(t.t0),g(Object(m.f)(t.t0)));case 20:g(Object(m.c)(!1));case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}}),[g,y,S,k,w,C,L,E,A,n]),null}},"./src/utils/formatTime.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e)return"0 Days";var n,r=e%60,s=(e-r)/60,o=s%60,i=(s-o)/60,c=i%24,a=(i-c)/24,d="";!a&&t||(d+=a+(n=(t?" Day":"D")+(t&&a>1?"s ":" "))),!c&&t||(d+=c+(n=(t?" Hour":"H")+(t&&c>1?"s ":" "))),!o&&t||(d+=o+(n=(t?" Minute":"M")+(t&&o>1?"s ":" ")));var l=0===a&&0===c&&0===o;return l&&(n=(t?" Second":"S")+(t&&r>1?"s ":" "),d+=Math.trunc(r)+n),d}}}]);