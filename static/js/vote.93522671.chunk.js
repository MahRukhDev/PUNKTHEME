(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[34],{"./node_modules/dayjs/plugin/relativeTime.js":function(e,t,o){e.exports=function(){"use strict";return function(e,t,o){e=e||{};var i=t.prototype,n={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(e,t,o,n){return i.fromToBase(e,t,o,n)}o.en.relativeTime=n,i.fromToBase=function(t,i,r,s,c){for(var a,l,d,b=r.$locale().relativeTime||n,j=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=j.length,x=0;x<p;x+=1){var u=j[x];u.d&&(a=s?o(t).diff(r,u.d,!0):r.diff(t,u.d,!0));var h=(e.rounding||Math.round)(Math.abs(a));if(d=a>0,h<=u.r||!u.r){h<=1&&x>0&&(u=j[x-1]);var O=b[u.l];c&&(h=c(""+h)),l="string"==typeof O?O.replace("%d",h):O(h,i,u.l,d);break}}if(i)return l;var m=d?b.future:b.past;return"function"==typeof m?m(l):m.replace("%s",l)},i.to=function(e,t){return r(e,t,this,!0)},i.from=function(e,t){return r(e,t,this)};var s=function(e){return e.$u?o.utc():o()};i.toNow=function(e){return this.to(s(this),e)},i.fromNow=function(e){return this.from(s(this),e)}}}()},"./node_modules/react-feather/dist/icons/clock.js":function(e,t,o){"use strict";var i=o("./node_modules/react/index.js"),n=o.n(i),r=o("./node_modules/prop-types/index.js"),s=o.n(r);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},c.apply(this,arguments)}function a(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=Object(i.forwardRef)((function(e,t){var o=e.color,i=void 0===o?"currentColor":o,r=e.size,s=void 0===r?24:r,l=a(e,["color","size"]);return n.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.a.createElement("polyline",{points:"12 6 12 12 16 14"}))}));l.propTypes={color:s.a.string,size:s.a.oneOfType([s.a.string,s.a.number])},l.displayName="Clock",t.a=l},"./src/assets/svg/gold_icon.svg":function(e,t,o){"use strict";t.a=o.p+"static/media/gold_icon.18b8a465.svg"},"./src/components/Icons/Search.tsx":function(e,t,o){"use strict";var i=o("./node_modules/react/jsx-runtime.js");t.a=function(e){var t=e.size,o=void 0===t?24:t,n=e.color;return Object(i.jsx)("svg",{width:o||24,height:o||24,viewBox:"0 0 ".concat(o," ").concat(o),fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{minWidth:o+"px"},children:Object(i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(i.jsx)("path",{d:"M14.1931 5.58187C16.525 7.91369 16.525 11.6943 14.1931 14.0261C11.8613 16.358 8.08069 16.358 5.74887 14.0261C3.41704 11.6943 3.41704 7.91369 5.74887 5.58187C8.08069 3.25005 11.8613 3.25005 14.1931 5.58187",stroke:n||"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.jsx)("path",{d:"M14.1499 14.06L19.9999 19.99",stroke:n||"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})}},"./src/pages/KyberDAO/Vote/index.tsx":function(e,t,o){"use strict";o.r(t),o.d(t,"readableTime",(function(){return St})),o.d(t,"default",(function(){return Tt}));var i=o("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),n=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=o("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),c=o("./node_modules/@lingui/react/esm/index.js"),a=o("./node_modules/@lingui/core/esm/index.js"),l=o("./node_modules/dayjs/dayjs.min.js"),d=o.n(l),b=o("./node_modules/dayjs/plugin/relativeTime.js"),j=o.n(b),p=o("./node_modules/polished/dist/polished.esm.js"),x=o("./node_modules/react/index.js"),u=o.n(x),h=o("./node_modules/react-device-detect/main.js"),O=o("./node_modules/react-feather/dist/icons/clock.js"),m=o("./node_modules/rebass/dist/index.esm.js"),g=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),f=o("./src/assets/images/about_background.png"),v=o.p+"static/media/luxury-green-background-small.632fca1c.jpg",w=o("./src/components/Button/index.tsx"),y=o("./src/components/Column/index.tsx"),_=o("./src/components/Icons/Vote.tsx"),k=o("./src/components/InfoHelper/index.tsx"),C=o("./src/components/Row/index.tsx"),S=o("./src/components/Tooltip/index.tsx"),z=o("./src/components/TransactionConfirmationModal/index.tsx"),I=o("./src/hooks/index.ts"),T=o("./src/hooks/kyberdao/index.tsx"),M=o("./src/hooks/kyberdao/useTotalVotingRewards.tsx"),P=o("./src/hooks/useMixpanel.ts"),N=o("./src/hooks/useTheme.ts"),B=o("./src/state/application/actions.ts"),L=o("./src/state/application/hooks.ts"),W=o("./src/theme/index.tsx"),A=o("./src/utils/index.ts"),V=o("./src/utils/formatBalance.ts"),D=o("./src/pages/KyberDAO/StakeKNC/SwitchToEthereumModal.tsx"),R=o("./src/pages/KyberDAO/kncLogo.tsx"),Y=o("./node_modules/react-feather/dist/icons/x.js"),E=o("./src/components/Modal/index.tsx"),K=o("./node_modules/react/jsx-runtime.js"),H=g.default.div.withConfig({displayName:"ClaimConfirmModal__Wrapper",componentId:"sc-l1s82v-0"})(["padding:24px;display:flex;flex-direction:column;gap:20px;"]),F=g.default.div.withConfig({displayName:"ClaimConfirmModal__AddressWrapper",componentId:"sc-l1s82v-1"})(["border-radius:8px;border:none;outline:none;padding:10px 12px;font-size:14px;display:flex;flex-direction:column;gap:14px;",""],(e=>{var t=e.theme;return Object(g.css)(["background-color:",";color:",";:disabled{color:",";}"],t.buttonBlack,t.subText,t.border)}));function Z(e){var t=e.amount,o=e.onConfirmClaim,i=Object(N.a)(),n=Object(I.b)().account,r=Object(L.k)(B.a.KYBER_DAO_CLAIM),s=Object(L.x)(B.a.KYBER_DAO_CLAIM);return Object(K.jsx)(E.b,{isOpen:r,onDismiss:s,children:Object(K.jsxs)(H,{children:[Object(K.jsxs)(C.b,{children:[Object(K.jsx)(C.a,{gap:"2px",children:Object(K.jsx)(m.d,{fontSize:20,children:Object(K.jsx)(c.b,{id:"Claim your KNC rewards"})})}),Object(K.jsx)(m.b,{sx:{cursor:"pointer"},role:"button",onClick:s,children:Object(K.jsx)(Y.a,{onClick:s,size:20,color:i.subText})})]}),Object(K.jsxs)(F,{children:[Object(K.jsx)(m.d,{fontSize:12,children:Object(K.jsx)(c.b,{id:"Your wallet address"})}),Object(K.jsx)(m.d,{color:i.border,children:n})]}),Object(K.jsx)(m.d,{fontSize:16,lineHeight:"24px",fontWeight:400,color:i.text,children:Object(K.jsx)(c.b,{id:"If your wallet is eligible, you will be able to claim your reward below:"})}),Object(K.jsxs)(C.c,{gap:"10px",children:[Object(K.jsx)(R.a,{size:28})," ",Object(K.jsxs)(m.d,{fontSize:32,children:[t," KNC"]})]}),Object(K.jsx)(w.i,{onClick:o,children:"Claim"})]})})}var G=o("./node_modules/react-feather/dist/icons/info.js");function q(e){var t=e.size;return Object(K.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||"20",height:t||"20",viewBox:"0 0 20 20",fill:"none",children:Object(K.jsx)("path",{d:"M9.89551 14.875C10.1316 14.875 10.34 14.7882 10.5205 14.6146C10.7011 14.441 10.7913 14.2292 10.7913 13.9792C10.7913 13.7431 10.7045 13.5382 10.5309 13.3646C10.3573 13.191 10.1455 13.1042 9.89551 13.1042C9.6594 13.1042 9.45454 13.191 9.28092 13.3646C9.10731 13.5382 9.02051 13.7431 9.02051 13.9792C9.02051 14.2292 9.10731 14.441 9.28092 14.6146C9.45454 14.7882 9.6594 14.875 9.89551 14.875ZM9.12467 11.7917H10.4788C10.4788 11.4028 10.5448 11.0625 10.6768 10.7708C10.8087 10.4792 11.0622 10.1597 11.4372 9.8125C11.8261 9.40972 12.1143 9.03125 12.3018 8.67708C12.4893 8.32292 12.583 7.93056 12.583 7.5C12.583 6.73611 12.34 6.13889 11.8538 5.70833C11.3677 5.27778 10.7288 5.0625 9.93717 5.0625C9.20106 5.0625 8.57259 5.25347 8.05176 5.63542C7.53092 6.01736 7.15245 6.51389 6.91634 7.125L8.20801 7.64583C8.40245 7.28472 8.63509 6.99653 8.90592 6.78125C9.17676 6.56597 9.52051 6.45833 9.93717 6.45833C10.3261 6.45833 10.6316 6.5625 10.8538 6.77083C11.0761 6.97917 11.1872 7.25 11.1872 7.58333C11.1872 7.84722 11.1108 8.09722 10.958 8.33333C10.8052 8.56944 10.59 8.82639 10.3122 9.10417C9.77051 9.63194 9.43717 10.0625 9.31217 10.3958C9.18717 10.7292 9.12467 11.1944 9.12467 11.7917ZM3.85384 17.7917C3.4094 17.7917 3.02398 17.6285 2.69759 17.3021C2.3712 16.9757 2.20801 16.5903 2.20801 16.1458V3.85417C2.20801 3.39583 2.3712 3.00347 2.69759 2.67708C3.02398 2.35069 3.4094 2.1875 3.85384 2.1875H16.1455C16.6038 2.1875 16.9962 2.35069 17.3226 2.67708C17.649 3.00347 17.8122 3.39583 17.8122 3.85417V16.1458C17.8122 16.5903 17.649 16.9757 17.3226 17.3021C16.9962 17.6285 16.6038 17.7917 16.1455 17.7917H3.85384Z",fill:"currentColor"})})}function U(e){var t=e.size;return Object(K.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||"20",height:t||"20",viewBox:"0 0 20 20",fill:"none",children:[Object(K.jsx)("g",{clipPath:"url(#clip0_943_7035)",children:Object(K.jsx)("path",{d:"M16.6665 4.99935H15.8332V11.666C15.8332 12.1243 15.4582 12.4993 14.9998 12.4993H4.99984V13.3327C4.99984 14.2493 5.74984 14.9993 6.6665 14.9993H14.9998L18.3332 18.3327V6.66602C18.3332 5.74935 17.5832 4.99935 16.6665 4.99935ZM14.1665 9.16602V3.33268C14.1665 2.41602 13.4165 1.66602 12.4998 1.66602H3.33317C2.4165 1.66602 1.6665 2.41602 1.6665 3.33268V14.166L4.99984 10.8327H12.4998C13.4165 10.8327 14.1665 10.0827 14.1665 9.16602Z",fill:"currentcolor"})}),Object(K.jsx)("defs",{children:Object(K.jsx)("clipPath",{id:"clip0_943_7035",children:Object(K.jsx)("rect",{width:t||"20",height:t||"20",fill:"white"})})})]})}var $=o("./src/components/Icons/History.tsx"),J=o.p+"static/media/kyber_logo.6397d749.svg",Q=Object(g.keyframes)(["0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}"]),X=g.default.div.withConfig({displayName:"AnimatedLoader__Wrapper",componentId:"sc-wlfk0n-0"})(["width:","px;height:","px;display:inline-block;overflow:hidden;background:transparent;"],(e=>e.size),(e=>e.size)),ee=g.default.div.withConfig({displayName:"AnimatedLoader__Inner",componentId:"sc-wlfk0n-1"})(["width:100%;height:100%;position:relative;display:flex;align-items:center;justify-content:center;transform:translateZ(0) scale(1);backface-visibility:hidden;transform-origin:0 0;> div{position:absolute;animation:"," 1s linear infinite;width:","px;height:","px;top:","px;left:","px;border-radius:50%;box-shadow:0 "," 0 0 ",";transform-origin:",";box-sizing:content-box;}"],Q,(e=>.8*e.size),(e=>.8*e.size),(e=>.1*e.size),(e=>.1*e.size),(e=>e.size>=200?"3px":"2px"),(e=>e.theme.primary),(e=>{var t=e.size;return"".concat(.4*t,"px ").concat(.41*t,"px")}));var te=function(e){var t=e.size,o=void 0===t?160:t;return Object(K.jsx)(X,{size:o,children:Object(K.jsxs)(ee,{size:o,children:[Object(K.jsx)("div",{}),Object(K.jsx)("div",{}),Object(K.jsx)("img",{src:J,width:"30%",alt:""})]})})},oe=o("./src/hooks/kyberdao/types.ts"),ie=o("./src/pages/KyberDAO/StakeKNC/YourTransactionsModal.tsx"),ne=o("./node_modules/react-feather/dist/icons/chevron-down.js"),re=o("./src/components/Icons/LaunchIcon.tsx"),se=g.default.div.withConfig({displayName:"VoteConfirmModal__Wrapper",componentId:"sc-tdr696-0"})(["padding:20px;display:flex;flex-direction:column;gap:20px;"]),ce=Object(g.default)(m.d).withConfig({displayName:"VoteConfirmModal__TextWrapper",componentId:"sc-tdr696-1"})(["& b{font-weight:500;color:",";}"],(e=>e.theme.text));function ae(e){var t=e.isShow,o=e.toggle,i=e.options,n=e.title,r=e.onVoteConfirm,s=Object(N.a)();return Object(K.jsx)(E.b,{isOpen:t,onDismiss:o,children:Object(K.jsxs)(se,{children:[Object(K.jsxs)(C.b,{children:[Object(K.jsx)(C.a,{gap:"2px",children:Object(K.jsx)(m.d,{fontSize:20,children:Object(K.jsx)(c.b,{id:"Vote"})})}),Object(K.jsx)(m.b,{sx:{cursor:"pointer"},role:"button",onClick:o,children:Object(K.jsx)(Y.a,{onClick:o,size:20,color:s.subText})})]}),Object(K.jsx)(ce,{fontSize:16,lineHeight:"24px",color:s.subText,children:Object(K.jsx)(c.b,{id:"You are voting for <0>{options}</0> on <1>{title}</1> with your KIP voting power",values:{options:i,title:n},components:{0:Object(K.jsx)("b",{}),1:Object(K.jsx)("b",{})}})}),Object(K.jsx)(w.i,{onClick:r,children:"Vote"})]})})}var le=o("./node_modules/prop-types/index.js"),de=o.n(le);function be(){return be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},be.apply(this,arguments)}function je(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var pe=Object(x.forwardRef)((function(e,t){var o=e.color,i=void 0===o?"currentColor":o,n=e.size,r=void 0===n?24:n,s=je(e,["color","size"]);return u.a.createElement("svg",be({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),u.a.createElement("polyline",{points:"9 11 12 14 22 4"}),u.a.createElement("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}))}));pe.propTypes={color:de.a.string,size:de.a.oneOfType([de.a.string,de.a.number])},pe.displayName="CheckSquare";var xe=pe;function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},ue.apply(this,arguments)}function he(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var Oe=Object(x.forwardRef)((function(e,t){var o=e.color,i=void 0===o?"currentColor":o,n=e.size,r=void 0===n?24:n,s=he(e,["color","size"]);return u.a.createElement("svg",ue({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),u.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}))}));Oe.propTypes={color:de.a.string,size:de.a.oneOfType([de.a.string,de.a.number])},Oe.displayName="Square";var me=Oe;function ge(e){var t=e.size;return Object(K.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||"16",height:t||"16",viewBox:"0 0 16 16",fill:"none",children:[Object(K.jsxs)("g",{clipPath:"url(#clip0_943_9117)",children:[Object(K.jsx)("path",{d:"M8.00016 1.33203C4.32016 1.33203 1.3335 4.3187 1.3335 7.9987C1.3335 11.6787 4.32016 14.6654 8.00016 14.6654C11.6802 14.6654 14.6668 11.6787 14.6668 7.9987C14.6668 4.3187 11.6802 1.33203 8.00016 1.33203ZM8.00016 13.332C5.0535 13.332 2.66683 10.9454 2.66683 7.9987C2.66683 5.05203 5.0535 2.66536 8.00016 2.66536C10.9468 2.66536 13.3335 5.05203 13.3335 7.9987C13.3335 10.9454 10.9468 13.332 8.00016 13.332Z",fill:"white"}),Object(K.jsx)("path",{d:"M7.99984 11.3346C9.84079 11.3346 11.3332 9.84225 11.3332 8.0013C11.3332 6.16035 9.84079 4.66797 7.99984 4.66797C6.15889 4.66797 4.6665 6.16035 4.6665 8.0013C4.6665 9.84225 6.15889 11.3346 7.99984 11.3346Z",fill:"white"})]}),Object(K.jsx)("defs",{children:Object(K.jsx)("clipPath",{id:"clip0_943_9117",children:Object(K.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})}function fe(e){var t=e.size;return Object(K.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||"16",height:t||"16",viewBox:"0 0 16 16",fill:"none",children:[Object(K.jsx)("g",{clipPath:"url(#clip0_943_8272)",children:Object(K.jsx)("path",{d:"M8.00016 1.33203C4.32016 1.33203 1.3335 4.3187 1.3335 7.9987C1.3335 11.6787 4.32016 14.6654 8.00016 14.6654C11.6802 14.6654 14.6668 11.6787 14.6668 7.9987C14.6668 4.3187 11.6802 1.33203 8.00016 1.33203ZM8.00016 13.332C5.0535 13.332 2.66683 10.9454 2.66683 7.9987C2.66683 5.05203 5.0535 2.66536 8.00016 2.66536C10.9468 2.66536 13.3335 5.05203 13.3335 7.9987C13.3335 10.9454 10.9468 13.332 8.00016 13.332Z",fill:"currentcolor"})}),Object(K.jsx)("defs",{children:Object(K.jsx)("clipPath",{id:"clip0_943_8272",children:Object(K.jsx)("rect",{width:"16",height:"16",fill:"transparent"})})})]})}var ve=g.default.div.withConfig({displayName:"OptionButton__Wrapper",componentId:"sc-1f4l2xy-0"})(["border-radius:4px;overflow:hidden;position:relative;min-height:36px;width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px;user-select:none;",";"," ",""],(e=>{var t=e.theme;return Object(g.css)(["background-color:",";"],t.buttonBlack)}),(e=>{var t=e.type,o=e.theme;return"Pending"===t&&Object(g.css)(["color:",";background-color:",";"],o.subText,o.buttonBlack)}),(e=>!e.disabled&&Object(g.css)(["cursor:pointer;:hover{filter:brightness(1.1);}"]))),we=Object(g.keyframes)(["0%{background-position:0 0;}100%{background-position:50px 0;}"]),ye=g.default.div.withConfig({displayName:"OptionButton__FinishedProgress",componentId:"sc-1f4l2xy-1"})(["position:absolute;top:0;left:0;bottom:0;border-radius:4px;width:","%;background-color:",";z-index:0;"],(e=>e.width||0),(e=>{var t=e.theme;return Object(p.d)(t.primary,.2)})),_e=g.default.div.withConfig({displayName:"OptionButton__ActiveProgress",componentId:"sc-1f4l2xy-2"})(["position:absolute;top:0;left:0;bottom:0;border-radius:4px;width:","%;background-color:",";z-index:0;"],(e=>e.width||0),(e=>e.theme.primary)),ke=g.default.div.withConfig({displayName:"OptionButton__ChoosingProgress",componentId:"sc-1f4l2xy-3"})(["position:absolute;top:0;left:0;bottom:0;border-radius:4px;width:100%;background-color:",";z-index:0;::after{content:'';position:absolute;top:0;left:0;bottom:0;right:0;background-image:linear-gradient( -45deg,rgba(0,0,0,0.1) 28%,transparent 28%,transparent 50%,rgba(0,0,0,0.1) 50%,rgba(0,0,0,0.1) 78%,transparent 78%,transparent );background-size:25px 25px;animation:"," 1.5s linear infinite;}"],(e=>e.theme.darkerGreen),we),Ce=g.default.div.withConfig({displayName:"OptionButton__CheckButtonWrapper",componentId:"sc-1f4l2xy-4"})(["width:18px;> svg{display:block;}"]);function Se(e){var t=e.checked,o=e.percent,i=void 0===o?40:o,n=e.title,r=e.type,s=void 0===r?"Finished":r,c=e.onOptionClick,l=e.isCheckBox,d=e.disabled,b=e.id,j=parseFloat(i.toFixed(2)||"0");return Object(K.jsxs)(ve,{onClick:()=>!d&&(null===c||void 0===c?void 0:c()),disabled:d,type:s,children:[Object(K.jsx)("div",{style:{zIndex:4,width:"100%"},children:Object(K.jsxs)(C.b,{style:{zIndex:1},alignItems:"center",children:[Object(K.jsx)(S.a,{text:"Pending"===s&&a.a._("Cannot vote at this moment"),placement:"top",width:"fit-content",children:Object(K.jsxs)(C.c,{gap:"5px",style:{fontSize:"12px",overflow:"hidden",wordBreak:"break-word"},children:[Object(K.jsxs)(Ce,{style:{width:"18px"},children:[l?t?Object(K.jsx)(xe,{size:18}):Object(K.jsx)(me,{size:18}):t?Object(K.jsx)(ge,{}):Object(K.jsx)(fe,{})," "]}),Object(K.jsx)(m.d,{children:"".concat(b,". ").concat(n)})]})}),Object(K.jsxs)(m.d,{fontSize:"12px",padding:"0 4px",children:[j,"%"]})]})}),"Active"===s&&Object(K.jsx)(_e,{width:i}),"Choosing"===s&&Object(K.jsx)(ke,{width:i}),"Finished"===s&&Object(K.jsx)(ye,{width:i})]})}var ze,Ie,Te,Me,Pe=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),Ne=o("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),Be=o("./src/assets/svg/gold_icon.svg"),Le=o("./src/components/Divider/index.tsx"),We=g.default.div.withConfig({displayName:"Participants__Wrapper",componentId:"sc-cgl9cj-0"})(["display:flex;align-items:flex-start;justify-content:flex-start;gap:20px;& > *{width:calc(25% - 20px * 3 / 4);}flex-wrap:wrap;"," "," ",""],(e=>e.theme.mediaWidth.upToMedium(ze||(ze=Object(s.a)(["\n     & > * {\n      width: calc(33.33% - 20px * 2 / 3);\n    }\n  "])))),(e=>e.theme.mediaWidth.upToSmall(Ie||(Ie=Object(s.a)(["\n     & > * {\n      width: calc(50% - 20px / 2);\n    }\n  "])))),(e=>e.theme.mediaWidth.upToExtraSmall(Te||(Te=Object(s.a)(["\n     & > * {\n      width: 100%;\n    }\n  "]))))),Ae=g.default.div.withConfig({displayName:"Participants__OptionWrapper",componentId:"sc-cgl9cj-1"})(["border-radius:20px;padding:12px 16px;transition:all 0.1s ease;"," ",""],(e=>e.hasHoverStyle&&Object(g.css)(["cursor:pointer;:hover{filter:brightness(1.2);box-shadow:0 2px 5px 2px ",";}"],(e=>e.theme.buttonBlack))),(e=>{var t=e.theme,o=e.isWonOption;return Object(g.css)(["border:1px solid ",";background-color:",";",""],t.border,t.buttonBlack,o&&"background: linear-gradient(180deg, rgba(41, 41, 41, 0) 0%, rgba(41, 41, 41, 0.12) 54.69%, rgba(41, 41, 41, 0.7) 100%), linear-gradient(90deg, rgba(228, 181, 86, 0.25) 0%, rgba(241, 192, 94, 0.127155) 69.27%, rgba(255, 204, 102, 0) 100%);")})),Ve=g.default.div.withConfig({displayName:"Participants__ParticipantWrapper",componentId:"sc-cgl9cj-2"})(["height:150px;overflow:auto;user-select:none;",""],(e=>e.theme.mediaWidth.upToExtraSmall(Me||(Me=Object(s.a)(["\n     height: 130px;\n  "]))))),De=Object(g.default)(C.b).withConfig({displayName:"Participants__InfoRow",componentId:"sc-cgl9cj-3"})(["font-size:12px;padding:6px 0;& > *{flex:1;}& > *:nth-child(2){text-align:center;}& > *:last-child{text-align:right;}"]),Re=Object(g.default)(C.b).withConfig({displayName:"Participants__TableHeaderWrapper",componentId:"sc-cgl9cj-4"})(["& > *{flex:1;}& > *:nth-child(2){text-align:center;}& > *:last-child{text-align:right;}"]),Ye=e=>{var t=e.isOpen,o=e.onDismiss,i=e.participants,n=e.isWonOption,r=e.sumPower,s=e.option,a=Object(N.a)();return Object(K.jsx)(E.b,{isOpen:t,onDismiss:o,children:Object(K.jsxs)(Ae,{isWonOption:n,style:{width:"100%"},children:[Object(K.jsxs)(C.b,{children:[Object(K.jsxs)(C.c,{height:19,children:[n&&Object(K.jsx)("img",{alt:"gold-medal",src:Be.a,style:{marginRight:"8px"}}),Object(K.jsx)(m.d,{style:{overflow:"hidden",textOverflow:"ellipsis"},children:s})]}),Object(K.jsx)(m.d,{style:{paddingLeft:"10px",flexShrink:0},children:r?Math.round(r).toLocaleString():"--"})]}),Object(K.jsx)(Le.a,{margin:"10px 0"}),Object(K.jsxs)(Re,{fontSize:12,color:a.subText,children:[Object(K.jsx)(m.d,{children:Object(K.jsx)(c.b,{id:"Wallet"})}),Object(K.jsx)(m.d,{children:Object(K.jsx)(c.b,{id:"Amount"})})]}),Object(K.jsx)(Le.a,{margin:"10px 0"}),Object(K.jsx)(Ve,{style:{height:"fit-content",maxHeight:"70vh",minHeight:"200px"},children:i.map((e=>Object(K.jsxs)(De,{children:[Object(K.jsx)(m.d,{children:e.staker_name||e.staker}),Object(K.jsx)(m.d,{color:a.subText,children:e.power})]},e.staker)))})]})})};function Ee(e){var t=e.proposalId,o=Object(T.e)(t).proposalInfo,i=Object(N.a)(),n=Object(x.useState)(null),s=Object(r.a)(n,2),a=s[0],l=s[1],d=Object(x.useMemo)((()=>{var e;if(null!==o&&void 0!==o&&null!==(e=o.vote_stats)&&void 0!==e&&e.votes)return o.vote_stats.votes.sort(((e,t)=>Ne.a.from(e.power).sub(Ne.a.from(t.power)).gt(0)?-1:1)).map((e=>Object(Pe.a)(Object(Pe.a)({},e),{},{staker:e.staker.slice(0,9)+"..."+e.staker.slice(-4),power:Math.floor(parseFloat(Object(V.g)(Ne.a.from(e.power),18))).toLocaleString()})))}),[o]),b=null===o||void 0===o?void 0:o.options,j=Object(x.useMemo)((()=>!!b&&b.some((e=>e.length>30))),[b]);return Object(K.jsx)(We,{children:b&&d?b.map(((e,t)=>{var n,r,s=null===o||void 0===o||null===(n=o.vote_stats.options.find((e=>e.option===t)))||void 0===n?void 0:n.vote_count,b=(null===o||void 0===o?void 0:o.proposal_type)===oe.c.BinaryProposal&&(null===o||void 0===o||null===(r=o.vote_stats)||void 0===r?void 0:r.options.reduce(((e,t)=>t.vote_count>e.vote_count?t:e)).option)===t,p=d.filter((e=>e.option===t));return Object(K.jsxs)(Ae,{isWonOption:b,onClick:()=>l(t),hasHoverStyle:!0,children:[Object(K.jsxs)(C.b,{children:[Object(K.jsxs)(C.c,{height:19,children:[b&&Object(K.jsx)("img",{alt:"gold-medal",src:Be.a,style:{marginRight:"8px"}}),Object(K.jsx)(m.d,{fontSize:j?"14px":"16px",style:{overflow:"hidden",textOverflow:"ellipsis"},children:e})]}),Object(K.jsx)(m.d,{fontSize:j?"14px":"16px",style:{paddingLeft:"10px",flexShrink:0},children:s?Math.round(s).toLocaleString():"--"})]}),Object(K.jsx)(Le.a,{margin:"10px 0"}),Object(K.jsxs)(Re,{fontSize:12,color:i.subText,children:[Object(K.jsx)(m.d,{children:Object(K.jsx)(c.b,{id:"Wallet"})}),Object(K.jsx)(m.d,{children:Object(K.jsx)(c.b,{id:"Amount"})})]}),Object(K.jsx)(Le.a,{margin:"10px 0"}),Object(K.jsxs)(Ve,{children:[p.slice(0,5).map((e=>Object(K.jsxs)(De,{children:[Object(K.jsx)(m.d,{children:e.staker_name||e.staker}),Object(K.jsx)(m.d,{color:i.subText,children:e.power})]},e.staker))),p.length>5&&Object(K.jsx)(C.f,{justify:"center",marginTop:"4px",children:Object(K.jsx)(m.d,{fontSize:"12px",color:i.primary,children:"View more"})})]}),Object(K.jsx)(Ye,{participants:p,isOpen:t===a,onDismiss:()=>l(null),isWonOption:b,sumPower:s,option:e})]},e)})):null})}var Ke,He,Fe=g.default.div.withConfig({displayName:"VoteInformation__Wrapper",componentId:"sc-1j0m54c-0"})(["border-radius:20px;padding:12px 16px;margin-bottom:20px;",""],(e=>{var t=e.theme;return Object(g.css)(["border:1px solid ",";background-color:",";"],t.border,t.buttonBlack)})),Ze=Object(g.default)(C.b).withConfig({displayName:"VoteInformation__InfoRow",componentId:"sc-1j0m54c-1"})(["font-size:12px;padding:6px 0;"]);function Ge(e){var t=e.proposal,o=Object(N.a)(),i=Object(I.b)().account,n=Object(T.h)().stakerInfo,r=Object(x.useMemo)((()=>n?(n.delegate.toLowerCase()===(null===i||void 0===i?void 0:i.toLowerCase())?n.stake_amount:0)+n.delegated_stake_amount:0),[n,i]);return Object(K.jsxs)(Fe,{children:[Object(K.jsx)(m.d,{children:Object(K.jsx)(c.b,{id:"Vote Information"})}),Object(K.jsx)(Le.a,{margin:"10px 0"}),Object(K.jsxs)(Ze,{children:[Object(K.jsx)(m.d,{color:o.subText,children:Object(K.jsx)(c.b,{id:"Voting System"})}),Object(K.jsx)(m.d,{color:o.text,children:t.proposal_type})]}),Object(K.jsxs)(Ze,{children:[Object(K.jsx)(m.d,{color:o.subText,children:Object(K.jsx)(c.b,{id:"Start Date"})}),Object(K.jsx)(m.d,{color:o.text,children:d()(1e3*t.start_timestamp).format("DD MMMM YYYY")})]}),Object(K.jsxs)(Ze,{children:[Object(K.jsx)(m.d,{color:o.subText,children:Object(K.jsx)(c.b,{id:"End Date"})}),Object(K.jsx)(m.d,{color:o.text,children:d()(1e3*t.end_timestamp).format("DD MMMM YYYY")})]}),Object(K.jsxs)(Ze,{children:[Object(K.jsx)(m.d,{color:o.subText,children:Object(K.jsx)(c.b,{id:"Total Addresses"})}),Object(K.jsx)(m.d,{color:o.text,children:t.vote_stats.total_address_count})]}),Object(K.jsxs)(Ze,{children:[Object(K.jsx)(m.d,{color:o.subText,children:Object(K.jsx)(c.b,{id:"KNC Amount"})}),Object(K.jsx)(m.d,{color:o.text,children:Math.floor(t.vote_stats.total_vote_count).toLocaleString()})]}),Object(K.jsxs)(Ze,{children:[Object(K.jsxs)(m.d,{color:o.subText,children:[Object(K.jsx)(c.b,{id:"Your KIP Voting Power"})," ",Object(K.jsx)(k.a,{placement:"top",text:"Your KIP Voting Power is calculated by [Your Staked KNC] / [Total Voted KNC in this KIP] * 100%"})]}),Object(K.jsxs)(m.d,{color:o.text,children:[r>0&&t.vote_stats.total_vote_count>0?+(r/t.vote_stats.total_vote_count*100).toPrecision(4):0===t.vote_stats.total_vote_count?100:0,"%"]})]})]})}var qe=g.default.div.withConfig({displayName:"ProposalItem__ProposalItemWrapper",componentId:"sc-aedd2c-0"})(["content-visibility:auto;contain-intrinsic-size:60px;padding:",";border-radius:20px;box-shadow:0px 2px 34px rgba(0,0,0,0.0467931);overflow:hidden;",""],h.isMobile?"16px":"20px 24px",(e=>{var t=e.theme;return Object(g.css)(["background-color:",";"],t.background)})),Ue=g.default.div.withConfig({displayName:"ProposalItem__ProposalHeader",componentId:"sc-aedd2c-1"})(["display:flex;flex-direction:column;gap:",";z-index:1;& > *:first-child{cursor:pointer;}",""],h.isMobile?"16px":"20px",(e=>{var t=e.theme;return Object(g.css)(["background-color:",";"],t.background)})),$e=g.default.div.withConfig({displayName:"ProposalItem__ExpandButton",componentId:"sc-aedd2c-2"})(["display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:50%;",""],(e=>{var t=e.theme;return Object(g.css)(["color:",";background-color:",";"],t.subText,Object(p.g)(.8,t.subText))})),Je=Object(g.css)(["height:20px;display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:12px;padding:2px 14px;"]),Qe=g.default.div.withConfig({displayName:"ProposalItem__IDBadged",componentId:"sc-aedd2c-3"})([""," color:",";background-color:",";"],Je,(e=>e.theme.subText),(e=>e.theme.buttonBlack)),Xe=g.default.div.withConfig({displayName:"ProposalItem__StatusBadged",componentId:"sc-aedd2c-4"})([""," cursor:pointer;:hover{filter:brightness(0.8);}",""],Je,(e=>{var t=e.color,o=e.theme;return t?Object(g.css)(["color:",";background-color:",";"],t,Object(p.g)(.8,t)):Object(g.css)(["color:",";background-color:",";"],o.subText,o.buttonBlack)})),et=g.default.div.withConfig({displayName:"ProposalItem__Content",componentId:"sc-aedd2c-5"})(["gap:24px;padding:24px 0;transition:all 0.2s ease;z-index:0;display:flex;flex-direction:column;gap:20px;"]),tt=Object(g.default)(C.b).withConfig({displayName:"ProposalItem__OptionsWrapper",componentId:"sc-aedd2c-6"})(["",""],(e=>{var t=e.optionCount,o=e.theme;return t&&t>2?Object(g.css)(["flex-wrap:wrap;justify-content:flex-start;> *{width:calc(33.33% - 20px * 2 / 3);}"," ",""],o.mediaWidth.upToMedium(Ke||(Ke=Object(s.a)(["\n          > * {\n            width: calc(50% - 20px / 2);\n          }\n        "]))),o.mediaWidth.upToSmall(He||(He=Object(s.a)(["\n          > * {\n            width: 100%;\n          }\n        "])))):""})),ot=e=>{var t=e.status,o=e.onVoteClick,i=e.errorMessage,n=e.voted,r=Object(I.b)().account,s=Object(L.E)(),a=Object(x.useRef)(!0);return Object(x.useEffect)((()=>{var e=setTimeout((()=>{a.current=!1}),1500);return()=>{clearTimeout(e)}}),[]),Object(K.jsx)(K.Fragment,{children:t===oe.b.Active?r?Object(K.jsx)(w.i,{width:h.isMobile?"100%":"fit-content",minWidth:"200px",fontWeight:500,fontSize:"14px",onClick:o,disabled:a.current||!!i,children:i&&!a.current?i:n?Object(K.jsx)(c.b,{id:"Update Vote"}):Object(K.jsx)(c.b,{id:"Vote now"})}):Object(K.jsx)(w.g,{width:h.isMobile?"100%":"200px",onClick:s,children:Object(K.jsx)(c.b,{id:"Connect Wallet"})}):Object(K.jsx)(K.Fragment,{})})};function it(e){var t,o=e.proposal,i=e.showByDefault,n=e.onBadgeClick,s=e.voteCallback,l=Object(N.a)(),b=Object(I.b)().account,j=Object(T.h)(),p=j.votesInfo,u=j.stakerInfo,O=u?(u.delegate.toLowerCase()===(null===b||void 0===b?void 0:b.toLowerCase())?u.stake_amount:0)+u.delegated_stake_amount:0,g=!!u&&u.delegate.toLowerCase()!==(null===b||void 0===b?void 0:b.toLowerCase()),f=Object(x.useState)(!!i),v=Object(r.a)(f,2),w=v[0],_=v[1],k=Object(x.useState)([]),S=Object(r.a)(k,2),z=S[0],M=S[1],P=Object(x.useState)(null),B=Object(r.a)(P,2),L=B[0],W=B[1],A=Object(x.useState)(!1),V=Object(r.a)(A,2),R=V[0],Y=V[1];Object(x.useEffect)((()=>{g?W(a.a._("You already delegated your Voting power")):O?0===(null===z||void 0===z?void 0:z.length)?W(a.a._("Not selected option")):W(null):W(a.a._("You dont have Voting power"))}),[z.length,null===u||void 0===u?void 0:u.stake_amount,g,O]);var E=Object(x.useRef)(),H=()=>{switch(o.status){case oe.b.Pending:return l.warning;case oe.b.Active:return l.blue;case oe.b.Approved:case oe.b.Executed:return l.primary;case oe.b.Canceled:case oe.b.Failed:return l.red;default:return l.blue}},F=Object(D.b)().switchToEthereum,Z=Object(x.useCallback)((()=>{F().then((()=>{z.length>0&&Y(!0)}))}),[F,Y,z]),G=Object(x.useCallback)((()=>{Y(!1),z.length>0&&(null===s||void 0===s||s(o.proposal_id,z.map((e=>e+1)).reduce(((e,t)=>e+(1<<t-1)),0)).then((()=>{M([])})))}),[z,o.proposal_id,s]),q=Object(x.useMemo)((()=>null===p||void 0===p?void 0:p.find((e=>e.proposal_id===o.proposal_id))),[p,o.proposal_id]);Object(x.useEffect)((()=>{M([])}),[q]);var U=Object(x.useCallback)((e=>{if(o.proposal_type===oe.c.BinaryProposal&&M([e]),o.proposal_type===oe.c.GenericProposal)if(0===z.length)M([e]);else{var t=[...z]||!1,i=t.indexOf(e);-1!==i?t.splice(i,i+1):t.push(e),M(t)}}),[o.proposal_type,M,z]),$=o.status===oe.b.Active,J=Object(x.useMemo)((()=>Object(K.jsx)(tt,{gap:h.isMobile?"16px":"20px",flexDirection:h.isMobile?"column":"row",optionCount:o.options.length,children:o.options.map(((e,t)=>{var i,n,r,s=(null===q||void 0===q||null===(i=q.options)||void 0===i?void 0:i.includes(t))||!1,c=null===o||void 0===o||null===(n=o.vote_stats)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.find((e=>e.option===t));return Object(K.jsx)(Se,{disabled:!$,percent:c?c.vote_count/o.vote_stats.total_vote_count*100:0,title:e,checked:(null===z||void 0===z?void 0:z.includes(t))||s,onOptionClick:()=>U(t),type:o.status===oe.b.Pending?"Pending":null!==z&&void 0!==z&&z.includes(t)?"Choosing":s?"Active":"Finished",isCheckBox:o.proposal_type===oe.c.GenericProposal,id:t},e)}))})),[o,z,null===q||void 0===q?void 0:q.options,U,$]);return Object(K.jsxs)(qe,{children:[Object(K.jsxs)(Ue,{children:[Object(K.jsxs)(C.b,{onClick:()=>_((e=>!e)),children:[Object(K.jsx)(m.d,{children:Object(K.jsx)(c.b,{id:"{0}",values:{0:o.title}})}),Object(K.jsx)($e,{children:Object(K.jsx)(ne.a,{size:24,style:{transition:"all 0.2s ease",transform:w?"rotate(180deg)":void 0}})})]}),(w||$)&&h.isMobile&&Object(K.jsxs)(C.b,{children:[Object(K.jsxs)(C.c,{gap:"8px",flexWrap:"wrap",children:[Object(K.jsx)(Xe,{color:H(),onClick:()=>null===n||void 0===n?void 0:n(o.status),children:o.status}),Object(K.jsxs)(Qe,{children:["ID #",o.proposal_id]})]}),$&&Object(K.jsxs)(C.c,{gap:"4px",flexShrink:0,children:[Object(K.jsx)(m.d,{color:l.subText,fontSize:12,children:Object(K.jsx)(c.b,{id:"Voting ends in:"})}),Object(K.jsx)(Xe,{color:l.primary,children:St(o.end_timestamp-Date.now()/1e3)})]})]}),(w||$)&&J,Object(K.jsxs)(C.b,{children:[$?Object(K.jsx)(y.c,{gap:"4px",children:Object(K.jsx)(ot,{status:o.status,onVoteClick:Z,errorMessage:L,voted:!(null===q||void 0===q||!q.options)&&q.options.length>0})}):o.status===oe.b.Pending?Object(K.jsxs)(C.c,{gap:"4px",children:[Object(K.jsx)(m.d,{color:l.subText,fontSize:12,children:Object(K.jsx)(c.b,{id:"Voting starts in:"})}),Object(K.jsx)(Xe,{color:l.primary,children:St(o.start_timestamp-Date.now()/1e3)})]}):Object(K.jsxs)(m.d,{color:l.subText,fontSize:12,children:["Ended ",d()(1e3*o.end_timestamp).format("DD MMM YYYY")]}),!((w||$)&&h.isMobile)&&Object(K.jsxs)(y.c,{gap:"8px",children:[Object(K.jsxs)(C.f,{gap:"8px",justify:"flex-end",children:[Object(K.jsx)(Xe,{color:H(),onClick:()=>null===n||void 0===n?void 0:n(o.status),children:o.status}),Object(K.jsxs)(Qe,{children:["ID #",o.proposal_id]})]}),$&&Object(K.jsxs)(C.f,{gap:"4px",children:[Object(K.jsx)(m.d,{color:l.subText,fontSize:12,children:Object(K.jsx)(c.b,{id:"Voting ends in:"})}),Object(K.jsx)(Xe,{color:l.primary,children:St(o.end_timestamp-Date.now()/1e3)})]})]})]})]}),w&&Object(K.jsxs)(et,{ref:E,children:[Object(K.jsxs)(C.f,{align:"flex-start",gap:"16px",children:[Object(K.jsxs)("div",{style:{flex:1},children:[(null===o||void 0===o?void 0:o.link)&&"0x0"!==o.link&&Object(K.jsxs)("a",{href:null!==(t=o.link)&&void 0!==t&&t.startsWith("http")?o.link:"http://"+o.link,style:{marginBottom:"12px",width:"fit-content"},target:"_blank",rel:"noreferrer",children:[Object(K.jsx)("span",{style:{marginRight:"4px"},children:Object(K.jsx)(re.a,{size:14})}),Object(K.jsx)("span",{style:{fontSize:"14px",verticalAlign:"top"},children:Object(K.jsx)(c.b,{id:"Github"})})]}),Object(K.jsx)(m.d,{fontSize:h.isMobile?14:16,lineHeight:h.isMobile?"18px":"22px",color:l.subText,marginBottom:"20px",dangerouslySetInnerHTML:{__html:o.desc.replaceAll("\\n","").replaceAll("\\r","")},style:{wordBreak:"break-word"}}),h.isMobile&&Object(K.jsx)(Ge,{proposal:o})]}),!h.isMobile&&Object(K.jsx)("div",{style:{width:"368px"},children:Object(K.jsx)(Ge,{proposal:o})})]}),Object(K.jsx)(Ee,{proposalId:o.proposal_id})]}),o.status===oe.b.Active&&Object(K.jsx)(ae,{isShow:R,title:o.title,toggle:()=>Y(!1),options:z.length>0?z.map((e=>o.options[e])).join(", "):"",onVoteConfirm:G})]})}var nt=u.a.memo(it),rt=o("./src/components/Icons/Search.tsx"),st=g.default.div.withConfig({displayName:"SearchProposal__Wrapper",componentId:"sc-r3jius-0"})(["font-size:14px;font-weight:500;border-radius:20px;padding:6px 12px;position:relative;display:flex;",""],(e=>{var t=e.theme;return Object(g.css)(["background-color:",";color:",";"],t.background,t.border)})),ct=g.default.input.withConfig({displayName:"SearchProposal__SearchInput",componentId:"sc-r3jius-1"})(["border:none;outline:none;background-color:transparent;line-height:18px;width:min(400px,35vw);",""],(e=>{var t=e.theme;return Object(g.css)(["color:",";::placeholder{color:",";}"],t.subText,t.border)}));function at(e){var t=e.search,o=e.setSearch;return Object(K.jsxs)(st,{children:[Object(K.jsx)(ct,{placeholder:a.a._("Search proposals"),value:t,onChange:e=>null===o||void 0===o?void 0:o(e.target.value)}),Object(K.jsx)(rt.a,{})]})}var lt=o("./src/hooks/useOnClickOutside.tsx"),dt=g.default.div.withConfig({displayName:"SelectProposalStatus__Wrapper",componentId:"sc-1tigzk7-0"})(["position:relative;"]),bt=g.default.div.withConfig({displayName:"SelectProposalStatus__Select",componentId:"sc-1tigzk7-1"})(["cursor:pointer;border-radius:20px;display:flex;align-items:center;justify-content:space-between;font-size:14px;font-weight:500;padding:8px 12px;width:min(140px,30vw);height:36px;z-index:101;position:inherit;",""],(e=>{var t=e.theme;return Object(g.css)(["background-color:",";color:",";:hover{background-color:",";}"],t.background,t.border,Object(p.b)(.1,t.background))})),jt=g.default.div.withConfig({displayName:"SelectProposalStatus__DropdownList",componentId:"sc-1tigzk7-2"})(["border-radius:8px;transition:0.2s all ease;position:absolute;left:0;display:flex;flex-direction:column;padding:8px;width:140px;z-index:100;overflow:hidden;font-size:14px;font-weight:500;",""],(e=>{var t=e.theme,o=e.show;return Object(g.css)(["background-color:",";color:",";",";"],t.tableHeader,t.subText,o?Object(g.css)(["opacity:1;max-height:500px;top:calc(100% + 4px);"]):Object(g.css)(["opacity:0;top:0;max-height:0;"]))})),pt=g.default.div.withConfig({displayName:"SelectProposalStatus__DropdownItem",componentId:"sc-1tigzk7-3"})(["padding:6px 8px;border-radius:4px;cursor:pointer;",""],(e=>{var t=e.theme,o=e.active;return Object(g.css)([":hover{background-color:",";}",""],t.buttonGray,o&&"color: ".concat(t.primary))}));function xt(e){var t=e.status,o=e.setStatus,i=Object(N.a)(),n=Object(x.useState)(!1),s=Object(r.a)(n,2),a=s[0],l=s[1],d=Object(x.useRef)(null);return Object(lt.a)(d,(()=>l(!1))),Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)(dt,{ref:d,children:[Object(K.jsxs)(bt,{onClick:()=>l((e=>!e)),children:[Object(K.jsx)(m.d,{color:t&&"All"!==t?i.text:void 0,children:t||"All"}),Object(K.jsx)(ne.a,{size:16})]}),Object(K.jsxs)(jt,{show:a,children:[Object(K.jsx)(pt,{active:!t,onClick:()=>{l(!1),null===o||void 0===o||o("")},children:Object(K.jsx)(c.b,{id:"All"})},"All"),Object.values(oe.b).map((e=>Object(K.jsx)(pt,{active:e===t,onClick:()=>{l(!1),null===o||void 0===o||o(e)},children:e},e)))]})]})})}var ut=g.default.div.withConfig({displayName:"ProposalListComponent__Wrapper",componentId:"sc-nqkcwf-0"})(["display:flex;flex-direction:column;align-items:stretch;gap:12px;margin-top:10px;"]),ht=g.default.a.withConfig({displayName:"ProposalListComponent__TextButton",componentId:"sc-nqkcwf-1"})(["display:flex;align-items:center;gap:4px;font-size:14px;cursor:pointer;",""],(e=>{var t=e.theme;return Object(g.css)(["color:",";:hover{color:"," !important;}"],t.subText,Object(p.b)(.2,t.primary))})),Ot=Object(g.default)(C.c).withConfig({displayName:"ProposalListComponent__HistoryButton",componentId:"sc-nqkcwf-2"})(["justify-content:flex-end;gap:4px;cursor:pointer;color:",";:hover{color:",";}"],(e=>e.theme.subText),(e=>{var t=e.theme;return Object(p.b)(.2,t.primary)}));function mt(e){var t=e.voteCallback,o=Object(N.a)(),i=Object(I.b)().account,n=Object(T.h)().proposals,s=Object(x.useState)(),a=Object(r.a)(s,2),l=a[0],d=a[1],b=Object(x.useState)(),j=Object(r.a)(b,2),p=j[0],u=j[1],O=Object(x.useMemo)((()=>(null===n||void 0===n?void 0:n.filter((e=>l?e.status===l:!p||e.title.toLowerCase().includes(p.toLowerCase()))).sort(((e,t)=>t.proposal_id-e.proposal_id)).sort(((e,t)=>e.status===oe.b.Active?-1:t.status===oe.b.Active?1:0)))||[]),[n,l,p]),g=Object(L.x)(B.a.YOUR_TRANSACTIONS_STAKE_KNC);return Object(K.jsxs)(ut,{children:[Object(K.jsxs)(C.b,{marginBottom:"10px",children:[Object(K.jsx)(m.b,{children:Object(K.jsx)(m.d,{color:o.primary,fontSize:20,children:Object(K.jsx)(c.b,{id:"KIPs"})})}),Object(K.jsxs)(m.b,{style:{gap:"30px"},children:[i&&Object(K.jsxs)(Ot,{onClick:g,children:[Object(K.jsx)($.a,{}),Object(K.jsxs)(m.d,{fontSize:14,hidden:h.isMobile,children:[" ",Object(K.jsx)(c.b,{id:"History"})]})]}),Object(K.jsxs)(ht,{href:"https://gov.kyber.org/",target:"_blank",rel:"noreferrer",children:[Object(K.jsx)(U,{})," ",Object(K.jsx)(m.d,{hidden:h.isMobile,children:Object(K.jsx)(c.b,{id:"Forum"})})]}),Object(K.jsxs)(ht,{href:"https://docs.kyberswap.com/kyber-dao/kyber-dao-introduction",target:"_blank",rel:"noreferrer",children:[Object(K.jsx)(q,{}),Object(K.jsx)(m.d,{hidden:h.isMobile,children:Object(K.jsx)(c.b,{id:"FAQ"})})]})]})]}),Object(K.jsxs)(C.b,{children:[Object(K.jsx)(xt,{status:l,setStatus:d}),Object(K.jsx)(at,{search:p,setSearch:u})]}),n?O.length>0?O.map(((e,o)=>Object(K.jsx)(nt,{proposal:e,showByDefault:0===o,onBadgeClick:d,voteCallback:t},e.proposal_id.toString()))):Object(K.jsxs)(m.b,{flexDirection:"column",justifyContent:"center",alignItems:"center",color:o.subText,style:{height:"200px",gap:"12px"},children:[Object(K.jsx)(G.a,{size:24,color:o.subText}),Object(K.jsx)(m.d,{color:o.subText,children:Object(K.jsx)(c.b,{id:"No proposal found"})})]}):Object(K.jsx)(m.b,{flexDirection:"column",justifyContent:"center",alignItems:"center",color:o.subText,style:{height:"200px",gap:"12px"},children:Object(K.jsx)(te,{})}),Object(K.jsx)(ie.a,{})]})}var gt,ft,vt=u.a.memo(mt);d.a.extend(j.a);var wt=g.default.div.withConfig({displayName:"Vote__Wrapper",componentId:"sc-118i368-0"})(["width:100%;background-image:url(",");background-size:100% auto;background-repeat:repeat-y;z-index:1;background-color:transparent;background-position:top;"],f.a),yt=g.default.div.withConfig({displayName:"Vote__Container",componentId:"sc-118i368-1"})(["width:1224px;margin:auto;min-height:1200px;padding:48px 0;display:flex;flex-direction:column;gap:12px;",""],(e=>e.theme.mediaWidth.upToLarge(gt||(gt=Object(s.a)(["\n    width:100%;\n    padding: 48px 16px;\n  "]))))),_t=g.default.div.withConfig({displayName:"Vote__Card",componentId:"sc-118i368-2"})(["padding:20px 24px;border-radius:20px;"," ",""],(e=>{var t=e.theme;return Object(g.css)(["background-color:",";flex:1;"],Object(p.g)(.3,t.buttonGray))}),(e=>{var t=e.theme;return e.hasGreenBackground&&(t.darkMode?Object(g.css)(["background-image:url('","');background-size:cover;"],v):Object(g.css)(["background:radial-gradient(#daebe6,#daf1ec);"]))})),kt=Object(g.default)(C.b).withConfig({displayName:"Vote__CardGroup",componentId:"sc-118i368-3"})(["width:100%;gap:24px;margin-bottom:12px;align-items:stretch;",""],(e=>e.theme.mediaWidth.upToMedium(ft||(ft=Object(s.a)(["\n    flex-direction: column;\n  "]))))),Ct=g.default.span.withConfig({displayName:"Vote__TabReward",componentId:"sc-118i368-4"})(["cursor:pointer;",";:hover{filter:brightness(1.2);}"],(e=>{var t=e.active,o=e.theme;return t&&"color: ".concat(o.primary)}));function St(e){if(e<60)return e+"s";for(var t=[[Math.floor(e/31536e3),"years"],[Math.floor(e%31536e3/86400)," days"],[Math.floor(e%31536e3%86400/3600),"h"],[Math.floor(e%31536e3%86400%3600/60),"m"]],o="",i=0,n=t.length;i<n;i++)0!==t[i][0]&&(o+=" "+t[i][0]+(1===t[i][0]&&t[i][1]>1?t[i][1].toString().substring(0,t[i][1].toString().length-1):t[i][1]));return o.trim()}var zt,It=e=>void 0===e?"--":0===e?"0%":e<1e-4?"<0.0001 %":e<1?e.toFixed(4)+" %":e.toPrecision(4)+" %";function Tt(){var e,t,o,s=Object(N.a)(),l=Object(I.b)().account,d=Object(P.c)().mixpanelHandler,b=Object(T.h)(),j=b.daoInfo,u=b.remainingCumulativeAmount,g=b.claimedRewardAmount,f=b.userRewards,v=b.stakerInfo,Y=b.stakerInfoNextEpoch,E=Object(M.a)(),H=E.knc,F=E.usd,G=E.kncPriceETH,q=Object(T.b)().claim,U=Object(T.g)().vote,$=Object(D.b)().switchToEthereum,J=!!u&&!u.eq(0),Q=Object(L.x)(B.a.KYBER_DAO_CLAIM),X=Object(L.E)(),ee=Object(x.useState)(zt.YourReward),te=Object(r.a)(ee,2),oe=te[0],ie=te[1],ne=Object(x.useState)(!1),re=Object(r.a)(ne,2),se=re[0],ce=re[1],ae=Object(x.useState)(!1),le=Object(r.a)(ae,2),de=le[0],be=le[1],je=Object(x.useState)(""),pe=Object(r.a)(je,2),xe=pe[0],ue=pe[1],he=Object(x.useState)(void 0),Oe=Object(r.a)(he,2),me=Oe[0],ge=Oe[1],fe=Object(x.useState)(),ve=Object(r.a)(fe,2),we=ve[0],ye=ve[1],_e=v?(null===v||void 0===v?void 0:v.stake_amount)+(null===v||void 0===v?void 0:v.pending_stake_amount):0,ke=Object(x.useMemo)((()=>v?(v.delegate.toLowerCase()===(null===l||void 0===l?void 0:l.toLowerCase())?v.stake_amount:0)+v.delegated_stake_amount:0),[v,l]),Ce=Object(x.useMemo)((()=>Y?(Y.delegate.toLowerCase()===(null===l||void 0===l?void 0:l.toLowerCase())?Y.stake_amount:0)+Y.delegated_stake_amount:0),[Y,l]),Se=v&&v.stake_amount>0,ze=v&&v.pending_stake_amount>0,Ie=v&&v.delegated_stake_amount>0,Te=!(!v||!l)&&(null===(e=v.delegate)||void 0===e?void 0:e.toLowerCase())!==l.toLowerCase(),Me=Object(x.useCallback)((()=>{$().then((()=>{d(P.a.KYBER_DAO_CLAIM_CLICK),Q()}))}),[Q,d,$]),Pe=Object(x.useCallback)(Object(n.a)(Object(i.a)().mark((function e(){var t,o,n,r,s,c,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&f.userReward&&l){e.next=2;break}return e.abrupt("return");case 2:t=f.cycle,o=f.userReward,n=o.index,r=o.tokens,s=o.cumulativeAmounts,c=o.proof,ue(a.a._("Claming {0} KNC",{0:Object(V.f)(u)})),ce(!0),be(!0),Q(),d={cycle:t,index:n,address:l,tokens:r,cumulativeAmounts:s,merkleProof:c,formatAmount:Object(V.f)(u)},q(d).then((e=>{be(!1),ge(e)})).catch((e=>{ye(null===e||void 0===e?void 0:e.message),be(!1),ge(void 0)}));case 10:case"end":return e.stop()}}),e)}))),[f,l,q,u,Q]),Ne=Object(x.useCallback)(function(){var e=Object(n.a)(Object(i.a)().mark((function e(t,o){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(a.a._("Vote submitting")),ce(!0),be(!0),e.prev=3,e.next=6,U(t,o);case 6:return n=e.sent,be(!1),ge(n),e.abrupt("return",Promise.resolve(!0));case 12:return e.prev=12,e.t0=e.catch(3),ce(!1),ye(null===e.t0||void 0===e.t0?void 0:e.t0.message),ge(void 0),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,o){return e.apply(this,arguments)}}(),[U]);return Object(K.jsx)(wt,{children:Object(K.jsxs)(yt,{children:[Object(K.jsxs)(C.b,{marginBottom:h.isMobile?0:36,children:[Object(K.jsx)(m.d,{fontSize:h.isMobile?22:24,lineHeight:"28px",fontWeight:500,flex:1,children:Object(K.jsx)(c.b,{id:"Vote - Earn Rewards"})}),Object(K.jsxs)(C.c,{gap:"4px",children:[Object(K.jsx)(R.a,{size:20}),Object(K.jsxs)(m.d,{fontSize:16,children:["KNC: $",G?G.toPrecision(4):"--"]})]})]}),Object(K.jsxs)(kt,{children:[Object(K.jsx)(_t,{children:Object(K.jsxs)(y.a,{children:[Object(K.jsx)(m.d,{color:s.subText,fontSize:"14px",marginBottom:"20px",children:Object(K.jsx)(c.b,{id:"Total Staked KNC"})}),Object(K.jsx)(m.d,{fontSize:20,marginBottom:"8px",fontWeight:500,children:j?Object(A.j)(Math.round(j.total_staked))+" KNC":"--"}),Object(K.jsx)(m.d,{fontSize:12,color:s.subText,children:j&&G?"~"+Object(A.j)(G*Math.round(j.total_staked))+" USD":""})]})}),Object(K.jsx)(_t,{children:Object(K.jsxs)(y.a,{children:[Object(K.jsx)(m.d,{color:s.subText,fontSize:"14px",marginBottom:"20px",children:Object(K.jsx)(c.b,{id:"Total Voting Rewards"})}),Object(K.jsxs)(m.d,{fontSize:20,marginBottom:"8px",fontWeight:500,children:[null!==(t=null===H||void 0===H?void 0:H.toLocaleString())&&void 0!==t?t:"--"," KNC"]}),Object(K.jsxs)(m.d,{fontSize:12,color:s.subText,children:["~",null!==(o=null===F||void 0===F?void 0:F.toLocaleString())&&void 0!==o?o:"--"," USD"]})]})}),Object(K.jsx)(_t,{children:Object(K.jsxs)(y.a,{children:[Object(K.jsxs)(m.d,{color:s.subText,fontSize:"14px",marginBottom:"20px",children:[Object(K.jsx)(c.b,{id:"Your Voting Power"})," ",Object(K.jsx)(k.a,{fontSize:12,placement:"top",text:a.a._("Your voting power is calculated by\n[Your Staked KNC] / [Total Staked KNC] * 100%")})]}),Object(K.jsxs)(C.b,{marginBottom:"8px",children:[Object(K.jsxs)(C.c,{children:[Object(K.jsxs)(m.d,{fontSize:20,color:ze&&!Se?s.border:s.text,fontWeight:500,children:[It((null===j||void 0===j?void 0:j.total_staked)&&ke&&ke/j.total_staked*100),ze&&Se||Ie?Object(K.jsx)(k.a,{fontSize:12,placement:"top",width:"fit-content",color:s.warning,size:14,text:Object(K.jsxs)(y.a,{gap:"8px",children:[Object(K.jsx)(m.d,{color:s.subText,lineHeight:"14px",style:{width:"260px"},children:ze?Object(K.jsx)(c.b,{id:"A portion of your voting power can only be used from the next Epoch onward"}):Object(K.jsx)(c.b,{id:"You have been delegated voting power from other address(es)"})}),Object(K.jsx)(m.d,{color:s.text,children:Object(K.jsx)(c.b,{id:"Voting Power this Epoch: {0}",values:{0:It(ke&&(null===j||void 0===j?void 0:j.total_staked)&&ke/j.total_staked*100)}})}),null!==v&&void 0!==v&&v.delegated_stake_amount?Object(K.jsx)(m.d,{color:s.text,children:Object(K.jsx)(c.b,{id:"Delegated Voting Power: {0}",values:{0:It((null===v||void 0===v?void 0:v.delegated_stake_amount)&&(null===j||void 0===j?void 0:j.total_staked)&&(null===v||void 0===v?void 0:v.delegated_stake_amount)/j.total_staked*100)}})}):null,Object(K.jsx)(m.d,{color:s.warning,children:Object(K.jsx)(c.b,{id:"Voting Power next Epoch: {0}",values:{0:It(Ce&&(null===j||void 0===j?void 0:j.total_staked)&&Ce/j.total_staked*100)}})})]})}):null,_e&&0===(null===v||void 0===v?void 0:v.stake_amount)&&!Te?Object(K.jsx)(k.a,{fontSize:12,size:14,color:s.subText,placement:"top",text:a.a._("You can only vote from the next Epoch onward")}):null]}),_e?null:Object(K.jsx)(k.a,{placement:"top",fontSize:12,text:a.a._("You have to stake KNC to be able to vote and earn voting reward")})]}),Te&&Object(K.jsx)(S.a,{text:a.a._("You have already delegated your voting power to this address"),placement:"top",children:Object(K.jsxs)(C.c,{gap:"4px",color:s.subText,children:[Object(K.jsx)(_.a,{size:14}),Object(K.jsx)(m.d,{fontSize:12,children:(null===v||void 0===v?void 0:v.delegate.slice(0,5))+"..."+(null===v||void 0===v?void 0:v.delegate.slice(-4))})]})})]}),Object(K.jsxs)(C.b,{children:[Object(K.jsx)(m.d,{fontSize:12,color:s.subText,children:_e?(+_e.toFixed(2)).toLocaleString()+" KNC Staked":"--"}),Object(K.jsx)(W.k,{to:"/kyberdao/stake-knc",style:{fontSize:"12px",whiteSpace:"nowrap"},children:Object(K.jsx)(c.b,{id:"Stake KNC \u2197"})})]})]})}),Object(K.jsx)(_t,{hasGreenBackground:J,children:Object(K.jsxs)(y.a,{justify:"space-between",children:[Object(K.jsxs)(m.d,{color:s.subText,fontSize:"14px",marginBottom:20,children:[Object(K.jsx)(Ct,{active:oe===zt.YourReward,onClick:()=>ie(zt.YourReward),children:Object(K.jsx)(c.b,{id:"Your Reward"})})," ","|"," ",Object(K.jsx)(Ct,{active:oe===zt.ClaimedReward,onClick:()=>ie(zt.ClaimedReward),children:Object(K.jsx)(c.b,{id:"Claimed Reward"})})]}),l?oe===zt.YourReward?Object(K.jsxs)(C.b,{children:[Object(K.jsxs)(y.a,{children:[Object(K.jsxs)(m.d,{fontSize:20,marginBottom:"8px",fontWeight:500,children:[Object(V.f)(u,void 0,2)," KNC"]}),Object(K.jsxs)(m.d,{fontSize:12,color:s.subText,children:[(+(+Object(V.f)(u)*+(G||"0")).toFixed(2)).toLocaleString()," ","USD"]})]}),Object(K.jsx)(w.i,{width:"75px",disabled:!J,style:{filter:"drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.16))"},onClick:Me,children:Object(K.jsx)(c.b,{id:"Claim"})})]}):Object(K.jsx)(C.b,{children:Object(K.jsxs)(y.a,{children:[Object(K.jsxs)(m.d,{fontSize:20,marginBottom:"8px",fontWeight:500,children:[(+Object(V.f)(g,void 0,2)).toLocaleString()," KNC"]}),Object(K.jsxs)(m.d,{fontSize:12,color:s.subText,children:[(+(+Object(V.f)(g)*(G||0)).toFixed(2)).toLocaleString()," ","USD"]})]})}):Object(K.jsx)(w.g,{onClick:X,children:Object(K.jsx)(c.b,{id:"Connect Your Wallet"})})]})})]}),Object(K.jsxs)(C.a,{fontSize:12,flexDirection:h.isMobile?"column":"row",alignItems:h.isMobile?"start !important":"center",gap:h.isMobile?"4px":"0px",children:[Object(K.jsxs)(C.c,{children:[Object(K.jsx)(m.d,{children:Object(K.jsx)(c.b,{id:"In Progress: Epoch {0}",values:{0:j?j.current_epoch:"--"}})}),Object(K.jsxs)(m.a,{backgroundColor:Object(p.g)(.8,s.primary),color:s.primary,padding:"2px 8px",margin:"0px 4px",style:{borderRadius:"8px",display:"flex",alignItems:"center",gap:"3px"},children:[Object(K.jsx)(O.a,{size:"12px"})," ",j?St(j.first_epoch_start_timestamp+j.current_epoch*j.epoch_period_in_seconds-Date.now()/1e3)+" left":"--:--:--"]})]}),Object(K.jsx)(m.d,{children:Object(K.jsx)(c.b,{id:"Vote on current epoch proposals to get your full reward."})})]}),Object(K.jsx)(m.d,{color:s.subText,fontStyle:"italic",fontSize:12,hidden:h.isMobile,children:Object(K.jsx)(c.b,{id:"Note: Voting on KyberDAO is only available on Ethereum chain"})}),Object(K.jsx)(vt,{voteCallback:Ne}),Object(K.jsx)(D.a,{featureText:a.a._("This action")}),Object(K.jsx)(Z,{amount:Object(V.f)(u),onConfirmClaim:Pe}),Object(K.jsx)(z.e,{isOpen:se,onDismiss:()=>ce(!1),attemptingTxn:de,hash:me,pendingText:xe,content:()=>we?Object(K.jsx)(z.c,{message:we,onDismiss:()=>ce(!1)}):Object(K.jsx)(K.Fragment,{})})]})})}!function(e){e[e.YourReward=0]="YourReward",e[e.ClaimedReward=1]="ClaimedReward"}(zt||(zt={}))}}]);